/*! For license information please see pagenote.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=21)}([function(t,e,n){var r=n(17);"string"==typeof r&&(r=[[t.i,r,""]]);var o={attrs:{pagenote:"css"},hmr:!0,transform:void 0,insertInto:void 0};n(19)(r,o);r.locals&&(t.exports=r.locals)},function(t,e){t.exports=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(16);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(9),o=n(2);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){var r=n(22);t.exports=r.default},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e,n){var r=n(12),o=n(13),i=n(14),a=n(15);t.exports=function(t){return r(t)||o(t)||i(t)||a()}},function(t,e,n){var r=n(10);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,n){var r=n(10);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,"@media screen and (max-width: 720px){.l5z .c3X{transform:translate(0, 0) scale(0.59) !important;opacity:1}._1FS{width:40px}}._1FS{display:none;position:fixed;right:-100px;z-index:99999;top:0;width:168px;border:1px solid #afafaf;user-select:none;background:#fff;transition:width 0.5s ease-out}._1FS._1-8{display:block}._1FS.kz8{background:transparent;border:none;width:18px;right:10px;overflow:hidden;transition:width 0.5s ease-out}._1FS.kz8 .V5y{border:none;background:transparent}._1FS.kz8 ._1e4{transform:rotate(180deg)}._1FS.kz8 ._3Nx{white-space:nowrap;height:8px;border-left-width:0;width:8px;background:var(--color);border-radius:8px;box-sizing:border-box;padding:0 0 0 8px;margin-bottom:10px}._1FS.kz8 ._3Nx.vRo{transform:translateX(0) scale(2)}._1FS ._1e4{transition:all 1.3s ease-out;transform:rotate(0deg)}._1FS ._1TE{background:#757575;color:#fff;cursor:pointer}._1FS .V5y{display:flex;justify-content:space-between;background:#efefef;border-bottom:1px solid #e6e6e6}._1FS .V5y ._3fJ{position:relative;padding:2px 0;cursor:pointer}._1FS .V5y ._3PR{display:none;transition:height 0.1s ease-out}._1FS .V5y ._3PR._1Ve{display:flex}._1FS .V5y ._50P{cursor:move}._2Zd{padding:8px 0 8px 6px}._2Zd._2ou{padding:0}._2Zd._2ou ._3Nx{border-top:1px solid #e6e6e6;border-right:1px solid #e6e6e6;border-bottom:1px solid #e6e6e6}._3Nx{display:block;font-size:12px;left:0;top:0;width:100%;height:20px;line-height:20px;overflow:hidden;text-align:left;cursor:pointer;border-left:4px solid var(--color);padding:0 6px;box-sizing:border-box;background-color:#fff;margin-bottom:5px;white-space:nowrap;text-overflow:ellipsis;color:#333;transition:all 0.3s}._3Nx:last-child{margin-bottom:0}._3Nx._3kC,._3Nx:hover{max-height:5em;z-index:1}._3Nx:hover{background-color:#fbfcff;user-select:auto;z-index:2 !important}._3Nx._3Ow{border:1px solid red}._3Nx.vRo{z-index:1;width:calc(100% + 14px);height:auto;max-height:5em;transform:translateX(-14px);border-radius:5px 0 0 5px;border-left:8px solid var(--color);background-color:#fbfcff}._1fF{z-index:9999}._1fF:hover{z-index:99999}._1fF._2N_ ._1Zj{cursor:move;transform:scale(2);animation:none;box-shadow:0px 0px 0px 1px #fff}._1fF._2N_ ._1Zj:before,._1fF._2N_ ._1Zj:after{display:none}._1fF._2N_ ._13E:hover ._2Je{opacity:1;transform:scale(2) translate(16px, 0px)}._1fF._2N_ ._13E:hover ._1gB{opacity:1;transform:scale(2) translate(-16px, 0px)}._1fF ._13E:hover ._1Zj{transform:scale(2)}._1fF ._2Je,._1fF ._1gB{position:absolute;opacity:0;top:6px;left:-7px;width:13px;height:13px;cursor:pointer;border-radius:2px;transition:all 0.5s}._1fF ._2Je svg,._1fF ._1gB svg{vertical-align:super;box-shadow:1px 1px 3px 0px #d0cfc6;border-radius:2px;background:#fff}._1fF ._1Zj{position:absolute;z-index:1;width:13px;height:13px;border:1px solid var(--bg-color);top:6px;left:-7px;border-radius:50%;color:#fff;cursor:pointer;animation:tRz 1.5s linear infinite;animation-direction:alternate;transition:0.3s;background-color:var(--bg-color);background-size:cover;background-repeat:no-repeat;background-position:center}._1fF ._1Zj._2XM{border:1px solid red}._1fF ._1Zj:before{content:'';position:absolute;left:-1px;top:6px;width:9px;height:1px;border-left:solid 3px currentColor;border-right:solid 3px currentColor}._1fF ._1Zj:after{content:'';position:absolute;left:6px;top:-1px;width:1px;height:9px;border-top:solid 3px currentColor;border-bottom:solid 3px currentColor}._1fF ._1Zj:hover{transform:scale(2);animation:none}._1fF ._1Zj:hover+._1z1{display:block}._1fF ._1z1{display:none;box-sizing:border-box;overflow:hidden;width:0;height:0;min-height:20px;font-size:14px;border-radius:5px;background:radial-gradient(26px 26px at left 13px, transparent 50%, var(--bg-color) 50%);box-shadow:0px 0px 1px 2px #fff;transition:all 0.2s}._1fF ._1z1._1s7{display:block;width:auto;height:auto}._1fF ._1z1._1s7:hover,._1fF ._1z1._1s7:focus{z-index:99999999;border-radius:0 0 5px 5px}._1fF ._1z1._1s7:hover .eQ7,._1fF ._1z1._1s7:focus .eQ7{opacity:1;border-bottom:1px solid #fff;transform:translateY(-20px)}._1fF ._1z1 ._1zy{display:none;box-sizing:border-box;width:100%;min-width:200px;max-width:280px;padding:2px 14px 2px 20px;border-radius:6px;user-select:none}._1fF ._1z1 ._1zy._16J{display:block}._1fF ._1z1 ._1zy:focus,._1fF ._1z1 ._1zy._2G5{outline:1px solid #eee;user-select:all}._1fF ._1z1 ._1zy:focus+.eQ7{z-index:1;opacity:1;transform:translateY(-20px)}._1fF ._1z1 ._1zy img{max-width:100%;max-height:100%}._1Km{box-sizing:border-box;display:flex;padding:4px 0;flex-wrap:nowrap}._1Km span{font-size:12px;display:inline-block;border-radius:4px;margin:0 4px;padding:2px 4px;background:cadetblue;color:#fff;font-weight:bolder;white-space:nowrap;line-height:16px}._1Km input{width:100%;border:none}._2bP{display:none;width:12px;height:12px;position:absolute;top:-14px;left:0;background-color:#189cfd;border-radius:14px}.eQ7{position:absolute;top:0;opacity:0;left:0;height:20px;width:100%;font-size:12px;box-sizing:border-box;padding:0 8px;white-space:nowrap;transition:all 0.3s;background:var(--bg-color);border-radius:5px 5px 0 0;will-change:transform}._1Qg{display:block;width:20px;height:20px;position:absolute;right:0;top:0;cursor:pointer}._2iJ{position:fixed;left:50%;top:50%;transform:translate(-50%, -50%);min-width:200px;font-size:14px;padding:10px;background:#f7f7f7;box-shadow:0px 0px 9px 1px #676767}._2iJ label{display:inline-block;width:80px}.f4X{position:absolute;right:-7px;top:-7px;color:black;margin-top:2px;margin-left:3px;width:12px;height:12px;border:solid 1px currentColor;background-color:currentColor;border-radius:100%}.f4X:before{content:'';position:absolute;width:8px;height:3px;color:white;background-color:currentColor;left:2px;top:4px}.oLC{display:none;position:fixed;z-index:99999;font-size:12px;line-height:20px;padding:0px 4px;width:20px;box-sizing:border-box;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;background:#f36b5d;border-radius:10px;transition:width 0.5s}.oLC._2FU{display:block}.oLC.uyU{width:160px;background:#fff;border-radius:4px}.l5z{position:relative}.c3X{display:block;width:30px !important;height:30px !important;position:absolute;opacity:0;border:none !important;box-shadow:0px 2px 7px 0px rgba(39,43,49,0.2) !important;background-color:var(--color);border-radius:40px !important;background-size:cover !important;background-position:center !important;background-repeat:no-repeat !important;cursor:pointer;transition:all 0.3s ease-out;padding:2px;box-sizing:border-box;user-select:none}.c3X:first-child{left:0;top:0 !important;opacity:1 !important;width:30px !important;height:30px !important;z-index:1}.l5z:hover .c3X:not(:first-child){transform:translate(0, 0) scale(0.59) !important;opacity:1}.OTU{z-index:999999;padding:4px;border:none;box-shadow:0 2px 4px rgba(0,0,0,0.5);font-weight:600;color:#fff;background-color:#189cfd;border-radius:6px;outline:none;cursor:pointer;transition:all 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms}.OTU:hover{background-color:#1976d2}b[data-highlight='y']{cursor:pointer}._3Ds #_-1e{fill:#fff}._3Ds #cGb{display:none}._3Ds._266 #_-1e,._3Ds._266 #cGb{display:block;fill:#ff720f}light[data-highlight]{cursor:pointer;font-size:inherit !important;font-family:inherit !important;background-image:repeating-linear-gradient(0deg, var(--bgcolor), var(--bgcolor) 100px);background-size:100% 2px;background-repeat:no-repeat;background-position:bottom;transition:background-size 0.5s ease-out}light[data-highlight][data-active='1']{-webkit-text-fill-color:var(--color);background-size:100% calc(1em*2)}light[data-highlight][data-active='1'][data-mask='1']{filter:blur(2px)}._1Rg._3fJ{color:#000;position:absolute;margin-left:3px;margin-top:10px;width:16px;height:1px;background-color:currentColor}._1Rg._3fJ:before{content:'';position:absolute;left:1px;top:-5px;width:10px;height:10px;border-top:solid 1px currentColor;border-right:solid 1px currentColor;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}._2BO._3fJ{color:#000;position:absolute;margin-left:2px;margin-top:6px;width:17px;height:5px;border-top:solid 1px currentColor;border-bottom:solid 1px currentColor}._2BO._3fJ:before{content:'';position:absolute;top:2px;left:0;width:11px;height:5px;border-top:solid 1px currentColor;border-bottom:solid 1px currentColor}.EyG._3fJ{color:#000;position:absolute;margin-left:2px;margin-top:6px;width:17px;height:5px;border-top:solid 1px currentColor;border-bottom:solid 1px currentColor}.EyG._3fJ:before{content:'';position:absolute;top:2px;right:0;width:11px;height:5px;border-top:solid 1px currentColor;border-bottom:solid 1px currentColor}._37b._3fJ{color:#000;position:absolute;margin-left:3px;margin-top:3px;width:12px;height:12px;border-radius:70% 15%;border:solid 1px currentColor;-webkit-transform:rotate(45deg);transform:rotate(45deg)}._37b._3fJ:before{content:'';position:absolute;left:2px;top:2px;width:6px;height:6px;border-radius:50%;border:solid 1px currentColor;background-color:currentColor}div[data-tip]:after{display:none;content:attr(data-tip);position:absolute;white-space:nowrap;font-size:12px;top:-20px;left:0;transform-origin:left;border-radius:3px;padding:0 4px;background:#333;color:#fff}div[data-position=top]:after{top:-20px;right:0}div[data-tip]:hover::after{display:block}@keyframes _1HC{0%{opacity:0.3;transform:scale(0.3)}100%{transform:scale(1);opacity:1}}@keyframes tRz{0%{box-shadow:0px 0px 1px 2px #fff}100%{box-shadow:0px 0px 2px 2px rgba(199,198,198,0.52)}}@keyframes _1y5{0%{right:initial}100%{right:-160px}}@-webkit-keyframes _35h{from{filter:hue-rotate(0deg)}to{filter:hue-rotate(-360deg)}}\n",""]),e.locals={recordContain:"l5z",recordButton:"c3X",sideBar:"_1FS",showBar:"_1-8",easy:"kz8",icons:"V5y",easyButton:"_1e4",stepSign:"_3Nx",isActive:"vRo",toggleButton:"_1TE",icon:"_3fJ",moreIcons:"_3PR",showMore:"_1Ve",moveIcon:"_50P",signContainer:"_2Zd",expand:"_2ou",running:"_3kC",noLight:"_3Ow",stepTag:"_1fF",LightActive:"_2N_",point:"_1Zj",points:"_13E",menuPoint:"_2Je",deleteButton:"_1gB","light-point":"tRz",warn:"_2XM",box:"_1z1",show:"_1s7",handlebar:"eQ7",editcontent:"_1zy",showEdit:"_16J",writing:"_2G5",pageType:"_1Km",pointColor:"_2bP",deleteicon:"_1Qg",menuContainer:"_2iJ",close:"f4X",recordBall:"oLC",recording:"_2FU",arrived:"uyU",menuButton:"OTU",esLight:"_3Ds",light:"_-1e",sunshine:"cGb",lightAll:"_266",arrowLeft:"_1Rg",leftAlign:"_2BO",rightAlign:"EyG",eye:"_37b","point-notifi":"_1HC",fade_out_none:"_1y5",hue:"_35h"}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=s.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,u=0,p=[],d=n(20);function h(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(_(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(_(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function g(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=p[p.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),p.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(t.insertAt.before,n);n.insertBefore(e,o)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=p.indexOf(t);e>=0&&p.splice(e,1)}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function _(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var a=u++;n=c||(c=m(e)),r=w.bind(null,n,a,!1),o=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),g(t,e),e}(e),r=k.bind(null,n,e),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),r=S.bind(null,n),o=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return h(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&h(f(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function S(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function k(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e,n){"use strict";n.r(e);var r=n(11),o=n.n(r),i=n(9),a=n.n(i);function s(t){var e=((t||window.location.href).match(/\?(.*)/)||[])[1],n={},r=[];return e?(e.split("&").forEach((function(t){var e=t.split("=");e[0]&&(r.push(e[0]),n[e[0]]=e[1])})),{paramObj:n,paramKeys:r}):{paramObj:n,paramKeys:r}}function l(t){return btoa(encodeURI(JSON.stringify(t)))}function c(t){var e={};try{e=JSON.parse(decodeURI(atob(t)))}catch(t){}return e}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=!0;return function(){var r=arguments,o=this;n&&(n=!1,setTimeout((function(){t.apply(o,r),n=!0}),e))}}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=null;return function(){var r=arguments,o=this;clearTimeout(n),n=setTimeout((function(){t.apply(o,r)}),e)}}function d(t){var e=[];return e=t.indexOf("rgb")>-1?t.match(/\((.*)\)/)[1].split(","):[(t=t.replace("#","")).substr(0,2),t.substr(2,4),t.substr(4,6),1],.2126*parseInt(e[0],16)+.7152*parseInt(e[1],16)+.0722*parseInt(e[1],16)<128?"#fff":"#000"}window;function h(t,e,n,r,o){var i=t.splitText(e),a=i.splitText(n-e),s=document.createElement("light");return s.dataset.highlight=o,s.style.backgroundColor=r,s.style="--bgcolor:".concat(r,";--color:").concat(d(r)),s.textContent=i.textContent,"rgba(1,1,1,0.5)"===r&&(s.dataset.mask="1"),i.parentNode.replaceChild(s,i),a}var f=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5?arguments[5]:void 0;if(t&&e)if(n){t.dataset.highlightbk="y";var a=0,s=[e],c=y(t);c.id=l(e),c.color=r;var u=0,p=function t(n){var r=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/[\s]+/gim,"[\\s]+"),"gmi");_(c,r,0,(function(t,e){var n=o.some((function(t){return t.contains(e)})),r=e.parentNode||document.body;return u=r.dataset.highlight?u+1:u,!n&&!r.dataset.highlight}),(function(t){a++}),(function(){s[s.length-1]===n||t(s[s.indexOf(n)+1])}))};0===s.length||(p(s[0]),0===a&&setTimeout((function(){p(s[0])}),2e3),"function"==typeof i&&i({totalMatches:a||u,id:c.id}))}else{for(var d=t.querySelectorAll("light[data-highlight='".concat(l(e),"']")),h=0;h<d.length;h++){var f=d[h];f.outerHTML=f.innerHTML}var g=t.querySelectorAll("light[data-highlight]");0===g.length&&delete t.dataset.highlightbk}else i({totalMatches:0})},g=function(t,e,n,r){if(n>document.documentElement.clientHeight/2&&t&&t.scrollIntoView)return t.scrollIntoView({block:"center",behavior:"smooth"}),void("function"==typeof r&&setTimeout((function(){return r()}),100));var o=setInterval((function(){var t,i,a=m(),s=a.x,l=a.y;t=s+(e-s)/6,i=l+(n-l)/6,v.scrollLeft=t,v.scrollTop=i,window.scrollTo(t,i);var c=m(),u=c.x;l===c.y&&s===u&&(clearInterval(o),"function"==typeof r&&r())}),30);return o},v=document.documentElement||document.body;function m(){return{x:window.pageXOffset||v.scrollLeft||v.scrollLeft,y:window.pageYOffset||v.scrollTop||v.scrollTop}}function y(t){for(var e,n=[],r={acceptNode:function(t){return 3===t.nodeType?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},o=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,r,!1),i="";e=o.nextNode();)n.push({node:e,start:i.length,end:(i+=e.textContent).length});return{nodes:n,value:i}}function _(t,e,n,r,o,i){for(var a,s=0===n?0:n+1;null!==(a=e.exec(t.value))&&""!==a[s];){var l=a.index;if(0!==s)for(var c=1;c<s;c++)l+=a[c].length;b(t,l,l+a[s].length,(function(t){return r(a[s],t)}),(function(t,n){e.lastIndex=n,o(t)}))}i()}function b(t,e,n,r,o){t.nodes.every((function(i,a){var s=t.nodes[a+1];if(void 0===s||s.start>e){if(!r(i.node))return!1;var l=e-i.start,c=(n>i.end?i.end:n)-i.start,u=t.value.substr(0,i.start),p=t.value.substr(c+i.start);if(i.node=h(i.node,l,c,t.color,t.id),t.value=u+p,t.nodes.forEach((function(e,n){n>=a&&(t.nodes[n].start>0&&n!==a&&(t.nodes[n].start-=c),t.nodes[n].end-=c)})),n-=c,o(i.node.previousSibling,i.start),!(n>i.end))return!1;e=i.end}return!0}))}function x(){var t=document.querySelector("link[rel~=icon]");return t?t.href:window.location.origin+"/favicon.ico"}var w=n(8),S=n.n(w),k=n(1),N=n.n(k),C=n(5),A=n.n(C),E=n(4),T=n.n(E),L=n(6),I=n.n(L),M=n(7),z=n.n(M),O=n(3),P=n.n(O),R="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,j=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e!==n;){var r=e.nextSibling;t.removeChild(e),e=r}};var D="{{lit-".concat(String(Math.random()).slice(2),"}}"),F="\x3c!--".concat(D,"--\x3e"),H=new RegExp("".concat(D,"|").concat(F)),U=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parts=[],this.element=n;for(var r=[],o=[],i=document.createTreeWalker(n.content,133,null,!1),a=0,s=-1,l=0,c=e.strings,u=e.values.length;l<u;){var p=i.nextNode();if(null!==p){if(s++,1===p.nodeType){if(p.hasAttributes()){for(var d=p.attributes,h=d.length,f=0,g=0;g<h;g++)B(d[g].name,"$lit$")&&f++;for(;f-- >0;){var v=c[l],m=W.exec(v)[2],y=m.toLowerCase()+"$lit$",_=p.getAttribute(y);p.removeAttribute(y);var b=_.split(H);this.parts.push({type:"attribute",index:s,name:m,strings:b}),l+=b.length-1}}"TEMPLATE"===p.tagName&&(o.push(p),i.currentNode=p.content)}else if(3===p.nodeType){var x=p.data;if(x.indexOf(D)>=0){for(var w=p.parentNode,S=x.split(H),k=S.length-1,N=0;N<k;N++){var C=void 0,A=S[N];if(""===A)C=q();else{var E=W.exec(A);null!==E&&B(E[2],"$lit$")&&(A=A.slice(0,E.index)+E[1]+E[2].slice(0,-"$lit$".length)+E[3]),C=document.createTextNode(A)}w.insertBefore(C,p),this.parts.push({type:"node",index:++s})}""===S[k]?(w.insertBefore(q(),p),r.push(p)):p.data=S[k],l+=k}}else if(8===p.nodeType)if(p.data===D){var T=p.parentNode;null!==p.previousSibling&&s!==a||(s++,T.insertBefore(q(),p)),a=s,this.parts.push({type:"node",index:s}),null===p.nextSibling?p.data="":(r.push(p),s--),l++}else for(var L=-1;-1!==(L=p.data.indexOf(D,L+1));)this.parts.push({type:"node",index:-1}),l++}else i.currentNode=o.pop()}for(var I=0,M=r;I<M.length;I++){var z=M[I];z.parentNode.removeChild(z)}},B=function(t,e){var n=t.length-e.length;return n>=0&&t.slice(n)===e},V=function(t){return-1!==t.index},q=function(){return document.createComment("")},W=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function J(t,e){for(var n=t.element.content,r=t.parts,o=document.createTreeWalker(n,133,null,!1),i=Y(r),a=r[i],s=-1,l=0,c=[],u=null;o.nextNode();){s++;var p=o.currentNode;for(p.previousSibling===u&&(u=null),e.has(p)&&(c.push(p),null===u&&(u=p)),null!==u&&l++;void 0!==a&&a.index===s;)a.index=null!==u?-1:a.index-l,a=r[i=Y(r,i)]}c.forEach((function(t){return t.parentNode.removeChild(t)}))}var G=function(t){for(var e=11===t.nodeType?0:1,n=document.createTreeWalker(t,133,null,!1);n.nextNode();)e++;return e},Y=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e+1;n<t.length;n++){var r=t[n];if(V(r))return n}return-1};var X=new WeakMap,$=function(t){return"function"==typeof t&&X.has(t)},Z={},K={};function Q(t){return function(t){if(Array.isArray(t))return nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||et(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=et(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function et(t,e){if(t){if("string"==typeof t)return nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(t,e):void 0}}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ot=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.__parts=[],this.template=e,this.processor=n,this.options=r}var e,n,r;return e=t,(n=[{key:"update",value:function(t){var e,n=0,r=tt(this.__parts);try{for(r.s();!(e=r.n()).done;){var o=e.value;void 0!==o&&o.setValue(t[n]),n++}}catch(t){r.e(t)}finally{r.f()}var i,a=tt(this.__parts);try{for(a.s();!(i=a.n()).done;){var s=i.value;void 0!==s&&s.commit()}}catch(t){a.e(t)}finally{a.f()}}},{key:"_clone",value:function(){for(var t,e=R?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,o=document.createTreeWalker(e,133,null,!1),i=0,a=0,s=o.nextNode();i<r.length;)if(t=r[i],V(t)){for(;a<t.index;)a++,"TEMPLATE"===s.nodeName&&(n.push(s),o.currentNode=s.content),null===(s=o.nextNode())&&(o.currentNode=n.pop(),s=o.nextNode());if("node"===t.type){var l=this.processor.handleTextExpression(this.options);l.insertAfterNode(s.previousSibling),this.__parts.push(l)}else{var c;(c=this.__parts).push.apply(c,Q(this.processor.handleAttributeExpressions(s,t.name,t.strings,this.options)))}i++}else this.__parts.push(void 0),i++;return R&&(document.adoptNode(e),customElements.upgrade(e)),e}}])&&rt(e.prototype,n),r&&rt(e,r),t}();function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e,n){return e&&at(t.prototype,e),n&&at(t,n),t}var lt=" ".concat(D," "),ct=function(){function t(e,n,r,o){it(this,t),this.strings=e,this.values=n,this.type=r,this.processor=o}return st(t,[{key:"getHTML",value:function(){for(var t=this.strings.length-1,e="",n=!1,r=0;r<t;r++){var o=this.strings[r],i=o.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===o.indexOf("--\x3e",i+1);var a=W.exec(o);e+=null===a?o+(n?lt:F):o.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+D}return e+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}]),t}();function ut(t,e,n){return(ut="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function pt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt(t);if(e){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ft(this,n)}}function ft(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vt(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return mt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e,n){return e&&_t(t.prototype,e),n&&_t(t,n),t}function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var wt=function(t){return null===t||!("object"===xt(t)||"function"==typeof t)},St=function(t){return Array.isArray(t)||!(!t||!t[Symbol.iterator])},kt=function(){function t(e,n,r){yt(this,t),this.dirty=!0,this.element=e,this.name=n,this.strings=r,this.parts=[];for(var o=0;o<r.length-1;o++)this.parts[o]=this._createPart()}return bt(t,[{key:"_createPart",value:function(){return new Nt(this)}},{key:"_getValue",value:function(){for(var t=this.strings,e=t.length-1,n="",r=0;r<e;r++){n+=t[r];var o=this.parts[r];if(void 0!==o){var i=o.value;if(wt(i)||!St(i))n+="string"==typeof i?i:String(i);else{var a,s=vt(i);try{for(s.s();!(a=s.n()).done;){var l=a.value;n+="string"==typeof l?l:String(l)}}catch(t){s.e(t)}finally{s.f()}}}}return n+=t[e]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),t}(),Nt=function(){function t(e){yt(this,t),this.value=void 0,this.committer=e}return bt(t,[{key:"setValue",value:function(t){t===Z||wt(t)&&t===this.value||(this.value=t,$(t)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;$(this.value);){var t=this.value;this.value=Z,t(this)}this.value!==Z&&this.committer.commit()}}]),t}(),Ct=function(){function t(e){yt(this,t),this.value=void 0,this.__pendingValue=void 0,this.options=e}return bt(t,[{key:"appendInto",value:function(t){this.startNode=t.appendChild(q()),this.endNode=t.appendChild(q())}},{key:"insertAfterNode",value:function(t){this.startNode=t,this.endNode=t.nextSibling}},{key:"appendIntoPart",value:function(t){t.__insert(this.startNode=q()),t.__insert(this.endNode=q())}},{key:"insertAfterPart",value:function(t){t.__insert(this.startNode=q()),this.endNode=t.endNode,t.endNode=this.startNode}},{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;$(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=Z,t(this)}var e=this.__pendingValue;e!==Z&&(wt(e)?e!==this.value&&this.__commitText(e):e instanceof ct?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):St(e)?this.__commitIterable(e):e===K?(this.value=K,this.clear()):this.__commitText(e))}}},{key:"__insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"__commitNode",value:function(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}},{key:"__commitText",value:function(t){var e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}},{key:"__commitTemplateResult",value:function(t){var e=this.options.templateFactory(t);if(this.value instanceof ot&&this.value.template===e)this.value.update(t.values);else{var n=new ot(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(e){Array.isArray(this.value)||(this.value=[],this.clear());var n,r,o=this.value,i=0,a=vt(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;void 0===(n=o[i])&&(n=new t(this.options),o.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(o[i-1])),n.setValue(s),n.commit(),i++}}catch(t){a.e(t)}finally{a.f()}i<o.length&&(o.length=i,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;j(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),t}(),At=function(){function t(e,n,r){if(yt(this,t),this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=r}return bt(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;$(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=Z,t(this)}if(this.__pendingValue!==Z){var e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=Z}}}]),t}(),Et=function(t){pt(n,t);var e=ht(n);function n(t,r,o){var i;return yt(this,n),(i=e.call(this,t,r,o)).single=2===o.length&&""===o[0]&&""===o[1],i}return bt(n,[{key:"_createPart",value:function(){return new Tt(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:ut(gt(n.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),n}(kt),Tt=function(t){pt(n,t);var e=ht(n);function n(){return yt(this,n),e.apply(this,arguments)}return n}(Nt),Lt=!1;!function(){try{var t={get capture(){return Lt=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}}();var It=function(){function t(e,n,r){var o=this;yt(this,t),this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=function(t){return o.handleEvent(t)}}return bt(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;$(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=Z,t(this)}if(this.__pendingValue!==Z){var e=this.__pendingValue,n=this.value,r=null==e||null!=n&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),o=null!=e&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=Mt(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=Z}}},{key:"handleEvent",value:function(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}]),t}(),Mt=function(t){return t&&(Lt?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)};function zt(t){var e=Ot.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},Ot.set(t.type,e));var n=e.stringsArray.get(t.strings);if(void 0!==n)return n;var r=t.strings.join(D);return void 0===(n=e.keyString.get(r))&&(n=new U(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}var Ot=new Map,Pt=new WeakMap;function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var jt=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"handleAttributeExpressions",value:function(t,e,n,r){var o=e[0];return"."===o?new Et(t,e.slice(1),n).parts:"@"===o?[new It(t,e.slice(1),r.eventContext)]:"?"===o?[new At(t,e.slice(1),n)]:new kt(t,e,n).parts}},{key:"handleTextExpression",value:function(t){return new Ct(t)}}])&&Rt(e.prototype,n),r&&Rt(e,r),t}());"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.2.1");var Dt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new ct(t,n,"html",jt)};function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ht=function(t,e){return"".concat(t,"--").concat(e)},Ut=!0;void 0===window.ShadyCSS?Ut=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Ut=!1);var Bt=function(t){return function(e){var n=Ht(e.type,t),r=Ot.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},Ot.set(n,r));var o=r.stringsArray.get(e.strings);if(void 0!==o)return o;var i=e.strings.join(D);if(void 0===(o=r.keyString.get(i))){var a=e.getTemplateElement();Ut&&window.ShadyCSS.prepareTemplateDom(a,t),o=new U(e,a),r.keyString.set(i,o)}return r.stringsArray.set(e.strings,o),o}},Vt=["html","svg"],qt=new Set,Wt=function(t,e,n){qt.add(t);var r=n?n.element:document.createElement("template"),o=e.querySelectorAll("style"),i=o.length;if(0!==i){for(var a=document.createElement("style"),s=0;s<i;s++){var l=o[s];l.parentNode.removeChild(l),a.textContent+=l.textContent}!function(t){Vt.forEach((function(e){var n=Ot.get(Ht(e,t));void 0!==n&&n.keyString.forEach((function(t){var e=t.element.content,n=new Set;Array.from(e.querySelectorAll("style")).forEach((function(t){n.add(t)})),J(t,n)}))}))}(t);var c=r.content;n?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.element.content,o=t.parts;if(null!=n)for(var i=document.createTreeWalker(r,133,null,!1),a=Y(o),s=0,l=-1;i.nextNode();){l++;var c=i.currentNode;for(c===n&&(s=G(e),n.parentNode.insertBefore(e,n));-1!==a&&o[a].index===l;){if(s>0){for(;-1!==a;)o[a].index+=s,a=Y(o,a);return}a=Y(o,a)}}else r.appendChild(e)}(n,a,c.firstChild):c.insertBefore(a,c.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);var u=c.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==u)e.insertBefore(u.cloneNode(!0),e.firstChild);else if(n){c.insertBefore(a,c.firstChild);var p=new Set;p.add(a),J(n,p)}}else window.ShadyCSS.prepareTemplateStyles(r,t)};window.JSCompiler_renameProperty=(t,e)=>t;const Jt={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},Gt=(t,e)=>e!==t&&(e==e||t==t),Yt={attribute:!0,type:String,converter:Jt,reflect:!1,hasChanged:Gt};class Xt extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=new Promise(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,n)=>{const r=this._attributeNameForProperty(n,e);void 0!==r&&(this._attributeToPropertyMap.set(r,n),t.push(r))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=Yt){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const n="symbol"==typeof t?Symbol():"__"+t,r=this.getPropertyDescriptor(t,n,e);void 0!==r&&Object.defineProperty(this.prototype,t,r)}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(n){const r=this[t];this[e]=n,this._requestUpdate(t,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||Yt}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of e)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,n=Gt){return n(t,e)}static _propertyValueFromAttribute(t,e){const n=e.type,r=e.converter||Jt,o="function"==typeof r?r:r.fromAttribute;return o?o(t,n):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.type,r=e.converter;return(r&&r.toAttribute||Jt.toAttribute)(t,n)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,n){e!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,e,n=Yt){const r=this.constructor,o=r._attributeNameForProperty(t,n);if(void 0!==o){const t=r._propertyValueToAttribute(e,n);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(o):this.setAttribute(o,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;const n=this.constructor,r=n._attributeToPropertyMap.get(t);if(void 0!==r){const t=n.getPropertyOptions(r);this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}_requestUpdate(t,e){let n=!0;if(void 0!==t){const r=this.constructor,o=r.getPropertyOptions(t);r._valueHasChanged(this[t],e,o.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==o.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,o))):n=!1}!this._hasRequestedUpdate&&n&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this._requestUpdate(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}Xt.finalized=!0;const $t="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Zt=Symbol();class Kt{constructor(t,e){if(e!==Zt)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&($t?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const Qt=(t,...e)=>{const n=e.reduce((e,n,r)=>e+(t=>{if(t instanceof Kt)return t.cssText;if("number"==typeof t)return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+t[r+1],t[0]);return new Kt(n,Zt)};(window.litElementVersions||(window.litElementVersions=[])).push("2.3.1");const te={};class ee extends Xt{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(void 0===t)this._styles=[];else if(Array.isArray(t)){const e=(t,n)=>t.reduceRight((t,n)=>Array.isArray(n)?e(n,t):(t.add(n),t),n),n=e(t,new Set),r=[];n.forEach(t=>r.unshift(t)),this._styles=r}else this._styles=[t]}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?$t?this.renderRoot.adoptedStyleSheets=t.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const e=this.render();super.update(t),e!==te&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)}))}render(){return te}}function ne(){var t=N()(['\n         <div class="loading" style=\'top:',"px'>\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n        </div>\n        "]);return ne=function(){return t},t}function re(){var t=N()(["\n            @keyframes load{\n              0%,100%{\n                height: 40px;\n                background: lightgreen;\n              }\n              50%{\n                height: 70px;\n                margin: -15px 0;\n                background: lightblue;\n              }\n            }\n            .loading{\n              position: relative;\n              /*top: 200px;*/\n              width: 80px;\n              height: 40px;\n              margin: 0 auto;\n            }\n            .loading span{\n              display: inline-block;\n              width: 8px;\n              height: 100%;\n              border-radius: 4px;\n              background: lightgreen;\n              animation: load 1s ease infinite;\n            }\n            \n            .loading span:nth-child(2){\n              animation-delay:0.2s;\n            }\n            .loading span:nth-child(3){\n              animation-delay:0.4s;\n            }\n            .loading span:nth-child(4){\n              animation-delay:0.6s;\n            }\n            .loading span:nth-child(5){\n              animation-delay:0.8s;\n            }\n        "]);return re=function(){return t},t}function oe(){var t=N()(['<a @click="','">请登录</a>']);return oe=function(){return t},t}function ie(){var t=N()(["hi,<b>",'</b> <a @click="','">退出</a>']);return ie=function(){return t},t}function ae(){var t=N()(['<button @click="','">登录后分享</button>']);return ae=function(){return t},t}function se(){var t=N()(['<button style="background-color: red;color: #fff;" @click="','">生成分享链接</button>']);return se=function(){return t},t}function le(){var t=N()(["<div>",'<a target="_blank" href="https://pagenote.logike.cn/why#create-error">为什么会失败？</a></div>']);return le=function(){return t},t}function ce(){var t=N()(['<div><a target="_blank" href="','">','</a><img src="https://pagenote.logike.cn/qr.png" alt=""></div>']);return ce=function(){return t},t}function ue(){var t=N()(['<pagenote-loading top="25" />']);return ue=function(){return t},t}function pe(){var t=N()(["hi,<b>","</b>"]);return pe=function(){return t},t}function de(){var t=N()(['<span @click="','" class="tab ','">分享&导出</span>']);return de=function(){return t},t}function he(){var t=N()(['\n        <div class="mask">\n            <div class="container">\n                <a class="close" @click="','">关闭</a>\n                <div class="tabs">\n                    ','\n                    <span @click="','" class="tab ','">pagenote 广场</span>\n                    <div class="tab-border"></div>\n                </div>\n                <div class="contents">\n                      <section class="tab-content ','">\n                        <p>\n                            <span>\n                                ','\n                            </span>分享内容将<strong>公开，所有人可见 <a href="https://pagenote.logike.cn/why">why?</a></strong>。\n                        </p>\n                        <div>\n                            <label><input @change="','" name="share-type" checked="','" type="radio">仅分享标记</label>\n                            <label><input @change="','" name="share-type" checked="','" type="radio">分享标记&网页</label>\n                        </div>\n                        \n                        <div class="','">\n                            <textarea readonly style="width: 100%;height: 150px;box-sizing: border-box;">','</textarea>\n                            <button class="copy-button" @click="','">','</button>\n                        </div>\n                        <div class="','">\n                            <input id="share-title" style="box-sizing: border-box;width: 100%;margin: 8px 0;" type="text" value="','" placeholder="分享标题，一句话总结吧，让你的分享更有吸引力" />\n                            <img style="max-height: 400px;max-width: 100%;" src="','" alt="" />\n                            <div style="font-size: 12px;color: red;" class="tip">标记、以及网页内容被分享后公开可见。<br>当前页有敏感信息，如账户信息时，请注意保密。谨慎分享。</div>\n                        </div>\n                        \n                        ',"\n                        ","\n                        ",'\n                        <div class="','" id="buttons" style="text-align: right;">\n                         ','\n                          <button @click="','">取消</button>\n                        </div>\n                    </section>\n                    \n                    <section class="tab-content ','">\n                       ','\n                       <div>\n                         更多内容请访问 <a target="_blank" href="https://pagenote.logike.cn">pagenote主页</a>\n                       </div>\n                    </section>\n                </div>\n              </div>\n        </div>\n    ']);return he=function(){return t},t}function fe(){var t=N()(["\n            .mask{\n              position:fixed;\n              z-index:999999;\n              background:rgba(0,0,0,0.4);\n              top:0;\n              left:0;\n              bottom:0;\n              top:0;\n              width: 100%;\n              height: 100%;\n            }\n            a{\n                cursor: pointer;\n                color: #6CB0E4;\n            }\n            .hide{\n              display:none;\n            }\n            .container{\n                font-size:14px;\n                color:#333;\n                text-align:left;\n                width: 400px;\n                box-sizing: border-box;\n                background: #fff;\n                border: 1px solid #333;\n                padding: 12px;\n                position: fixed;\n                top: 70px;\n                left: calc(50% - 200px);\n                z-index: 9999999;\n                box-shadow: 3px 2px 0px #111;\n            }\n            .close{\n                position: absolute;\n                right: 10px;\n                top: 0px;\n                color: red;\n            }\n            .tabs{\n                text-align: left;overflow: hidden;position: relative;\n            }\n            .tab-border{\n                width: 100%;height: 1px;position: absolute;bottom: 0;background: #000;z-index: -1;\n            }\n            .tab{\n                position:relative;\n                padding: 2px;\n                margin-right: 12px;\n                display: inline-block;\n                relative;\n                background: #fff;\n                cursor: pointer;\n            }\n            .tab.active{\n                top: 1px;\n                border: 1px solid;\n            }\n            .tab-content{\n                display:none;\n                margin: 12px 0;\n                min-height:50px;\n            }\n            .tab-content.active{\n                display:block;\n            }\n            .copy-button{\n                background: red;\n                color: #fff;\n                border: none;\n            }\n    "]);return fe=function(){return t},t}function ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P()(t);if(e){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z()(this,n)}}ee.finalized=!0,ee.render=function(t,e,n){if(!n||"object"!==Ft(n)||!n.scopeName)throw new Error("The `scopeName` option is required.");var r=n.scopeName,o=Pt.has(e),i=Ut&&11===e.nodeType&&!!e.host,a=i&&!qt.has(r),s=a?document.createDocumentFragment():e;if(function(t,e,n){var r=Pt.get(e);void 0===r&&(j(e,e.firstChild),Pt.set(e,r=new Ct(Object.assign({templateFactory:zt},n))),r.appendInto(e)),r.setValue(t),r.commit()}(t,s,Object.assign({templateFactory:Bt(r)},n)),a){var l=Pt.get(s);Pt.delete(s);var c=l.value instanceof ot?l.value.template:void 0;Wt(r,s,c),j(e,e.firstChild),e.appendChild(s),Pt.set(e,l)}!o&&i&&window.ShadyCSS.styleElement(e.host)};var ve=function(t){I()(n,t);var e=ge(n);function n(){var t;return A()(this,n),(t=e.call(this)).initData(),t}return T()(n,null,[{key:"properties",get:function(){return{copied:{type:Boolean},show:{type:Boolean},activeTab:{type:String},markdown:{type:String},showShare:{type:Boolean},user:{type:Object},creating:{type:Boolean},shareData:{type:Object},shareType:{type:String},errorMsg:{type:String}}}},{key:"styles",get:function(){return Qt(fe())}}]),T()(n,[{key:"render",value:function(){var t=this;return this.show?Dt(he(),this.closeModal,this.showShare?Dt(de(),(function(){return t.changeTab("share")}),"share"===this.activeTab?"active":""):"",(function(){return t.changeTab("me")}),"me"===this.activeTab?"active":"","share"===this.activeTab?"active":"",this.user?Dt(pe(),this.user.name):"",(function(){return t.changeShareType("only-light")}),"only-light"===this.shareType?"checked":"",(function(){return t.changeShareType("all")}),"all"===this.shareType?"checked":"","only-light"===this.shareType?"show":"hide",this.markdown,this.copyMd,this.copied?"已复制":"一键复制MD","all"===this.shareType?"show":"hide",this.shareData.title||"",this.shareData.snapshot,this.creating?Dt(ue()):"",this.shareLink?Dt(ce(),this.shareLink,this.shareLink):"",this.errorMsg?Dt(le(),this.errorMsg):"",this.shareLink||this.creating?"hide":"",this.user?Dt(se(),this.createShare):Dt(ae(),this.doLogin),this.closeModal,"me"===this.activeTab?"active":"",this.user?Dt(ie(),this.user.name,this.doLogout):Dt(oe(),this.doLogin)):""}},{key:"initData",value:function(){var t=this;this.activeTab=this.activeTab||"share",this.markdown=window.pagenote.generateMD(),this.showShare=!!window.pagenote.options.onShare,this.user=window.pagenote._user,this.creating=this.creating||!1,this.shareData={},this.shareLink=this.shareLink||"",this.shareType=this.shareType||"all",this.errorMsg="",this.show=this.show||!1,window.pagenote.makelink((function(e){t.shareData=e}))}},{key:"changeTab",value:function(t){this.activeTab=t}},{key:"closeModal",value:function(){this.show=!1,this.parentNode.removeChild(this)}},{key:"copyMd",value:function(){var t=this.markdown+"\n\n[使用pagenote生成](https://pagenote.logike.cn)";try{return this.copied=!0,navigator.clipboard.writeText(t)}catch(n){var e=document.createElement("textarea");e.textContent=t,document.body.appendChild(e),e.select(),document.execCommand("Copy",!1,null),document.body.removeChild(e),this.copied=!0}}},{key:"doLogin",value:function(){window.innerWidth;window.open("https://github.com/login/oauth/authorize?scope=user%20public_repo&client_id=c4aae381097464aa1024&redirect_uri=".concat("https://pagenote.logike.cn?form=extension")).focus()}},{key:"doLogout",value:function(){window.open("".concat("https://pagenote.logike.cn","/logout?form=extension")).focus()}},{key:"createShare",value:function(){var t=this;this.creating=!0,this.errorMsg="",window.pagenote.makelink((function(e){t.shareData=e;var n=JSON.parse(JSON.stringify(e));if(delete n.snapshot,delete n.images,"all"===t.shareType){var r=document.documentElement.cloneNode(!0);[].forEach.call(r.querySelectorAll("script"),(function(t){t.parentNode.removeChild(t)})),[].forEach.call(r.querySelectorAll("*[data-pagenote]"),(function(t){t.parentNode.removeChild(t)})),[].forEach.call(r.querySelectorAll("pagenote-modal"),(function(t){t.parentNode.removeChild(t)})),[].forEach.call(r.querySelectorAll("style[pagenote]"),(function(t){t.parentNode.removeChild(t)})),[].forEach.call(r.querySelectorAll("iframe"),(function(t){t.parentNode.removeChild(t)})),[].forEach.call(r.querySelectorAll("iframe"),(function(t){t.parentNode.removeChild(t)})),r.querySelectorAll("light[data-highlight]").forEach((function(t){t.outerHTML=t.innerHTML})),n.html=r.outerHTML.replace(/\s+|\n/g,(function(t){return" "})),r.querySelectorAll("link").forEach((function(t){var e=t.getAttribute("href");/^\./.test(e)&&(e=e.replace("./",window.location.pathname)),/^http/.test(e)||t.setAttribute("href",window.location.protocol+"//"+window.location.host+e)}));var o=t.renderRoot.querySelector("#share-title");n.title=o.value||e.title}window.pagenote.options.onShare(n,(function(e){t.creating=!1,t.shareLink=e.shareLink,t.errorMsg=e.errorMsg}))}))}},{key:"changeShareType",value:function(t){this.shareType=t}}]),n}(ee);customElements.define("pagenote-modal",ve);var me=function(t){I()(n,t);var e=ge(n);function n(){var t;return A()(this,n),(t=e.call(this)).top=0,t}return T()(n,null,[{key:"properties",get:function(){return{top:{type:Number}}}},{key:"styles",get:function(){return Qt(re())}}]),T()(n,[{key:"render",value:function(){return Dt(ne(),this.top)}}]),n}(ee);function ye(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return _e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}customElements.define("pagenote-loading",me);var be=new S.a;function xe(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.id=t||"pagenote-container",this.options=Object.assign({initType:"default",dura:100,saveInURL:!1,saveInLocal:!0,maxMarkNumber:50,blacklist:[],autoLight:!1,colors:["rgba(114,208,255,0.88)","#ffbea9","#c8a6ff","#6fe2d5","rgba(255,222,93,0.84)","rgba(251, 181, 214, 0.84)","rgba(0,0,0,0.5)"],barInfo:{right:4,top:200,status:"hide"},shortCut:{createLight:"m",createLightAndEdit:"e"},onShare:null},n),this.status=this.CONSTANT.UN_INIT,this.recordedSteps=[],this.snapshot="",this.runindex=null;var r=JSON.parse(JSON.stringify(this.options.barInfo));r.status=r.status||"fold",this.runningSetting=Object.assign({},{initType:this.options.initType,dura:this.options.dura,autoLight:this.options.autoLight,barInfo:r}),this.target={},this.url=window.location.href,this.data="",this.blackNodes=[],this.lastaction=this.CONSTANT.DIS_LIGHT;var i,u,d,h=this.target,v=null,m=[],y=null,_=this.CONSTANT,b=this.options,w=window.location,S="",k="ontouchstart"in window,N=this.blackNodes,C=["x","y","id","text","tip","bg","time","isActive","offsetX","offsetY","parentW"];function A(t){var e=document.getSelection(),n=e.anchorNode?e.getRangeAt(0).commonAncestorContainer.parentNode:null;if(n){var r,o=ye(N);try{for(o.s();!(r=o.n()).done;){if(r.value.contains(n))return}}catch(t){o.e(t)}finally{o.f()}var i=e.toString().trim();if(this.status!==_.WAITING||i!==h.text)if(i){var a=e.getRangeAt(0).getClientRects(),s=a[a.length-1];if(!s)return;var l=k?s.x+s.width/2:Math.min(s.x+s.width+12,window.innerWidth-150),c=window.scrollY+s.y+(k?s.height:s.height/2),u=be.getUniqueId(n),p=parseInt(l),d=parseInt(c);this.target=h={x:p,y:d,text:i,tip:"",time:(new Date).getTime(),id:u.wid,isActive:!1,bg:this.options.colors[0],offsetX:p-u.left,offsetY:d-u.top,parentW:parseInt(n.clientWidth)},this.status=this.status===_.REPLAYING||this.status===_.PLAYANDWAIT?_.PLAYANDWAIT:_.WAITING}else this.target=h={},this.status=_.PAUSE}}var E=!1;this.init=function(t){var e=this,n=arguments,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!(t=t||s().paramObj[_.ID])&&this.options.saveInLocal&&(t=localStorage.getItem(this.id));var i=[],l={};if(t)try{if("object"===a()(t)&&t.steps)i=t.steps||[],l=t.setting||{};else if("string"==typeof t){var u=c(t);i=u.steps||[],l=u.setting||{}}}catch(e){console.error("解析step异常",e,t)}switch(this.recordedSteps.splice(0,this.recordedSteps.length),i.forEach((function(t){var n={};C.forEach((function(e,r){n[e]=t[r]})),e.recordedSteps.push(n)})),this.runningSetting=Object.assign(this.runningSetting,l),setTimeout((function(){[].concat(o()(b.blacklist),[".no-pagenote","*[data-pagenote]"]).forEach((function(t){[].forEach.call(document.querySelectorAll(t),(function(t){N.push(t)}))}))}),0),[].forEach.call(document.querySelectorAll("light[data-highlight]"),(function(t){t.outerHTML=t.innerHTML})),this.runningSetting.initType){case"light":this.replay(0,!1,!0,!0,!0);break;case"default":this.replay(0,!1,!0,!0,(function(t){return t.isActive}))}if(!E){var p=function(){var t=this,e=null,n=k?"touchstart":"mouseup";document.addEventListener(n,(function(n){e=n,A.call(t,n)})),document.onselectionchange=function(n){e&&e.target&&"record"!==e.target.id&&A.call(t,n)}};p.call(this),E=!0,document.addEventListener("keyup",(function(t){t.key===e.options.shortCut.createLight?e.record():t.key===e.options.shortCut.createLightAndEdit&&(e.target.tip=e.target.text,e.record())})),window.addEventListener("hashchange",(function(){e.status=_.HASHCHANGED})),window.addEventListener("popstate",(function(){e.status=_.URLCHANGED}));var d=window.history.pushState;window.history.pushState=function(){d.apply(e,n),e.status=_.URLCHANGED};var h=window.history.replaceState;window.history.replaceState=function(){h.apply(e,n),e.status=_.URLCHANGED}}this.status=_.READY,r&&this.makelink()},this.addListener=function(t){"function"==typeof t&&m.push(t)},this.record=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e=Object.assign(h,e);var r=b.maxMarkNumber;return this.recordedSteps.length>=r?(alert("标记失败！最大标记数量为 "+r),!1):!(!n&&this.status!==_.WAITING)&&(this.status=_.RECORDING,this.recordedSteps.push(e),this.recordedSteps=this.recordedSteps.sort((function(t,e){return t.y-e.y})),window.getSelection().removeAllRanges(),f(be.getTarget(e.id),e.text,!0,e.bg,this.blackNodes,(function(t){e.lightId=t.id;var n=document.querySelectorAll("light[data-highlight='".concat(t.id,"']"))||[];[].forEach.call(n,(function(t){setTimeout((function(){e.isActive=!0,t.dataset.active=e.isActive?"1":"0"}),100)}))})),this.makelink((function(e){if(!e)return alert("保存失败"),t.recordedSteps.splice(-1,1),console.error("记录失败"),t.status=_.RECORDFAIL,!1;t.status=_.RECORDED;var n=document.querySelectorAll("pagenote-tag-edit");n&&setTimeout((function(){n[n.length-1].focus()}),1e3)})),!0)},this.remove=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(t<0){for(;this.recordedSteps.length>0;)this.replay(0,!1,!1),this.recordedSteps.splice(0,1);this.status=_.PAUSE,this.status=_.REMOVEDALL}else this.replay(t,!1,!1),this.recordedSteps.splice(t,1),this.status=_.REMOVED;this.makelink()},this.replay=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.runningSetting.dura,s=this.recordedSteps[e];if(!s)return this.runindex=y,void(this.status=_.DONE);var l="function"==typeof r?r(s):r,c="function"==typeof i?i(s):i,p=s.x,h=s.y,v=s.id,m=s.text;clearInterval(d),clearTimeout(u),d=u=y,this.runindex=e,this.status=_.REPLAYING,this.lastaction=c?_.LIGHT:_.DIS_LIGHT,s.isActive=c;var b=v?be.getTarget(v):y,x=this;!function t(e){!(b=v?be.getTarget(v):y)&&e>0?setTimeout((function(){t(e-1)}),1e3):f(b,m,l,s.bg,x.blackNodes,(function(t){if(s.lightId=t.id,t.id){var e=b.querySelectorAll("light[data-highlight='".concat(t.id,"']"));[].forEach.call(e,(function(t){t.dataset.active=c?"1":"0"}))}s.warn=t.totalMatches?"":"未找到匹配内容"}))}(3),n?d=g(b,p-window.innerWidth/2,h-window.innerHeight/3,(function(){t.runindex=y,o?u=setTimeout((function(){return t.replay(e+1,n,r,o,i)}),a):(t.status=_.DONE,clearTimeout(u))})):o?u=setTimeout((function(){return t.replay(e+1,n,r,o,i)}),a):(this.runindex=y,this.status=_.DONE),this.makelink()},this.makelink=function(t){e.status=_.START_SYNC,T("function"==typeof t?t:function(){})},this.openModal=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"md";v&&v.show?(v.changeTab(t),v.initData()):((v=document.createElement("pagenote-modal")).setAttribute("show",!0),v.setAttribute("activeTab",t),document.body.appendChild(v))},this._syncModal=function(){v&&v.initData()},this.generateMD=function(){var t="",n=e.recordedSteps,r=window.location.href,o=document.querySelector("title").innerText.trim()||"";return t+="## [".concat(o,"](").concat(r,")\n\n"),n.forEach((function(e){var n=e.text,r=e.tip;r!==n&&r&&(t+="".concat(r,"\n")),t+="> ".concat(n,"\n\n")})),t=(t+="\n").trim()};var T=p((function(t){try{var n=[];e.recordedSteps.forEach((function(t){var r=Object.assign({},t);r.isActive="off"===e.runningSetting.initType?void 0:r.isActive;var o=[];C.forEach((function(t){o.push(r[t])})),n.push(o)}));var r=s(),o=r.paramObj,i=r.paramKeys;i.includes(_.ID)||i.push(_.ID);var a={},c=0;Object.keys(e.runningSetting).forEach((function(t){e.runningSetting[t]!==b[t]&&(a[t]=e.runningSetting[t],c++)}));for(var u=document.querySelector("title"),p=document.getElementsByTagName("img"),d=[],h=0;h<p.length;h++){var f=p[h],g=f.width,v=f.height,m=f.src;m&&g>100&&v>100&&g/v<2&&v/g<2&&d.push(m)}var y={steps:n,setting:{},url:window.location.href,lastModified:(new Date).getTime(),icon:x(),title:u?u.innerText.trim():"",images:d,snapshot:e.snapshot,version:1};c?y.setting=a:delete y.setting,o[_.ID]=n.length?l(y):"",e.data=o[_.ID];var k=n.length?JSON.parse(JSON.stringify(y)):{};e.options.saveInLocal&&localStorage.setItem(e.id,e.data);var N="";i.forEach((function(t,e){if(!(t===_.ID&&0===n.length)){var r=void 0===o[t]?"":"="+(o[t]||"");N=N+t+r+"&"}})),N=N?"?"+N:"",e.url=w.protocol+"//"+w.host+w.pathname+N+w.hash,e.options.saveInURL&&history.pushState(S,_.ID,e.url),e.status=_.SYNCED,t(k,e.url)}catch(n){e.status=_.SYNCED_ERROR,console.error(n),t()}}),500);Object.defineProperty(this,"status",{get:function(){return i},set:function(t){var e=i;(i=t)===e&&i!==_.WAITING||m.forEach((function(e){e(t)}))}})}xe.prototype.decodeData=function(t){return c(t)},xe.prototype.encryptData=function(t){return l(t)},xe.prototype.CONSTANT={ID:"pagenote",UN_INIT:-1,WAITING:0,READY:1,RECORDING:2,PAUSE:3,RECORDED:4,REMOVED:-4,REMOVEDALL:-5,RECORDFAIL:5,FINNISHED:6,REPLAYING:7,PLAYANDWAIT:8,DONE:9,START_SYNC:100,SYNCED:10,SYNCED_ERROR:-10,URLCHANGED:11,HASHCHANGED:12,LIGHT:100,DIS_LIGHT:-100,SHARE_CONFIRM:"c",SHARE_ING:"i",SHARE_ERROR:"e",SHARE_SUCCESS:"s"},xe.prototype.version="0.4.2";var we,Se,ke,Ne,Ce,Ae,Ee={},Te=[],Le=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Ie(t,e){for(var n in e)t[n]=e[n];return t}function Me(t){var e=t.parentNode;e&&e.removeChild(t)}function ze(t,e,n){var r,o=arguments,i={};for(r in e)"key"!==r&&"ref"!==r&&(i[r]=e[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(o[r]);if(null!=n&&(i.children=n),"function"==typeof t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===i[r]&&(i[r]=t.defaultProps[r]);return Oe(t,i,e&&e.key,e&&e.ref,null)}function Oe(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return null==o&&(i.__v=i),we.vnode&&we.vnode(i),i}function Pe(t){return t.children}function Re(t,e){this.props=t,this.context=e}function je(t,e){if(null==e)return t.__?je(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?je(t):null}function De(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return De(t)}}function Fe(t){(!t.__d&&(t.__d=!0)&&Se.push(t)&&!ke++||Ce!==we.debounceRendering)&&((Ce=we.debounceRendering)||Ne)(He)}function He(){for(var t;ke=Se.length;)t=Se.sort((function(t,e){return t.__v.__b-e.__v.__b})),Se=[],t.some((function(t){var e,n,r,o,i,a,s;t.__d&&(a=(i=(e=t).__v).__e,(s=e.__P)&&(n=[],(r=Ie({},i)).__v=r,o=We(s,i,r,e.__n,void 0!==s.ownerSVGElement,null,n,null==a?je(i):a),Je(n,i),o!=a&&De(i)))}))}function Ue(t,e,n,r,o,i,a,s,l){var c,u,p,d,h,f,g,v=n&&n.__k||Te,m=v.length;if(s==Ee&&(s=null!=i?i[0]:m?je(n,0):null),c=0,e.__k=function t(e,n,r){if(null==r&&(r=[]),null==e||"boolean"==typeof e)n&&r.push(n(null));else if(Array.isArray(e))for(var o=0;o<e.length;o++)t(e[o],n,r);else r.push(n?n("string"==typeof e||"number"==typeof e?Oe(null,e,null,null,e):null!=e.__e||null!=e.__c?Oe(e.type,e.props,e.key,null,e.__v):e):e);return r}(e.__k,(function(n){if(null!=n){if(n.__=e,n.__b=e.__b+1,null===(p=v[c])||p&&n.key==p.key&&n.type===p.type)v[c]=void 0;else for(u=0;u<m;u++){if((p=v[u])&&n.key==p.key&&n.type===p.type){v[u]=void 0;break}p=null}if(d=We(t,n,p=p||Ee,r,o,i,a,s,l),(u=n.ref)&&p.ref!=u&&(g||(g=[]),p.ref&&g.push(p.ref,null,n),g.push(u,n.__c||d,n)),null!=d){var y;if(null==f&&(f=d),void 0!==n.__d)y=n.__d,n.__d=void 0;else if(i==p||d!=s||null==d.parentNode){t:if(null==s||s.parentNode!==t)t.appendChild(d),y=null;else{for(h=s,u=0;(h=h.nextSibling)&&u<m;u+=2)if(h==d)break t;t.insertBefore(d,s),y=s}"option"==e.type&&(t.value="")}s=void 0!==y?y:d.nextSibling,"function"==typeof e.type&&(e.__d=s)}else s&&p.__e==s&&s.parentNode!=t&&(s=je(p))}return c++,n})),e.__e=f,null!=i&&"function"!=typeof e.type)for(c=i.length;c--;)null!=i[c]&&Me(i[c]);for(c=m;c--;)null!=v[c]&&Xe(v[c],v[c]);if(g)for(c=0;c<g.length;c++)Ye(g[c],g[++c],g[++c])}function Be(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===Le.test(e)?n+"px":null==n?"":n}function Ve(t,e,n,r,o){var i,a,s,l,c;if(o?"className"===e&&(e="class"):"class"===e&&(e="className"),"style"===e)if(i=t.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(l in r)n&&l in n||Be(i,l,"");if(n)for(c in n)r&&n[c]===r[c]||Be(i,c,n[c])}else"o"===e[0]&&"n"===e[1]?(a=e!==(e=e.replace(/Capture$/,"")),s=e.toLowerCase(),e=(s in t?s:e).slice(2),n?(r||t.addEventListener(e,qe,a),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,qe,a)):"list"!==e&&"tagName"!==e&&"form"!==e&&"type"!==e&&"size"!==e&&!o&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function qe(t){this.l[t.type](we.event?we.event(t):t)}function We(t,e,n,r,o,i,a,s,l){var c,u,p,d,h,f,g,v,m,y,_=e.type;if(void 0!==e.constructor)return null;(c=we.__b)&&c(e);try{t:if("function"==typeof _){if(v=e.props,m=(c=_.contextType)&&r[c.__c],y=c?m?m.props.value:c.__:r,n.__c?g=(u=e.__c=n.__c).__=u.__E:("prototype"in _&&_.prototype.render?e.__c=u=new _(v,y):(e.__c=u=new Re(v,y),u.constructor=_,u.render=$e),m&&m.sub(u),u.props=v,u.state||(u.state={}),u.context=y,u.__n=r,p=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=_.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=Ie({},u.__s)),Ie(u.__s,_.getDerivedStateFromProps(v,u.__s))),d=u.props,h=u.state,p)null==_.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==_.getDerivedStateFromProps&&v!==d&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(v,y),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(v,u.__s,y)||e.__v===n.__v&&!u.__){for(u.props=v,u.state=u.__s,e.__v!==n.__v&&(u.__d=!1),u.__v=e,e.__e=n.__e,e.__k=n.__k,u.__h.length&&a.push(u),c=0;c<e.__k.length;c++)e.__k[c]&&(e.__k[c].__=e);break t}null!=u.componentWillUpdate&&u.componentWillUpdate(v,u.__s,y),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(d,h,f)}))}u.context=y,u.props=v,u.state=u.__s,(c=we.__r)&&c(e),u.__d=!1,u.__v=e,u.__P=t,c=u.render(u.props,u.state,u.context),e.__k=null!=c&&c.type==Pe&&null==c.key?c.props.children:Array.isArray(c)?c:[c],null!=u.getChildContext&&(r=Ie(Ie({},r),u.getChildContext())),p||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(d,h)),Ue(t,e,n,r,o,i,a,s,l),u.base=e.__e,u.__h.length&&a.push(u),g&&(u.__E=u.__=null),u.__e=!1}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Ge(n.__e,e,n,r,o,i,a,l);(c=we.diffed)&&c(e)}catch(t){e.__v=null,we.__e(t,e,n)}return e.__e}function Je(t,e){we.__c&&we.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){we.__e(t,e.__v)}}))}function Ge(t,e,n,r,o,i,a,s){var l,c,u,p,d,h=n.props,f=e.props;if(o="svg"===e.type||o,null!=i)for(l=0;l<i.length;l++)if(null!=(c=i[l])&&((null===e.type?3===c.nodeType:c.localName===e.type)||t==c)){t=c,i[l]=null;break}if(null==t){if(null===e.type)return document.createTextNode(f);t=o?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,f.is&&{is:f.is}),i=null,s=!1}if(null===e.type)h!==f&&t.data!=f&&(t.data=f);else{if(null!=i&&(i=Te.slice.call(t.childNodes)),u=(h=n.props||Ee).dangerouslySetInnerHTML,p=f.dangerouslySetInnerHTML,!s){if(h===Ee)for(h={},d=0;d<t.attributes.length;d++)h[t.attributes[d].name]=t.attributes[d].value;(p||u)&&(p&&u&&p.__html==u.__html||(t.innerHTML=p&&p.__html||""))}(function(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||Ve(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||Ve(t,i,e[i],n[i],r)})(t,f,h,o,s),p?e.__k=[]:(e.__k=e.props.children,Ue(t,e,n,r,"foreignObject"!==e.type&&o,i,a,Ee,s)),s||("value"in f&&void 0!==(l=f.value)&&l!==t.value&&Ve(t,"value",l,h.value,!1),"checked"in f&&void 0!==(l=f.checked)&&l!==t.checked&&Ve(t,"checked",l,h.checked,!1))}return t}function Ye(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){we.__e(t,n)}}function Xe(t,e,n){var r,o,i;if(we.unmount&&we.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Ye(r,null,e)),n||"function"==typeof t.type||(n=null!=(o=t.__e)),t.__e=t.__d=void 0,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){we.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Xe(r[i],e,n);null!=o&&Me(o)}function $e(t,e,n){return this.constructor(t,n)}function Ze(t,e,n){var r,o,i;we.__&&we.__(t,e),o=(r=n===Ae)?null:n&&n.__k||e.__k,t=ze(Pe,null,[t]),i=[],We(e,(r?e:n||e).__k=t,o||Ee,Ee,void 0!==e.ownerSVGElement,n&&!r?[n]:o?null:Te.slice.call(e.childNodes),i,n||Ee,r),Je(i,t)}we={__e:function(t,e){for(var n,r;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(t))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(t)),r)return Fe(n.__E=n)}catch(e){t=e}throw t}},Re.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=Ie({},this.state),"function"==typeof t&&(t=t(n,this.props)),t&&Ie(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),Fe(this))},Re.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Fe(this))},Re.prototype.render=Pe,Se=[],ke=0,Ne="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ae=Ee;var Ke=n(2),Qe=n.n(Ke),tn=n(0),en=n.n(tn);function nn(t,e){var n,r,o,i=t.clipboardData,a=0;if(i){if(!(n=i.items))return;for(r=n[0],o=i.types||[];a<o.length;a++)if("Files"===o[a]){r=n[a];break}r&&"file"===r.kind&&r.type.match(/^image\//i)?function(t,e){var n=t.getAsFile(),r=new FileReader;r.onload=function(t){e(t.target.result)},r.readAsDataURL(n)}(r,(function(t){e({type:"img",content:t})})):r.getAsString((function(t){e({type:"text",content:t})}))}}function rn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P()(t);if(e){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z()(this,n)}}var on=new S.a,an=function(t){I()(n,t);var e=rn(n);function n(){var t;return A()(this,n),(t=e.call(this)).editStep=t.editStep.bind(Qe()(t)),t.pasteImage=t.pasteImage.bind(Qe()(t)),t.state={},t}return T()(n,[{key:"editStep",value:function(t,e){t.target.focus()}},{key:"pasteImage",value:function(t){var e=this.props,n=e.step,r=e.syncInfo;nn(t,(function(e){if("img"===e.type){t.target.blur();var o=document.createElement("img");o.src=e.content,n.tip=n.tip+o.outerHTML}n.modify=void 0,r(),t.target.focus()}))}},{key:"syncInput",value:function(){this.props.syncInfo()}},{key:"render",value:function(){var t=this,e=this.props,n=e.step,r=e.index,o=e.replay,i=e.remove,a=e.avatar,s=n.bg,l={x:n.x,y:n.y},c=on.getTarget(n.id),u=c?on.getUniqueId(c):null;c&&u&&n.offsetX&&n.offsetY&&n.parentW&&(l.x=u.left+n.offsetX*c.clientWidth/n.parentW,l.y=u.top+n.offsetY),l.x=Math.min(document.documentElement.scrollWidth-50,l.x),l.x=Math.max(40,l.x);var p=n.textColor;return p||(n.textColor=p=d(s)),ze("div",{className:"".concat(en.a.stepTag," ").concat(n.isActive?en.a.LightActive:""),"data-pagenotei":r,"data-pagenotes":n.isActive?"active":"",style:{position:"absolute",top:l.y+"px",left:l.x+"px",textAlign:"left",color:p,"--bg-color":s}},ze("div",{className:en.a.points},ze("div",{title:"click or drag",className:"".concat(en.a.point,"  draggable ").concat(n.warn?en.a.warn:""),"data-index":r,"data-active":n.isActive?1:0,"data-moving":"0",style:{backgroundImage:"url(".concat(a,")")},onClick:function(t){"1"!==t.target.dataset.moving&&o(r,!n.isActive,!0,!1,!n.isActive)}}),!n.tip&&ze("div",{className:"".concat(en.a.menuPoint),onClick:function(){n.tip="".concat(n.text,"📒"),o(r,!n.isActive,!0,!1,!0)}},ze("svg",{t:"1590664401781",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5176",width:"13",height:"13"},ze("path",{d:"M930.909091 0H93.090909a93.090909 93.090909 0 0 0-93.090909 93.090909v837.818182a93.090909 93.090909 0 0 0 93.090909 93.090909h837.818182a93.090909 93.090909 0 0 0 93.090909-93.090909V93.090909a93.090909 93.090909 0 0 0-93.090909-93.090909zM202.007273 813.614545v-131.723636l131.723636 131.723636z m147.549091-15.825454l-132.189091-131.723636 395.170909-395.17091L744.727273 403.083636z m407.272727-407.272727l-131.723636-131.723637 57.716363-57.716363 131.723637 131.723636z m69.818182-69.818182l-131.723637-131.723637a81.454545 81.454545 0 0 1 114.967273 0l16.290909 16.29091a81.454545 81.454545 0 0 1 0.465455 114.967272z",fill:s,"p-id":"5177"}))),ze("div",{className:en.a.deleteButton,onClick:function(){i(r)}},ze("svg",{t:"1590668094079",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6266",width:"13",height:"13"},ze("path",{d:"M860.29743713 91.73649423L679.0620783 91.73649423 627.28054825 39.95496296 368.37289311 39.95496296 316.59136307 91.73649423 135.35600423 91.73649423 135.35600423 195.29955555 860.29743713 195.29955555M187.13753549 868.45945719C187.13753549 925.41914074 233.74091326 972.02251853 290.70059682 972.02251853L704.95284454 972.02251853C761.91252809 972.02251853 808.51590587 925.41914074 808.51590587 868.45945719L808.51590587 247.08108682 187.13753549 247.08108682 187.13753549 868.45945719Z","p-id":"6267",fill:s||"#515151"})))),ze("div",{className:"".concat(en.a.box," ").concat(n.isActive&&n.tip?en.a.show:"")},ze("div",{className:"".concat(en.a.handlebar)},ze("span",{className:en.a.deleteicon,onClick:function(){i(r)},title:"delete"},ze("svg",{viewBox:"0 0 1024 1024",width:"20",height:"20"},ze("path",{d:"M223.595 318.284l24.023 480.742c0 54.377 44.99 98.457 100.485 98.457h331.964c55.495 0 100.49-44.08 100.49-98.457l23.109-480.742h-580.07zm608.154-34.103c.1-20.274.159-21.623.159-22.981 0-52.871-31.299-81.888-73.295-81.888l-116.893.123c0-27.751-27.105-50.246-54.855-50.246H441.35c-27.745 0-55.727 22.495-55.727 50.246l-117.013-.123c-46.388 0-73.296 35.36-73.296 81.888 0 1.363.055 2.707.159 22.981h636.282-.006zM614.17 444.615c0-15.327 12.422-27.75 27.745-27.75 15.327 0 27.75 12.423 27.75 27.75v317.883c0 15.328-12.423 27.751-27.75 27.751-15.323 0-27.745-12.423-27.745-27.75V444.614zm-128.31 0c0-15.327 12.427-27.75 27.75-27.75 15.328 0 27.75 12.423 27.75 27.75v317.883c0 15.328-12.422 27.751-27.75 27.751-15.322 0-27.75-12.423-27.75-27.75V444.614zm-128.222 0c0-15.327 12.423-27.75 27.751-27.75 15.322 0 27.75 12.423 27.75 27.75v317.883c0 15.328-12.427 27.751-27.75 27.751-15.328 0-27.75-12.423-27.75-27.75V444.614zm0 0",fill:"#fff"})))),ze("pagenote-tag-edit",{className:"".concat(en.a.editcontent," ").concat(n.tip?en.a.showEdit:""),contentEditable:!n.locked||"false",onFocus:function(e){return t.editStep(e,n)},onPaste:this.pasteImage,innerHTML:n.tip,onInput:function(e){var r=e.target.innerHTML;n.modify=r,t.syncInput()},onBlur:function(){var e=void 0!==n.modify?n.modify:n.tip;n.tip=e,t.syncInput()}})))}}]),n}(Re);function sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P()(t);if(e){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z()(this,n)}}var ln=new S.a,cn=0,un=0,pn="ontouchstart"in window||window.innerWidth<600;function dn(t){var e=t.showBall,n=t.ballPos,r=t.text,o=void 0===r?"recording":r;return ze("div",{className:"".concat(en.a.recordBall," ").concat(e?en.a.recording:""," ").concat(n.arrived?en.a.arrived:""),style:{top:n.top+"px",left:n.left+"px",background:n.color,textAlign:n.isLeft?"right":"left"}},o)}var hn=function(t){I()(n,t);var e=sn(n);function n(t){var r;A()(this,n);var o=(r=e.call(this)).pagenote=t.pagenote;return r.state={status:o.status,steps:o.recordedSteps,activeSteps:o.recordedSteps.filter((function(t){return t.isActive})),targetInfo:o.target,runindex:o.runindex,url:o.url,user:o._user,barInfo:o.runningSetting.barInfo,autoLight:o.runningSetting.autoLight,colors:o.options.colors,ballPos:{},showBall:!1},r.checkActive=u(r.checkActive.bind(Qe()(r)),400),o.addListener(r.refreshStatus.bind(Qe()(r))),r}return T()(n,[{key:"refreshStatus",value:function(){var t=this.pagenote;this.setState({status:t.status,steps:t.recordedSteps,activeSteps:t.recordedSteps.filter((function(t){return t.isActive})),targetInfo:t.target,runindex:t.runindex,url:t.url,user:t._user,barInfo:t.runningSetting.barInfo,autoLight:t.runningSetting.autoLight,colors:t.options.colors})}},{key:"replay",value:function(){var t;(t=this.pagenote).replay.apply(t,arguments),this.refreshStatus()}},{key:"remove",value:function(t){this.pagenote.remove(t),this.refreshStatus()}},{key:"syncInfo",value:function(){this.pagenote.makelink(),this.refreshStatus()}},{key:"addDragListener",value:function(){var t,e,n,r=this,o=this.pagenote,i=pn?"touchstart":"mousedown";document.addEventListener(i,(function(e){var r=e.target;setTimeout((function(){r.classList.contains("draggable")&&1==r.dataset.active&&(t=r.dataset.index,n=r)}),200)}));var a=pn?"touchend":"mouseup";document.addEventListener(a,(function(e){setTimeout((function(){t=-1}),200)}));var s=pn?"touchmove":"mousemove";document.addEventListener(s,u((function(i){if(t>=0){if(i.pageY<10||i.pageX<0)return;var a=o.recordedSteps[t];a.x=Math.floor(pn?i.touches[0].pageX:i.pageX),a.y=Math.floor(pn?i.touches[0].pageY:i.pageY);var s=ln.getTarget(a.id);if(s){var l=ln.getUniqueId(s);a.offsetX=a.x-l.left,a.offsetY=a.y-l.top,a.parentW=s.clientWidth}r.syncInfo(),n.dataset.moving="1",clearTimeout(e),window.getSelection().removeAllRanges(),e=setTimeout((function(){n.dataset.moving="0"}),500)}}),16))}},{key:"checkActive",value:function(){var t=this.pagenote;if(t.runningSetting.autoLight){var e=document.documentElement.clientHeight;t.recordedSteps.forEach((function(n,r){var o=ln.getTarget(n.id),i={},a=(i=o?ln.getUniqueId(o):{viewTop:n.y,viewLeft:n.x}).viewTop>0&&i.viewTop<e&&i.viewLeft>=0;t.replay(r,!1,!0,!1,a)})),this.refreshStatus()}}},{key:"componentDidMount",value:function(){this.addDragListener(),this.checkActive(),this.addLightClickListen(),window.addEventListener("scroll",this.checkActive),document.addEventListener("wheel",this.checkActive)}},{key:"addLightClickListen",value:function(){var t=this.pagenote;document.addEventListener("click",(function(e){var n=e.target,r=n&&"light"===n.tagName.toLowerCase()?n.dataset.highlight:"";r&&t.recordedSteps.forEach((function(e,n){e.lightId===r&&t.replay(n,!1,!0,!1,!e.isActive)}))}))}},{key:"componentWillUnmount",value:function(){}},{key:"recordNew",value:function(t){var e,n,r,o,i,a,s=this,l=this.state,c=this.pagenote,u=t.currentTarget.dataset.color||l.colors[0],p=l.barInfo,d=p.status,h=void 0===d?"":d,f=(e=t.currentTarget,{top:(n=e.getBoundingClientRect()).top,left:n.left}),g=f.top,v=f.left,y=p.top+30,_=document.documentElement.clientWidth-p.right-160-8,b="expand"===h;b&&(r=g+m().y,i=document.documentElement.clientHeight-40-16,a=r/document.documentElement.scrollHeight*i+40+16,o-un==1&&cn&&Math.abs(a-cn)<24&&(a=cn+8),a=Math.min(r,a,i),cn=a,un=o,y=a+20),this.setState({showBall:!this.state.showBall});var x=Math.abs((y-g)/(_-v)),w=v-_>0?-1:1,S=g-y>0?-1:1,k=v-_>0;window.requestAnimationFrame((function t(){if(k?_-v<=1:v-_<=1){var e=Math.abs(_-v)<=10?1*w:30*w;v+=e,g+=S*Math.abs(e)*x;var n={left:v,top:g,color:u,isLeft:k,arrived:!!b&&Math.abs(v-_)<15};s.setState({ballPos:n}),window.requestAnimationFrame(t)}else setTimeout((function(){c.record({bg:u})&&s.setState({showBall:!1,ballPos:{arrived:!1}})}),b?500:0)}))}},{key:"render",value:function(){var t=this,e=this.state,n=this.pagenote.CONSTANT,r=this.pagenote.target,o=this.pagenote.options.colors,i=o.length-1,a=this.state.user?this.state.user.avatar_url+"&s=30":"",s=2*Math.PI/360*30*i,l=pn?-40*(i+1):Number.parseFloat(20*Math.sin(s)).toFixed(3),c=pn?0:Number.parseFloat(20*Math.cos(s)).toFixed(3);return ze("div",{id:"pagenote"},ze("div",{style:{position:"absolute",zIndex:999999,left:(pn?0:e.targetInfo.x)+"px",top:(pn?e.targetInfo.y+50:e.targetInfo.y)+"px",transition:".5s",userSelect:"none",textAlign:"left"}},(e.status===n.WAITING||e.status===n.PLAYANDWAIT)&&ze("div",{className:en.a.recordContain},o.map((function(e,n){var r=2*Math.PI/360*30*(n-i),o=-40*n;pn||(o=0===n?0:Number.parseFloat(20*Math.sin(r)).toFixed(3));var a=0;pn||(a=0===n?0:Number.parseFloat(20*Math.cos(r)).toFixed(3));var s="translate(".concat(o,"px,").concat(a,"px)");return ze("div",{className:en.a.recordButton,"data-color":e,style:{"--color":e,transform:s,top:a/-1+"px",left:o/-1+"px"},onClick:function(e){t.recordNew(e)}},0===n&&ze("svg",{t:"1584087258159",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"15434",width:"26",height:"26"},ze("path",{d:"M768 128h-32V96c0-19.2-12.8-32-32-32s-32 12.8-32 32v32H544V96c0-19.2-12.8-32-32-32s-32 12.8-32 32v32H352V96c0-19.2-12.8-32-32-32s-32 12.8-32 32v32h-32c-35.2 0-64 32-64 70.4v694.4c0 35.2 28.8 67.2 64 67.2h512c35.2 0 64-32 64-70.4V198.4c0-38.4-28.8-70.4-64-70.4z m-96 640H352c-19.2 0-32-12.8-32-32s12.8-32 32-32h320c19.2 0 32 12.8 32 32s-12.8 32-32 32z m0-192H352c-19.2 0-32-12.8-32-32s12.8-32 32-32h320c19.2 0 32 12.8 32 32s-12.8 32-32 32z m0-192H352c-19.2 0-32-12.8-32-32s12.8-32 32-32h320c19.2 0 32 12.8 32 32s-12.8 32-32 32z","p-id":"15435",fill:"#ffffff"})))})),ze("svg",{className:en.a.recordButton,"data-color":"rgba(1,1,1,0.5)",title:"mask",style:{"--color":"rgba(1,1,1,0.5)",background:"#fff",transform:"translate(".concat(l,"px,").concat(c,"px)"),top:c/-1+"px",left:l/-1+"px",zIndex:-1},onClick:function(e){t.recordNew(e)},t:"1592058124478",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2955",width:"26",height:"26"},ze("path",{d:"M409.6 614.4h204.8v204.8H409.6v-204.8z m204.8-614.4h204.8v204.8h-204.8V0zM409.6 204.8h204.8v204.8H409.6V204.8zM0 204.8h204.8v204.8H0V204.8z m819.2 0h204.8v204.8h-204.8V204.8z m0 409.6h204.8v204.8h-204.8v-204.8zM0 614.4h204.8v204.8H0v-204.8z m614.4-204.8h204.8v204.8h-204.8V409.6zM204.8 409.6h204.8v204.8H204.8V409.6z m0 409.6h204.8v204.8H204.8v-204.8z m409.6 0h204.8v204.8h-204.8v-204.8zM204.8 0h204.8v204.8H204.8V0z","p-id":"3091"})))),ze(dn,{showBall:e.showBall,ballPos:e.ballPos,text:r.text}),e.steps.map((function(e,n){return ze(an,{key:n+e.id,step:e,index:n,avatar:a,syncInfo:t.syncInfo.bind(t),replay:t.replay.bind(t),remove:t.remove.bind(t)})})))}}]),n}(Re);function fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P()(t);if(e){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z()(this,n)}}var gn=0,vn=0,mn=null;function yn(t,e){var n=document.documentElement.clientHeight-40-16,r=t/document.documentElement.scrollHeight*n+40+16;return e-vn==1&&gn&&Math.abs(r-gn)<24&&(r=gn+8),r=Math.min(t,r,n),gn=r,vn=e,r}function _n(t){var e=t.step,n=t.running,r=void 0!==n&&n,o=t.index,i=t.onclick,a=t.barStatus;return ze("div",{title:"focus",className:"".concat(en.a.stepSign," ").concat(r?en.a.running:""," ").concat(e.isActive?en.a.isActive:""," ").concat(e.warn?en.a.noLight:""),style:{top:yn(e.y,o)+"px","--color":e.bg,position:"expand"===a?"absolute":""},onClick:function(t){i(o,!0,!0,!1,!e.isActive)}},e.text||e.tip)}var bn=function(t){I()(n,t);var e=fn(n);function n(t){var r;return A()(this,n),r=e.call(this),mn=r.pagenote=t.pagenote,r.toggleAllLight=r.toggleAllLight.bind(Qe()(r)),r.toggleAutoLight=r.toggleAutoLight.bind(Qe()(r)),r.replay=r.replay.bind(Qe()(r)),r.toggleSideBar=r.toggleSideBar.bind(Qe()(r)),r.state={barInfo:mn.runningSetting.barInfo,activeSteps:mn.recordedSteps.filter((function(t){return t.isActive})),steps:mn.recordedSteps,autoLight:mn.runningSetting.autoLight,highlightAll:mn.highlightAll,runindex:mn.runindex},mn.addListener(r.refreshStatus.bind(Qe()(r))),r}return T()(n,[{key:"componentDidMount",value:function(){}},{key:"refreshStatus",value:function(){this.setState({barInfo:mn.runningSetting.barInfo,activeSteps:mn.recordedSteps.filter((function(t){return t.isActive})),steps:mn.recordedSteps,autoLight:mn.runningSetting.autoLight,highlightAll:mn.highlightAll,runindex:mn.runindex})}},{key:"toggleAllLight",value:function(){var t=this.pagenote,e=t.lastaction===t.CONSTANT.DIS_LIGHT;t.replay(0,!1,!0,!0,e),!1===e&&(t.runningSetting.autoLight=!1),t.makelink()}},{key:"toggleAutoLight",value:function(){var t=this.pagenote;t.runningSetting.autoLight=!t.runningSetting.autoLight,t.makelink()}},{key:"replay",value:function(){var t;(t=this.pagenote).replay.apply(t,arguments),this.refreshStatus()}},{key:"toggleSideBar",value:function(){var t=this.state.barInfo.status||"";t="expand"===t?"fold":"expand",this.pagenote.runningSetting.barInfo.status=t,this.pagenote.makelink()}},{key:"setRef",value:function(t){var e=this,n=this.pagenote;if(!this.sideEl){this.sideEl=t;var r=null;!function(t,e){if(t){var n="ontouchstart"in window;t.style.cursor="move";var r=!1,o=n?"touchstart":"mousedown";t.addEventListener(o,(function(){setTimeout((function(){r=!0}),300)}));var i=n?"touchend":"mouseup";document.addEventListener(i,(function(){r=!1}));var a=n?"touchmove":"mousemove";document.addEventListener(a,u((function(t){r&&e(n?t.touches[0]:t)}),1e3/60))}}(t,(function(t){var o=t.clientX,i=t.clientY-10,a=n.runningSetting.barInfo;a.right=Math.max(4,document.documentElement.clientWidth-o-10),a.right=Math.min(a.right,document.documentElement.clientWidth-20),a.top=Math.max(Math.min(document.documentElement.clientHeight-200,i),0),clearTimeout(r),r=setTimeout((function(){n.makelink()}),600),e.setState({barInfo:n.runningSetting.barInfo})}))}}},{key:"confirmShare",value:function(){this.pagenote.options.onShare(this.pagenote)}},{key:"toggleHideSideBar",value:function(){var t=this.state.barInfo.status||"";t=t.indexOf("hide")>-1?"fold":"hide",this.pagenote.runningSetting.barInfo.status=t,this.pagenote.makelink()}},{key:"render",value:function(){var t=this,e=this.state,n=e.barInfo,r=e.activeSteps,o=e.steps,i=e.autoLight,a=e.highlightAll,s=e.runindex,l=n.status||"",c="hide"===l,u=0!==o.length,p="expand"===l?30:n.top;n.right=Math.max(4,Math.min(document.documentElement.clientWidth-170,n.right));var d=!!this.pagenote.options.onShare,h=n.right;return ze("aside",{className:"".concat(en.a.sideBar," ").concat(u?en.a.showBar:""," ").concat(c?en.a.easy:""),"data-status":n.status,style:{right:h+"px",top:p+"px",position:"fixed"}},ze("div",{className:en.a.icons},ze("div",{className:"".concat(en.a.icon," ").concat(en.a.easyButton),onClick:this.toggleHideSideBar.bind(this)},ze("svg",{t:"1590675065467",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3351",width:"20",height:"20"},ze("path",{d:"M512 0C347.395821 0 213.970149 133.425672 213.970149 298.029851v427.940298C213.970149 890.574328 347.395821 1024 512 1024S810.029851 890.574328 810.029851 725.970149v-427.940298C810.029851 133.425672 676.604179 0 512 0zM397.373134 340.319522L446.509851 290.38806 657.19403 504.358209 446.509851 718.328358 397.373134 668.396896 558.874746 504.358209 397.373134 340.319522z","p-id":"3352"}))),ze("div",{className:en.a.icon},ze("a",{className:"".concat(en.a.esLight," ").concat(a?"":en.a.lightAll),onClick:this.toggleAllLight},ze("svg",{viewBox:"0 0 1000 1000",version:"1.1",width:"20",height:"20"},ze("path",{d:"M634.9 770.3l-4.4 28H393.6l-4.4-28h245.7zM512 931c-30.4 0-55.9-21.6-62-50.2h124c-6.1 28.6-31.6 50.2-62 50.2z m103.5-79.3h-207c-3.4 0-6.4-2.2-7.4-5.5l-2.9-18.9H626l-3 18.9c-1 3.3-4 5.5-7.5 5.5zM384.7 741.3l-8.1-51.9-0.1-0.6c-7.4-30.4-22.6-58.6-43.8-81.7-42.5-46.2-65.9-106.1-65.9-168.7 0-135.1 109.9-245.1 245-245.3h0.3c134 0 244 108.9 245.3 242.9 0.6 62.7-22.5 122.6-65 168.6-21.5 23.2-36.8 51.7-44.3 82.4l-0.1 0.6-8.4 53.6H384.7z",fill:"#FFFFFF","p-id":"10480"}),ze("g",{id:en.a.light,style:{opacity:r.length/o.length}},ze("path",{d:"M357 741.1l-8-51.9-0.1-0.6c-7.4-30.4-22.4-58.6-43.5-81.7-42.2-46.2-65.4-106.1-65.4-168.7 0-135.1 109-245.1 243.1-245.3h0.3c133 0 242.1 108.9 243.3 242.9 0.6 62.7-22.3 122.6-64.5 168.6-21.3 23.2-36.5 51.7-43.9 82.4l-0.1 0.6-8.3 53.6H357z","p-id":"10481"})),ze("path",{d:"M605.8 770.8l-4.3 28H370.4l-4.3-28h239.7zM587 852.2H384.9c-3.3 0-6.3-2.2-7.2-5.5l-2.9-18.9h222.3l-2.9 18.9c-1 3.3-3.9 5.5-7.2 5.5z",fill:"#E87A66","p-id":"10482"}),ze("path",{d:"M484.9 931c-29 0-53.4-21.6-59.2-50.2H544c-5.8 28.6-30.1 50.2-59.1 50.2z",fill:"#65D5EF","p-id":"10483"}),ze("path",{d:"M512 164.1h-0.3c-73.2 0.1-142 28.6-193.7 80.4-51.7 51.8-80.2 120.6-80.2 193.9 0 35.2 6.6 69.7 19.7 102.6 12.7 31.8 30.8 60.7 53.8 85.7 17.8 19.3 30.5 42.9 36.8 68.4l24.5 157 0.1 0.6c4 16.5 18.7 28 35.7 28h12c6.4 44.7 45 79.2 91.5 79.2s85.1-34.5 91.5-79.2h12c17 0 31.7-11.5 35.7-28l0.1-0.6 5.6-35.7c0.2-0.9 0.4-1.8 0.4-2.7l18.9-120.4c6.4-25.7 19.3-49.6 37.3-69.1 47.5-51.5 73.3-118.5 72.7-188.6-0.7-72.6-29.6-140.9-81.5-192.2-51.6-51.1-120.1-79.3-192.6-79.3z m122.9 606.2l-4.4 28H393.6l-4.4-28h245.7zM512 931c-30.4 0-55.9-21.6-62-50.2h124c-6.1 28.6-31.6 50.2-62 50.2z m103.5-79.3h-207c-3.4 0-6.4-2.2-7.4-5.5l-2.9-18.9H626l-3 18.9c-1 3.3-4 5.5-7.5 5.5z m76.8-247c-21.5 23.2-36.8 51.7-44.3 82.4l-0.1 0.6-8.4 53.6h-113V570.8c0-8-6.5-14.5-14.5-14.5s-14.5 6.5-14.5 14.5v170.5H384.7l-8.1-51.9-0.1-0.6c-7.4-30.4-22.6-58.6-43.8-81.7-42.5-46.2-65.9-106.1-65.9-168.7 0-135.1 109.9-245.1 245-245.3h0.3c134 0 244 108.9 245.3 242.9 0.4 62.8-22.6 122.6-65.1 168.7z",fill:"#274359","p-id":"10484"}),ze("g",{id:en.a.sunshine},ze("path",{d:"M512 467c-8 0-14.5 6.5-14.5 14.5v29.7c0 8 6.5 14.5 14.5 14.5s14.5-6.5 14.5-14.5v-29.7c0-8-6.5-14.5-14.5-14.5zM511.4 146.9c8 0 14.5-6.5 14.5-14.5V78.5c0-8-6.5-14.5-14.5-14.5s-14.5 6.5-14.5 14.5v53.8c0 8.1 6.5 14.6 14.5 14.6zM281.4 234.1c2.8 2.8 6.5 4.3 10.3 4.3 3.7 0 7.4-1.4 10.3-4.3 5.7-5.7 5.7-14.9 0-20.5l-38.1-38.1c-5.7-5.7-14.9-5.7-20.5 0-5.7 5.7-5.7 14.9 0 20.5l38 38.1zM201 429.4h-53.8c-8 0-14.5 6.5-14.5 14.5s6.5 14.5 14.5 14.5H201c8 0 14.5-6.5 14.5-14.5 0.1-8-6.4-14.5-14.5-14.5zM282.3 653.4l-38.1 38.1c-5.7 5.7-5.7 14.9 0 20.5 2.8 2.8 6.5 4.3 10.3 4.3 3.7 0 7.4-1.4 10.3-4.3l38.1-38.1c5.7-5.7 5.7-14.9 0-20.5-5.8-5.7-14.9-5.7-20.6 0zM742.6 652.5c-5.7-5.7-14.9-5.7-20.5 0-5.7 5.7-5.7 14.9 0 20.5l38.1 38.1c2.8 2.8 6.5 4.3 10.3 4.3s7.4-1.4 10.3-4.3c5.7-5.7 5.7-14.9 0-20.5l-38.2-38.1zM876.8 428.2H823c-8 0-14.5 6.5-14.5 14.5s6.5 14.5 14.5 14.5h53.8c8 0 14.5-6.5 14.5-14.5s-6.5-14.5-14.5-14.5zM731.4 237.5c3.7 0 7.4-1.4 10.3-4.3l38.1-38.1c5.7-5.7 5.7-14.9 0-20.5-5.7-5.7-14.9-5.7-20.5 0l-38.1 38.1c-5.7 5.7-5.7 14.9 0 20.5 2.8 2.9 6.5 4.3 10.2 4.3z",fill:"#274359","p-id":"10485"}))))),ze("div",{className:en.a.icon,onClick:this.toggleAutoLight},ze("svg",{t:"1588601864954",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25957",width:"20",height:"20"},ze("path",{d:"M510.677 83.529c60.891 0 119.75 13.191 174.046 38.055l-40.087 70.028 202.97-1.016-101.99-175.063-35.52 61.909c-61.908-29.433-129.903-44.657-199.419-44.657-257.266 0-466.833 209.566-466.833 466.833 0 93.368 27.4 183.69 79.668 261.326l42.116-28.415c-46.684-69.012-71.039-149.183-71.039-232.91 0-229.355 186.729-416.09 416.088-416.09z m425.225 223.774l-46.175 20.802c24.356 53.788 37.039 111.637 37.039 171.512 0 229.358-186.73 416.089-416.089 416.089-46.684 0-92.351-7.608-135.99-22.832l34-65.968-202.468 10.148 110.116 170.5 35.52-69.012c50.738 18.777 104.526 27.908 159.33 27.908 257.265 0 466.832-209.567 466.832-466.833-0.507-66.98-14.715-131.93-42.115-192.314z m0 0","p-id":"25958",fill:i?"#03a9f4":"#515151"}),ze("path",{d:"M317.096 1023.06L192.387 829.965 421.78 818.47l-36.039 69.924c40.06 12.971 82.045 19.543 124.936 19.543 225.147 0 408.317-183.17 408.317-408.317 0-58.417-12.23-115.043-36.348-168.305l-3.212-7.094 60.343-27.186 3.203 7.059c27.889 61.462 42.292 127.226 42.81 195.467 0 261.757-212.908 474.664-474.606 474.664-54.211 0-106.5-8.76-155.546-26.05l-38.54 74.885zM220.05 844.143l95.524 147.906 32.521-63.187 6.458 2.39c49.176 18.198 101.874 27.425 156.632 27.425 253.126 0 459.06-205.933 459.06-459.06-0.48-63.377-13.353-124.59-38.275-182.018l-32.013 14.422c22.95 53.205 34.582 109.55 34.582 167.595 0 233.719-190.143 423.862-423.862 423.862-47.682 0-94.297-7.828-138.55-23.266l-8.448-2.948 31.914-61.92-175.543 8.8z m-98.64-72.405l-4.345-6.455C64.08 686.583 36.071 594.717 36.071 499.617c0-261.698 212.907-474.605 474.605-474.605 68.724 0 134.705 14.25 196.232 42.368L745.564 0.005 861.09 198.301l-229.898 1.151 42.514-74.27c-51.835-22.486-106.64-33.88-163.03-33.88-225.147 0-408.317 183.17-408.317 408.316 0 82.11 24.104 161.145 69.705 228.556l4.36 6.445-55.014 37.12zM510.677 40.557c-253.126 0-459.06 205.934-459.06 459.06 0 89.396 25.578 175.828 74.053 250.495l29.221-19.715c-44.563-68.554-68.074-148.169-68.074-230.78 0-233.717 190.143-423.861 423.861-423.861 61.471 0 121.117 13.04 177.283 38.76l7.738 3.543-37.618 65.714 176.044-0.882-88.458-151.83-32.41 56.489-6.498-3.09C645.482 55.329 579.51 40.558 510.677 40.558z","p-id":"25959",fill:i?"#03a9f4":"#515151"}),ze("path",{d:"M320.113 320.409h383.973v63.55H320.113z m0.184 127.952H704.27v63.55H320.297z m-0.184 127.803h383.973v63.55H320.113z","p-id":"25960",fill:i?"#03a9f4":"#515151"}))),ze("div",{className:en.a.icon,onClick:this.toggleSideBar},ze("svg",{t:"1588559997149",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24444",width:"20",height:"20"},ze("path",{d:"M152.3 467.8v88.3h90.5v-88.3h-90.5zM64 602.5v-181h896v180.9H64z m178.8-315.6v-88.3h-90.5v88.3h90.5zM64 152.3h896v180.9H64V152.3z m88.3 584.8v88.3h90.5v-88.3h-90.5zM64 871.7V690.8h896v180.9H64z","p-id":"24445",fill:l.indexOf("expand")>-1?"#03a9f4":"#515151"}))),d&&ze("div",{className:en.a.icon,onClick:this.confirmShare.bind(this)},ze("svg",{t:"1588566551449",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"18007",width:"20",height:"20"},ze("path",{d:"M838.284171 330.523147 837.725258 287.969701 714.845258 419.334273C703.255161 431.724638 703.903906 451.164645 716.294273 462.754742 728.684638 474.344839 748.124645 473.696094 759.714742 461.305727L882.594742 329.941156C893.854693 317.903731 893.608051 299.125248 882.035829 287.38771L759.155829 162.752281C747.244306 150.670594 727.793967 150.532649 715.712281 162.444171 703.630594 174.355693 703.492649 193.806032 715.404171 205.887719L838.284171 330.523147Z","p-id":"18008",fill:"#515151"}),ze("path",{d:"M204.933213 153.6C142.666561 153.6 92.16 204.043003 92.16 266.254734L92.16 798.793535C92.16 861.000106 142.464635 911.448269 204.598858 911.448269L778.441148 911.448269C840.512004 911.448269 890.880006 860.966865 890.880006 798.91141L890.880006 563.023553C890.880006 546.057366 877.126193 532.303553 860.160006 532.303553 843.193819 532.303553 829.440006 546.057366 829.440006 563.023553L829.440006 798.91141C829.440006 827.065383 806.548658 850.008269 778.441148 850.008269L204.598858 850.008269C176.436258 850.008269 153.6 827.106855 153.6 798.793535L153.6 266.254734C153.6 237.992709 176.581629 215.04 204.933213 215.04L389.12 215.04C406.086187 215.04 419.84 201.286187 419.84 184.32 419.84 167.353813 406.086187 153.6 389.12 153.6L204.933213 153.6Z","p-id":"18009",fill:"#515151"}),ze("path",{d:"M460.8 471.04C460.8 397.496685 520.297624 337.92 593.730632 337.92L839.68 337.92C856.646187 337.92 870.4 324.166187 870.4 307.2 870.4 290.233813 856.646187 276.48 839.68 276.48L593.730632 276.48C486.346971 276.48 399.36 363.58256 399.36 471.04L399.36 634.88C399.36 651.846187 413.113813 665.6 430.08 665.6 447.046187 665.6 460.8 651.846187 460.8 634.88L460.8 471.04Z","p-id":"18010",fill:"#515151"}))),ze("div",{className:en.a.icon},ze("a",{target:"_blank",href:"https://addons.mozilla.org/zh-CN/firefox/addon/page-note/"},ze("svg",{t:"1589809778730",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3021",width:"20",height:"20"},ze("path",{d:"M864 83.2H371.2c-44.8 0-83.2 38.4-83.2 83.2v390.4c0 44.8 38.4 83.2 83.2 83.2h224l166.4 166.4L832 640h25.6c44.8 0 83.2-38.4 83.2-83.2V166.4c6.4-44.8-32-83.2-76.8-83.2zM230.4 556.8V307.2H134.4c-44.8 0-83.2 38.4-83.2 83.2v332.8c0 44.8 38.4 83.2 83.2 83.2V960l179.2-153.6h153.6c44.8 0 83.2-38.4 83.2-83.2v-25.6H371.2c-76.8 0-140.8-64-140.8-140.8z m0 0","p-id":"3022",fill:"#515151"})))),ze("div",{id:"drag-bar",ref:this.setRef.bind(this),className:"".concat(en.a.icon," ").concat(en.a.moveIcon)},ze("svg",{t:"1588585290337",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"18962",width:"20",height:"20"},ze("path",{d:"M951.990857 512a30.317714 30.317714 0 0 1-9.691428 22.016l-124.964572 125.842286c-6.473143 6.473143-14.08 9.691429-22.893714 9.691428s-16.128-3.218286-22.016-9.691428-8.813714-13.787429-8.813714-22.016v-63.378286h-189.184v189.184h63.378285c8.228571 0 15.542857 2.925714 22.016 8.813714s9.691429 13.202286 9.691429 22.016-3.218286 16.128-9.691429 22.016l-125.842285 125.842286c-5.851429 6.473143-13.202286 9.691429-22.016 9.691429s-16.128-3.218286-22.016-9.691429l-125.842286-125.842286c-6.473143-5.851429-9.691429-13.202286-9.691429-22.016s3.218286-16.128 9.691429-22.016 13.787429-8.813714 22.016-8.813714h63.341714v-189.184H260.278857v63.378286c0 8.228571-2.925714 15.542857-8.813714 22.016s-13.202286 9.691429-22.016 9.691428-16.128-3.218286-22.016-9.691428l-125.842286-125.842286c-6.473143-6.473143-9.691429-13.787429-9.691428-22.016s3.218286-15.542857 9.691428-22.016l125.842286-125.842286c5.851429-6.473143 13.202286-9.691429 22.016-9.691428s16.128 3.218286 22.016 9.691428 8.813714 13.787429 8.813714 22.016v63.341715h189.184V260.315429h-63.341714c-8.228571 0-15.542857-2.925714-22.016-8.813715s-9.691429-13.202286-9.691429-22.016 3.218286-16.420571 9.691429-22.893714l125.842286-124.964571c6.473143-6.473143 13.787429-9.691429 22.016-9.691429s15.542857 3.218286 22.016 9.691429l125.842285 124.964571c6.473143 6.473143 9.691429 14.08 9.691429 22.893714s-3.218286 16.128-9.691429 22.016-13.787429 8.813714-22.016 8.813715h-63.341714v189.184h189.184v-63.341715c0-8.228571 2.925714-15.542857 8.813714-22.016s13.202286-9.691429 22.016-9.691428 16.420571 3.218286 22.893715 9.691428l124.964571 125.842286c6.473143 5.851429 9.691429 13.202286 9.691429 22.016z","p-id":"18963",fill:"#707070"})))),ze("div",{className:"".concat(en.a.signContainer,"  ").concat("expand"===l?en.a.expand:"")},o.map((function(e,n){return ze(_n,{barStatus:l,key:n+"-"+e.y,step:e,running:n===s,index:n,onclick:t.replay})}))),ze("div",{className:en.a.pageType},ze("span",null,"pagenote"),ze("span",null,"+")))}}]),n}(Re);function xn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new xe(t,e),r=document.createElement("aside");r.dataset.pagenote="lights",document.body.appendChild(r),Ze(ze(hn,{pagenote:n}),r);var o=document.createElement("aside");return o.dataset.pagenote="sidebar",document.body.appendChild(o),Ze(ze(bn,{pagenote:n}),o),n}e.default=xn;window.PageNote=xn},function(t,e,n){"use strict";function r(t){var e=t.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,l=e.top+o-a,c=e.left+i-s;return{top:Math.round(l),left:Math.round(c)}}n.r(e);var o,i=window.document,a=function(){},s=o=function(t){this.options=Object.assign({},{draw:!0,simpleId:!0},t),this.lastClick=document.body;var e=this;document.addEventListener("mousedown",(function(t){e.lastClick=t.target,e.focusedElement!==e.lastClick&&o.prototype.clean()}))},l=s.prototype;l.getUniqueId=function(t,e){if(!((t=t||this.lastClick)instanceof HTMLElement))return console.error("input is not a HTML element"),{};var n={wid:"",type:"",top:r(t).top,left:r(t).left,viewLeft:t.getBoundingClientRect().left,viewTop:t.getBoundingClientRect().top,text:t.innerText},o=t.id,a=t.name,c=t.tagName.toLowerCase(),u=t.type?t.type.toLowerCase():"",p="",d=t.classList||[];if(d.forEach((function(t){p+="."+t})),"body"!==c&&"html"!==c||(n.wid=c,n.type=c),o&&i.getElementById(o)===t){var h=new RegExp("^[a-zA-Z]+");!e&&this.options.simpleId?n.wid=o:h.test(o)&&(n.wid=c+"#"+o),n.type="document.getElementById()"}if(!n.wid&&a&&i.getElementsByName(a)[0]===t&&(n.wid=a,n.type="document.getElementsByName()"),!n.wid&&p&&i.querySelector(c+p)===t){n.wid=c+p,n.type="document.querySelector()";var f=d.length;if(f>2){for(var g=1,v=[];Math.pow(2,g)<f;)v.push(Math.pow(2,g)),g++;v.push(f);for(var m=0;m<v.length;m++)v[m]}}if("radio"===u){var y=c+"[value='"+t.value+"']";a&&(y+="[name='"+a+"']"),i.querySelector(y)===t&&(n.wid=y,n.type="document.querySelector()")}if(n.wid||(y=c,y=p?y+p:y,y=a?y+"[name='"+a+"']":y,l.getTarget(y)===t&&(n.wid=y,n.type="document.querySelector()")),!n.wid){y=c,y=p?y+p:y;var _=i.querySelectorAll(y);if(_&&_.length>0){for(var b=null,x=0;x<_.length;x++)if(t===_[x]){b=x+1;break}b&&(y=y+":nth-child("+b+")",i.querySelector(y)===t&&(n.wid=y,n.type="document.querySelector()"))}}if(!n.wid){if(!t.parentNode)return;var w=s.prototype.getUniqueId(t.parentNode,!0),S=w?w.wid:"";if(!S)return{wid:"",type:"NO_LOCATION"};var k=c;if(p&&(k+=p),y=S+">"+k,i.querySelectorAll(y).length>1){y=null;b=null;for(var N=0;N<t.parentNode.children.length;N++)if(t.parentNode.children[N]===t){b=N+1;break}if(b>=1)y=S+">"+k+":nth-child("+b+")",i.querySelector(y)!=t&&(y=null)}n.wid=y,n.type="document.querySelector()"}return this.focusedElement=l.getTarget(n.wid),!e&&this.options.draw&&this.__proto__.draw(n),n},l.getTarget=function(t){return i.getElementById(t)||i.getElementsByName(t)[0]||i.querySelector(t)},l.clean=a,l.draw=a,window.whatsElement=s;e.default=s}])}));