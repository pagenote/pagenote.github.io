!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(window,function(){return o={},i.m=n=[function(t,e,n){var o=n(2);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(4)(o,i);o.locals&&(t.exports=o.locals)},function(t,e,n){var o=n(7);t.exports=o.default},function(t,e,n){(e=t.exports=n(3)(!1)).push([t.i,"@media screen and (max-width: 720px){.l5z .c3X:not(:first-child){transform:translate(0, 0) scale(0.59) !important;opacity:1}._1FS{width:40px}}._1FS{display:none;position:fixed;right:-100px;z-index:99999;top:0;width:168px;border:1px solid #d0d0d0;border-radius:8px 8px 4px 4px;user-select:none;background:#fff;transition:width 0.5s ease-out}._1FS._1-8{display:block}._1FS.kz8{background:transparent;border:none;width:18px;right:10px;overflow:hidden;transition:width 0.5s ease-out}._1FS.kz8 .V5y{border:none;background:transparent}._1FS.kz8 ._1e4{transform:rotate(180deg)}._1FS.kz8 ._3Nx{white-space:nowrap;height:8px;border-left-width:0;width:8px;background:var(--color);border-radius:8px;box-sizing:border-box;padding:0 0 0 8px;margin-bottom:10px}._1FS.kz8 ._3Nx.vRo{transform:translateX(0) scale(2)}._1FS ._1e4{transition:all 1.3s ease-out;transform:rotate(0deg)}._1FS ._1TE{background:#757575;color:#fff;cursor:pointer}._1FS .V5y{display:flex;justify-content:space-between;background:#efefef;border-radius:8px 8px 0 0;border-bottom:1px solid #e6e6e6}._1FS .V5y ._3fJ{position:relative;padding:2px 0;cursor:pointer}._1FS .V5y ._3PR{display:none;transition:height 0.1s ease-out}._1FS .V5y ._3PR._1Ve{display:flex}._1FS .V5y ._50P{cursor:move}._2Zd{padding:8px 0 8px 6px}._2Zd._2ou{padding:0}._2Zd._2ou ._3Nx{border-top:1px solid #e6e6e6;border-right:1px solid #e6e6e6;border-bottom:1px solid #e6e6e6}._3Nx{display:block;font-size:12px;left:0;top:0;width:100%;height:20px;line-height:20px;overflow:hidden;text-align:left;cursor:pointer;border-left:4px solid var(--color);padding:0 6px;box-sizing:border-box;background-color:#fff;margin-bottom:5px;white-space:nowrap;text-overflow:ellipsis;color:#333;transition:all 0.3s}._3Nx:last-child{margin-bottom:0}._3Nx._3kC,._3Nx:hover{max-height:5em;z-index:1}._3Nx:hover{background-color:#fbfcff;user-select:auto;z-index:2 !important}._3Nx.vRo{z-index:1;width:calc(100% + 16px);height:auto;max-height:5em;transform:translateX(-16px);border-radius:5px 0 0 5px;border-left:8px solid var(--color);background-color:#fbfcff}._1fF{z-index:9999}._1fF:hover{z-index:99999}._1fF._2N_ ._1Zj{cursor:move;transform:scale(2);animation:none;box-shadow:0px 0px 0px 1px #fff}._1fF._2N_ ._1Zj:before,._1fF._2N_ ._1Zj:after{display:none}._1fF._2N_ ._13E:hover ._2Je{opacity:1;transform:scale(2) translate(16px, 0px)}._1fF._2N_ ._13E:hover ._1gB{opacity:1;transform:scale(2) translate(-16px, 0px)}._1fF ._13E:hover ._1Zj{transform:scale(2)}._1fF ._2Je,._1fF ._1gB{position:absolute;opacity:0;top:6px;left:-7px;width:13px;height:13px;cursor:pointer;border-radius:2px;transition:all 0.5s}._1fF ._2Je svg,._1fF ._1gB svg{vertical-align:super;box-shadow:1px 1px 3px 0px #d0cfc6;border-radius:2px;background:#fff}._1fF ._1Zj{position:absolute;z-index:1;width:13px;height:13px;border:1px solid var(--bg-color);top:6px;left:-7px;border-radius:50%;color:#fff;cursor:pointer;animation:tRz 1.5s linear infinite;animation-direction:alternate;transition:0.3s;background-color:var(--bg-color);background-size:cover;background-repeat:no-repeat;background-position:center}._1fF ._1Zj:before{content:'';position:absolute;left:-1px;top:6px;width:9px;height:1px;border-left:solid 3px currentColor;border-right:solid 3px currentColor}._1fF ._1Zj:after{content:'';position:absolute;left:6px;top:-1px;width:1px;height:9px;border-top:solid 3px currentColor;border-bottom:solid 3px currentColor}._1fF ._1Zj:hover{transform:scale(2);animation:none}._1fF ._1Zj:hover+._1z1{display:block}._1fF ._1z1{display:none;box-sizing:border-box;overflow:hidden;width:0;height:0;min-height:20px;font-size:14px;border-radius:5px;background:radial-gradient(26px 26px at left 13px, transparent 50%, var(--bg-color) 50%);box-shadow:0px 0px 1px 2px #fff;transition:all 0.2s}._1fF ._1z1._1s7{display:block;width:auto;height:auto}._1fF ._1z1._1s7:hover,._1fF ._1z1._1s7:focus{z-index:99999999;border-radius:0 0 5px 5px}._1fF ._1z1._1s7:hover .eQ7,._1fF ._1z1._1s7:focus .eQ7{opacity:1;border-bottom:1px solid #fff;transform:translateY(-20px)}._1fF ._1z1 ._1zy{display:none;box-sizing:border-box;width:100%;min-width:200px;max-width:280px;padding:2px 14px 2px 20px;border-radius:6px;user-select:none}._1fF ._1z1 ._1zy._16J{display:block}._1fF ._1z1 ._1zy:focus,._1fF ._1z1 ._1zy._2G5{outline:1px solid #eee;user-select:all}._1fF ._1z1 ._1zy:focus+.eQ7{z-index:1;opacity:1;transform:translateY(-20px)}._1fF ._1z1 ._1zy img{max-width:100%;max-height:100%}._2bP{display:none;width:12px;height:12px;position:absolute;top:-14px;left:0;background-color:#189cfd;border-radius:14px}.eQ7{position:absolute;top:0;opacity:0;left:0;height:20px;width:100%;font-size:12px;box-sizing:border-box;padding:0 8px;white-space:nowrap;transition:all 0.3s;background:var(--bg-color);border-radius:5px 5px 0 0;will-change:transform}._1Qg{display:block;width:20px;height:20px;position:absolute;right:0;top:0;cursor:pointer}._2iJ{position:fixed;left:50%;top:50%;transform:translate(-50%, -50%);min-width:200px;font-size:14px;padding:10px;background:#f7f7f7;box-shadow:0px 0px 9px 1px #676767}._2iJ label{display:inline-block;width:80px}.f4X{position:absolute;right:-7px;top:-7px;color:black;margin-top:2px;margin-left:3px;width:12px;height:12px;border:solid 1px currentColor;background-color:currentColor;border-radius:100%}.f4X:before{content:'';position:absolute;width:8px;height:3px;color:white;background-color:currentColor;left:2px;top:4px}.oLC{display:none;position:fixed;z-index:99999;font-size:12px;line-height:20px;padding:0px 4px;width:20px;box-sizing:border-box;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;background:#f36b5d;border-radius:10px;transition:width 0.5s}.oLC._2FU{display:block}.oLC.uyU{width:160px;background:#fff;border-radius:4px}.l5z{position:relative}.c3X{display:block;width:30px !important;height:30px !important;position:absolute;opacity:0;border:none !important;box-shadow:0px 2px 7px 0px rgba(39,43,49,0.2) !important;background-color:var(--color);border-radius:40px !important;background-size:cover !important;background-position:center !important;background-repeat:no-repeat !important;cursor:pointer;transition:all 0.3s ease-out;padding:2px;box-sizing:border-box}.c3X:first-child{left:0 !important;top:0 !important;opacity:1 !important;width:30px !important;height:30px !important;z-index:1}.l5z:hover .c3X:not(:first-child){transform:translate(0, 0) scale(0.59) !important;opacity:1}.OTU{z-index:999999;padding:4px;border:none;box-shadow:0 2px 4px rgba(0,0,0,0.5);font-weight:600;color:#fff;background-color:#189cfd;border-radius:6px;outline:none;cursor:pointer;transition:all 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms}.OTU:hover{background-color:#1976d2}b[data-highlight='y']{cursor:pointer}._3Ds #_-1e{fill:#fff}._3Ds #cGb{display:none}._3Ds._266 #_-1e,._3Ds._266 #cGb{display:block;fill:#ff720f}light[data-highlight]{position:relative;display:inline-block;z-index:1;cursor:pointer;font-size:inherit !important;font-family:inherit !important}light[data-highlight]:after{z-index:-1;display:block;position:absolute;left:0;bottom:0;content:' ';width:100%;height:2px;background-color:var(--color);transition:height 0.5s ease-out;animation:tRz 1.5s linear infinite;animation-direction:alternate}light[data-highlight][data-active='1']:after,light[data-highlight]:hover:after{animation:none;height:100%}._1Rg._3fJ{color:#000;position:absolute;margin-left:3px;margin-top:10px;width:16px;height:1px;background-color:currentColor}._1Rg._3fJ:before{content:'';position:absolute;left:1px;top:-5px;width:10px;height:10px;border-top:solid 1px currentColor;border-right:solid 1px currentColor;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}._2BO._3fJ{color:#000;position:absolute;margin-left:2px;margin-top:6px;width:17px;height:5px;border-top:solid 1px currentColor;border-bottom:solid 1px currentColor}._2BO._3fJ:before{content:'';position:absolute;top:2px;left:0;width:11px;height:5px;border-top:solid 1px currentColor;border-bottom:solid 1px currentColor}.EyG._3fJ{color:#000;position:absolute;margin-left:2px;margin-top:6px;width:17px;height:5px;border-top:solid 1px currentColor;border-bottom:solid 1px currentColor}.EyG._3fJ:before{content:'';position:absolute;top:2px;right:0;width:11px;height:5px;border-top:solid 1px currentColor;border-bottom:solid 1px currentColor}._37b._3fJ{color:#000;position:absolute;margin-left:3px;margin-top:3px;width:12px;height:12px;border-radius:70% 15%;border:solid 1px currentColor;-webkit-transform:rotate(45deg);transform:rotate(45deg)}._37b._3fJ:before{content:'';position:absolute;left:2px;top:2px;width:6px;height:6px;border-radius:50%;border:solid 1px currentColor;background-color:currentColor}div[data-tip]:after{display:none;content:attr(data-tip);position:absolute;white-space:nowrap;font-size:12px;top:-20px;left:0;transform-origin:left;border-radius:3px;padding:0 4px;background:#333;color:#fff}div[data-position=top]:after{top:-20px;right:0}div[data-tip]:hover::after{display:block}@keyframes _1HC{0%{opacity:0.3;transform:scale(0.3)}100%{transform:scale(1);opacity:1}}@keyframes tRz{0%{box-shadow:0px 0px 1px 2px #fff}100%{box-shadow:0px 0px 2px 2px rgba(199,198,198,0.52)}}@keyframes _1y5{0%{right:initial}100%{right:-160px}}\n",""]),e.locals={recordContain:"l5z",recordButton:"c3X",sideBar:"_1FS",showBar:"_1-8",easy:"kz8",icons:"V5y",easyButton:"_1e4",stepSign:"_3Nx",isActive:"vRo",toggleButton:"_1TE",icon:"_3fJ",moreIcons:"_3PR",showMore:"_1Ve",moveIcon:"_50P",signContainer:"_2Zd",expand:"_2ou",running:"_3kC",stepTag:"_1fF",LightActive:"_2N_",point:"_1Zj",points:"_13E",menuPoint:"_2Je",deleteButton:"_1gB","light-point":"tRz",box:"_1z1",show:"_1s7",handlebar:"eQ7",editcontent:"_1zy",showEdit:"_16J",writing:"_2G5",pointColor:"_2bP",deleteicon:"_1Qg",menuContainer:"_2iJ",close:"f4X",recordBall:"oLC",recording:"_2FU",arrived:"uyU",menuButton:"OTU",esLight:"_3Ds",light:"_-1e",sunshine:"cGb",lightAll:"_266",arrowLeft:"_1Rg",leftAlign:"_2BO",rightAlign:"EyG",eye:"_37b","point-notifi":"_1HC",fade_out_none:"_1y5"}},function(t,e){t.exports=function(n){var a=[];return a.toString=function(){return this.map(function(t){var e=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(o),r=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(r).concat([i]).join("\n")}return[n].join("\n")}(t,n);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},a.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<t.length;o++){var r=t[o];"number"==typeof r[0]&&n[r[0]]||(e&&!r[2]?r[2]=e:e&&(r[2]="("+r[2]+") and ("+e+")"),a.push(r))}},a}},function(t,e,o){var n,i,r,l={},c=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),a=(r={},function(t,e){if("function"==typeof t)return t();if(void 0===r[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}r[t]=n}return r[t]}),u=null,p=0,s=[],d=o(5);function f(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=l[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(y(o.parts[r],e))}else{var a=[];for(r=0;r<o.parts.length;r++)a.push(y(o.parts[r],e));l[o.id]={id:o.id,refs:1,parts:a}}}}function h(t,e){for(var n=[],o={},i=0;i<t.length;i++){var r=t[i],a=e.base?r[0]+e.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function g(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=s[s.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),s.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,n);n.insertBefore(e,i)}}function v(t){if(null!==t.parentNode){t.parentNode.removeChild(t);var e=s.indexOf(t);0<=e&&s.splice(e,1)}}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return o.nc}();n&&(t.attrs.nonce=n)}return _(e,t.attrs),g(t,e),e}function _(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function y(e,t){var n,o,i,r,a,s;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var l=p++;n=u=u||m(t),o=w.bind(null,n,l,!1),i=w.bind(null,n,l,!0)}else i=e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=t,s=document.createElement("link"),void 0===a.attrs.type&&(a.attrs.type="text/css"),a.attrs.rel="stylesheet",_(s,a.attrs),g(a,s),o=function(t,e,n){var o=n.css,i=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(o=d(o));i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n=s,t),function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),function(){v(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}t.exports=function(t,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=c()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=h(t,a);return f(s,a),function(t){for(var e=[],n=0;n<s.length;n++){var o=s[n];(i=l[o.id]).refs--,e.push(i)}t&&f(h(t,a),a);for(n=0;n<e.length;n++){var i;if(0===(i=e[n]).refs){for(var r=0;r<i.parts.length;r++)i.parts[r]();delete l[i.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,r=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(n=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,n){"use strict";function k(t){var e=((t||window.location.href).match(/\?(.*)/)||[])[1],n={},o=[];return e&&e.split("&").forEach(function(t){var e=t.split("=");e[0]&&(o.push(e[0]),n[e[0]]=e[1])}),{paramObj:n,paramKeys:o}}function E(t){return btoa(encodeURI(JSON.stringify(t)))}function p(t){var e={};try{e=JSON.parse(decodeURI(atob(t)))}catch(t){}return e}function c(n,t){var o=1<arguments.length&&void 0!==t?t:300,i=!0;return function(){var t=arguments,e=this;i&&(i=!1,setTimeout(function(){n.apply(e,t),i=!0},o))}}n.r(e);window;function d(t,e,n,o,i){var r=t.splitText(e),a=r.splitText(n-e),s=document.createElement("light");return s.dataset.highlight=i,s.style.backgroundColor=o,s.style="--color:".concat(o),s.textContent=r.textContent,r.parentNode.replaceChild(s,r),a}var L=function(t,o,e,n,i,r){var a=3<arguments.length&&void 0!==n?n:"",s=4<arguments.length&&void 0!==i?i:[],l=5<arguments.length?r:void 0;if(t&&o)if(e){t.dataset.highlightbk="y";var c=0,u=[o],p=function(t){var e,n=[],o={acceptNode:function(t){return 3===t.nodeType?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},i=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,o,!1),r="";for(;e=i.nextNode();)n.push({node:e,start:r.length,end:(r+=e.textContent).length});return{nodes:n,value:r}}(t);p.id=E(o),p.color=a;var d=0,f=function t(e){var n=new RegExp(o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/[\s]+/gim,"[\\s]+"),"gmi");!function(t,n,e,o,i,r){var a,s=0===e?0:e+1;for(;null!==(a=n.exec(t.value))&&""!==a[s];){var l=a.index;if(0!==s)for(var c=1;c<s;c++)l+=a[c].length;var u=l+a[s].length;m(t,l,u,function(t){return o(a[s],t)},function(t,e){n.lastIndex=e,i(t)})}r()}(p,n,0,function(t,e){var n=s.some(function(t){return t.contains(e)}),o=e.parentNode||document.body;return d=o.dataset.highlight?d+1:d,!n&&!o.dataset.highlight},function(t){c++},function(){u[u.length-1]===e||t(u[u.indexOf(e)+1])})};0===u.length||(f(u[0]),0===c&&setTimeout(function(){f(u[0])},2e3),"function"==typeof l&&l({totalMatches:c||d,id:p.id}))}else{for(var h=t.querySelectorAll("light[data-highlight='".concat(E(o),"']")),g=0;g<h.length;g++){var v=h[g];v.outerHTML=v.innerHTML}0===t.querySelectorAll("light[data-highlight]").length&&delete t.dataset.highlightbk}else l({totalMatches:0})},N=function(t,s,l,c){if(l>document.documentElement.clientHeight/2&&t&&t.scrollIntoView)return t.scrollIntoView({block:"center",behavior:"smooth"}),void("function"==typeof c&&setTimeout(function(){return c()},100));var u=setInterval(function(){var t,e,n=w(),o=n.x,i=n.y;t=o+(s-o)/6,e=i+(l-i)/6,f.scrollLeft=t,f.scrollTop=e,window.scrollTo(t,e);var r=w(),a=r.x;i===r.y&&o===a&&(clearInterval(u),"function"==typeof c&&c())},30);return u},f=document.documentElement||document.body;function w(){return{x:window.pageXOffset||f.scrollLeft||f.scrollLeft,y:window.pageYOffset||f.scrollTop||f.scrollTop}}function S(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}}function m(s,l,c,u,p){s.nodes.every(function(t,n){var e=s.nodes[n+1];if(void 0===e||e.start>l){if(!u(t.node))return!1;var o=l-t.start,i=(c>t.end?t.end:c)-t.start,r=s.value.substr(0,t.start),a=s.value.substr(i+t.start);if(t.node=d(t.node,o,i,s.color,s.id),s.value=r+a,s.nodes.forEach(function(t,e){n<=e&&(0<s.nodes[e].start&&e!==n&&(s.nodes[e].start-=i),s.nodes[e].end-=i)}),c-=i,p(t.node.previousSibling,t.start),!(c>t.end))return!1;l=t.end}return!0})}var o=n(1),i=n.n(o);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,r=!0,a=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return r=t.done,t},e:function(t){a=!0,i=t},f:function(){try{r||null==o.return||o.return()}finally{if(a)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var A=new i.a;function r(t){var y=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.id=t||"pagenote-container",this.options=Object.assign({initType:"default",dura:100,saveInURL:!1,saveInLocal:!0,maxMarkNumber:50,blacklist:[],autoLight:!1,colors:["rgba(114,208,255,0.88)","#ffbea9","#c8a6ff","#6fe2d5","rgba(255,222,93,0.84)","rgba(251, 181, 214, 0.84)","rgba(0,0,0,0.5)"],barInfo:{right:4,top:200,status:"fold"},onShare:null},e),this.recordedSteps=[],this.snapshot="",this.runindex=null;var n=JSON.parse(JSON.stringify(this.options.barInfo));n.status=n.status||"fold",this.runningSetting=Object.assign({},{initType:this.options.initType,dura:this.options.dura,autoLight:this.options.autoLight,barInfo:n}),this.target={},this.url=window.location.href,this.data="",this.blackNodes=[],this.lastaction=this.CONSTANT.DIS_LIGHT;var o,v,m,d=this.target,i=[],_=null,b=this.CONSTANT,x=this.options,w=window.location,f="ontouchstart"in window,h=this.blackNodes,S=["x","y","id","text","tip","bg","time","isActive","offsetX","offsetY","parentW"];function c(){var t=document.getSelection(),e=t.anchorNode?t.getRangeAt(0).commonAncestorContainer.parentNode:null;if(e){var n,o=C(h);try{for(o.s();!(n=o.n()).done;){if(n.value.contains(e))return}}catch(t){o.e(t)}finally{o.f()}var i=t.toString().trim();if(this.status!==b.WAITING||i!==d.text)if(i){var r=t.getRangeAt(0).getClientRects(),a=r[r.length-1];if(!a)return;var s=f?a.x+a.width/2:Math.min(a.x+a.width+12,window.innerWidth-150),l=window.scrollY+a.y+(f?a.height:a.height/2),c=A.getUniqueId(e),u=parseInt(s),p=parseInt(l);this.target=d={x:u,y:p,text:i,tip:"",time:(new Date).getTime(),id:c.wid,isActive:"hide"!==this.runningSetting.barInfo.status,bg:"",offsetX:u-c.left,offsetY:p-c.top,parentW:parseInt(e.clientWidth)},this.status=this.status===b.REPLAYING||this.status===b.PLAYANDWAIT?b.PLAYANDWAIT:b.WAITING}else this.target=d={},this.status=b.PAUSE}}var u=!1;this.init=function(e){var t=this,n=arguments,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1];!(e=e||k().paramObj[b.ID])&&this.options.saveInLocal&&(e=localStorage.getItem(this.id));var i=[],r={};if(e)try{if("object"===g(e)&&e.steps)i=e.steps||[],r=e.setting||{};else if("string"==typeof e){var a=p(e);i=a.steps||[],r=a.setting||{}}}catch(t){console.error("解析step异常",t,e)}switch(this.recordedSteps.splice(0,this.recordedSteps.length),i.forEach(function(n){var o={};S.forEach(function(t,e){o[t]=n[e]}),t.recordedSteps.push(o)}),this.runningSetting=Object.assign(this.runningSetting,r),setTimeout(function(){var t=document.querySelector("*[data-pagenote]");t&&h.push(t),x.blacklist.forEach(function(t){var e=A.getTarget(t);e&&h.push(e)})},0),[].forEach.call(document.querySelectorAll("light[data-highlight]"),function(t){t.outerHTML=t.innerHTML}),this.runningSetting.initType){case"light":this.replay(0,!1,!0,!0,!0);break;case"default":this.replay(0,!1,!0,!0,function(t){return t.isActive})}if(!u){(function(){var e=this,n=null;f?(document.addEventListener("touchstart",function(t){n=t}),document.onselectionchange=function(t){n.target&&"record"!==n.target.id&&c.call(e)}):document.addEventListener("mouseup",function(t){c.call(e)})}).call(this),u=!0,window.addEventListener("hashchange",function(){t.status=b.HASHCHANGED}),window.addEventListener("popstate",function(){t.status=b.URLCHANGED});var s=window.history.pushState;window.history.pushState=function(){s.apply(t,n),t.status=b.URLCHANGED};var l=window.history.replaceState;window.history.replaceState=function(){l.apply(t,n),t.status=b.URLCHANGED}}this.status=b.READY,o&&this.makelink()},this.addListener=function(t){"function"==typeof t&&i.push(t)},this.record=function(){var e=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;n=Object.assign(d,n);var o=x.maxMarkNumber;return this.recordedSteps.length>=o?(alert("标记失败！最大标记数量为 "+o),!1):!(!t&&this.status!==b.WAITING)&&(this.status=b.RECORDING,this.recordedSteps.push(n),this.recordedSteps=this.recordedSteps.sort(function(t,e){return t.y-e.y}),window.getSelection().removeAllRanges(),L(A.getTarget(n.id),n.text,!0,n.bg,this.blackNodes,function(t){n.lightId=t.id;var e=document.querySelectorAll("light[data-highlight='".concat(t.id,"']"))||[];[].forEach.call(e,function(t){t.dataset.active=n.isActive?"1":"0"})}),this.makelink(function(t){if(!t)return alert("保存失败"),e.recordedSteps.splice(-1,1),console.error("记录失败"),e.status=b.RECORDFAIL,!1;e.status=b.RECORDED}),!0)},this.remove=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;if(t<0){for(;0<this.recordedSteps.length;)this.replay(0,!1,!1),this.recordedSteps.splice(0,1);this.status=b.PAUSE,this.status=b.REMOVEDALL}else this.replay(t,!1,!1),this.recordedSteps.splice(t,1),this.status=b.REMOVED;this.makelink()},this.replay=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],a=this.runningSetting.dura,s=this.recordedSteps[e];if(!s)return this.runindex=_,void(this.status=b.DONE);var l="function"==typeof o?o(s):o,c="function"==typeof r?r(s):r,u=s.x,p=s.y,d=s.id,f=s.text;clearInterval(m),clearTimeout(v),m=v=_,this.runindex=e,this.status=b.REPLAYING,this.lastaction=c?b.LIGHT:b.DIS_LIGHT,s.isActive=c;var h=d?A.getTarget(d):_,g=this;!function t(e){!(h=d?A.getTarget(d):_)&&0<e?setTimeout(function(){t(e-1)},1e3):L(h,f,l,s.bg,g.blackNodes,function(t){if(s.lightId=t.id,t.id){var e=h.querySelectorAll("light[data-highlight='".concat(t.id,"']"));[].forEach.call(e,function(t){t.dataset.active=c?"1":"0"})}s.warn=t.totalMatches?"":"未找到匹配内容"})}(3),n?m=N(h,u-window.innerWidth/2,p-window.innerHeight/3,function(){t.runindex=_,i?v=setTimeout(function(){return t.replay(e+1,n,o,i,r)},a):(t.status=b.DONE,clearTimeout(v))}):i?v=setTimeout(function(){return t.replay(e+1,n,o,i,r)},a):(this.runindex=_,this.status=b.DONE),this.makelink()},this.makelink=function(t){y.status=b.START_SYNC,r("function"==typeof t?t:function(){})};var r=function(n,t){var o=1<arguments.length&&void 0!==t?t:300,i=null;return function(){var t=arguments,e=this;clearTimeout(i),i=setTimeout(function(){n.apply(e,t)},o)}}(function(e){try{var o=[];y.recordedSteps.forEach(function(t){var e=Object.assign({},t);e.isActive="off"===y.runningSetting.initType?void 0:e.isActive;var n=[];S.forEach(function(t){n.push(e[t])}),o.push(n)});var t=k(),i=t.paramObj,n=t.paramKeys;n.includes(b.ID)||n.push(b.ID);var r={},a=0;Object.keys(y.runningSetting).forEach(function(t){y.runningSetting[t]!==x[t]&&(r[t]=y.runningSetting[t],a++)});for(var s=document.querySelector("title"),l=document.getElementsByTagName("img"),c=[],u=0;u<l.length;u++){var p=l[u],d=p.width,f=p.height,h=p.src;h&&100<d&&100<f&&d/f<2&&f/d<2&&c.push(h)}var g={steps:o,setting:{},url:window.location.href,lastModified:(new Date).getTime(),icon:(_=document.querySelector("link[rel~=icon]"))?_.href:window.location.origin+"/favicon.ico",title:s?s.innerText:"",images:c,snapshot:y.snapshot,version:1};a?g.setting=r:delete g.setting,i[b.ID]=o.length?E(g):"",y.data=i[b.ID];var v=o.length?JSON.parse(JSON.stringify(g)):{};y.options.saveInLocal&&localStorage.setItem(y.id,y.data);var m="";n.forEach(function(t,e){if(!(t===b.ID&&0===o.length)){var n=void 0===i[t]?"":"="+(i[t]||"");m=m+t+n+"&"}}),m=m?"?"+m:"",y.url=w.protocol+"//"+w.host+w.pathname+m+w.hash,y.options.saveInURL&&history.pushState("",b.ID,y.url),y.status=b.SYNCED,e(v,y.url)}catch(t){y.status=b.SYNCED_ERROR,console.error(t),e()}var _},500);Object.defineProperty(this,"status",{get:function(){return o},set:function(e){var t=o;(o=e)===t&&o!==b.WAITING||i.forEach(function(t){t(e)})}})}r.prototype.decodeData=function(t){return p(t)},r.prototype.encryptData=function(t){return E(t)},r.prototype.CONSTANT={ID:"pagenote",WAITING:0,READY:1,RECORDING:2,PAUSE:3,RECORDED:4,REMOVED:-4,REMOVEDALL:-5,RECORDFAIL:5,FINNISHED:6,REPLAYING:7,PLAYANDWAIT:8,DONE:9,START_SYNC:100,SYNCED:10,SYNCED_ERROR:-10,URLCHANGED:11,HASHCHANGED:12,LIGHT:100,DIS_LIGHT:-100,SHARE_CONFIRM:"c",SHARE_ING:"i",SHARE_ERROR:"e",SHARE_SUCCESS:"s"},r.prototype.version="0.4.0";var a=n(0),h=n.n(a),l=function(t,e){var n=t.getAsFile(),o=new FileReader;o.onload=function(t){e(t.target.result)},o.readAsDataURL(n)};function u(t,e){var n,o,i,r=t.clipboardData,a=0;if(r){if(!(n=r.items))return;for(o=n[0],i=r.types||[];a<i.length;a++)if("Files"===i[a]){o=n[a];break}o&&"file"===o.kind&&o.type.match(/^image\//i)&&l(o,function(t){e(t)})}}new i.a;var b,v,_,y,x,I,T={},z=[],R=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function O(t,e){for(var n in e)t[n]=e[n];return t}function M(t){var e=t.parentNode;e&&e.removeChild(t)}function D(t,e,n){var o,i=arguments,r={};for(o in e)"key"!==o&&"ref"!==o&&(r[o]=e[o]);if(3<arguments.length)for(n=[n],o=3;o<arguments.length;o++)n.push(i[o]);if(null!=n&&(r.children=n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===r[o]&&(r[o]=t.defaultProps[o]);return F(t,r,e&&e.key,e&&e.ref,null)}function F(t,e,n,o,i){var r={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(r.__v=r),b.vnode&&b.vnode(r),r}function H(t){return t.children}function j(t,e){this.props=t,this.context=e}function B(t,e){if(null==e)return t.__?B(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?B(t):null}function P(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return P(t)}}function U(t){(!t.__d&&(t.__d=!0)&&v.push(t)&&!_++||x!==b.debounceRendering)&&((x=b.debounceRendering)||y)(G)}function G(){for(var t;_=v.length;)t=v.sort(function(t,e){return t.__v.__b-e.__v.__b}),v=[],t.some(function(t){var e,n,o,i,r,a,s;t.__d&&(a=(r=(e=t).__v).__e,(s=e.__P)&&(n=[],i=Y(s,r,(o=O({},r)).__v=o,e.__n,void 0!==s.ownerSVGElement,null,n,null==a?B(r):a),X(n,r),i!=a&&P(r)))})}function W(n,o,t,i,r,a,s,l,c){var u,p,d,f,h,g,v,m=t&&t.__k||z,_=m.length;if(l==T&&(l=null!=a?a[0]:_?B(t,0):null),u=0,o.__k=function t(e,n,o){if(null==o&&(o=[]),null==e||"boolean"==typeof e)n&&o.push(n(null));else if(Array.isArray(e))for(var i=0;i<e.length;i++)t(e[i],n,o);else o.push(n?n("string"==typeof e||"number"==typeof e?F(null,e,null,null,e):null!=e.__e||null!=e.__c?F(e.type,e.props,e.key,null,e.__v):e):e);return o}(o.__k,function(t){if(null!=t){if(t.__=o,t.__b=o.__b+1,null===(d=m[u])||d&&t.key==d.key&&t.type===d.type)m[u]=void 0;else for(p=0;p<_;p++){if((d=m[p])&&t.key==d.key&&t.type===d.type){m[p]=void 0;break}d=null}if(f=Y(n,t,d=d||T,i,r,a,s,l,c),(p=t.ref)&&d.ref!=p&&(v=v||[],d.ref&&v.push(d.ref,null,t),v.push(p,t.__c||f,t)),null!=f){var e;if(null==g&&(g=f),void 0!==t.__d)e=t.__d,t.__d=void 0;else if(a==d||f!=l||null==f.parentNode){t:if(null==l||l.parentNode!==n)n.appendChild(f),e=null;else{for(h=l,p=0;(h=h.nextSibling)&&p<_;p+=2)if(h==f)break t;n.insertBefore(f,l),e=l}"option"==o.type&&(n.value="")}l=void 0!==e?e:f.nextSibling,"function"==typeof o.type&&(o.__d=l)}else l&&d.__e==l&&l.parentNode!=n&&(l=B(d))}return u++,t}),o.__e=g,null!=a&&"function"!=typeof o.type)for(u=a.length;u--;)null!=a[u]&&M(a[u]);for(u=_;u--;)null!=m[u]&&$(m[u],m[u]);if(v)for(u=0;u<v.length;u++)Z(v[u],v[++u],v[++u])}function V(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===R.test(e)?n+"px":null==n?"":n}function q(t,e,n,o,i){var r,a,s,l,c;if(i?"className"===e&&(e="class"):"class"===e&&(e="className"),"style"===e)if(r=t.style,"string"==typeof n)r.cssText=n;else{if("string"==typeof o&&(r.cssText="",o=null),o)for(l in o)n&&l in n||V(r,l,"");if(n)for(c in n)o&&n[c]===o[c]||V(r,c,n[c])}else"o"===e[0]&&"n"===e[1]?(a=e!==(e=e.replace(/Capture$/,"")),e=((s=e.toLowerCase())in t?s:e).slice(2),n?(o||t.addEventListener(e,J,a),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,J,a)):"list"!==e&&"tagName"!==e&&"form"!==e&&"type"!==e&&"size"!==e&&!i&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function J(t){this.l[t.type](b.event?b.event(t):t)}function Y(t,e,n,o,i,r,a,s,l){var c,u,p,d,f,h,g,v,m,_,y=e.type;if(void 0!==e.constructor)return null;(c=b.__b)&&c(e);try{t:if("function"==typeof y){if(v=e.props,m=(c=y.contextType)&&o[c.__c],_=c?m?m.props.value:c.__:o,n.__c?g=(u=e.__c=n.__c).__=u.__E:("prototype"in y&&y.prototype.render?e.__c=u=new y(v,_):(e.__c=u=new j(v,_),u.constructor=y,u.render=Q),m&&m.sub(u),u.props=v,u.state||(u.state={}),u.context=_,u.__n=o,p=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=y.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=O({},u.__s)),O(u.__s,y.getDerivedStateFromProps(v,u.__s))),d=u.props,f=u.state,p)null==y.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==y.getDerivedStateFromProps&&v!==d&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(v,_),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(v,u.__s,_)||e.__v===n.__v&&!u.__){for(u.props=v,u.state=u.__s,e.__v!==n.__v&&(u.__d=!1),(u.__v=e).__e=n.__e,e.__k=n.__k,u.__h.length&&a.push(u),c=0;c<e.__k.length;c++)e.__k[c]&&(e.__k[c].__=e);break t}null!=u.componentWillUpdate&&u.componentWillUpdate(v,u.__s,_),null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(d,f,h)})}u.context=_,u.props=v,u.state=u.__s,(c=b.__r)&&c(e),u.__d=!1,u.__v=e,u.__P=t,c=u.render(u.props,u.state,u.context),e.__k=null!=c&&c.type==H&&null==c.key?c.props.children:Array.isArray(c)?c:[c],null!=u.getChildContext&&(o=O(O({},o),u.getChildContext())),p||null==u.getSnapshotBeforeUpdate||(h=u.getSnapshotBeforeUpdate(d,f)),W(t,e,n,o,i,r,a,s,l),u.base=e.__e,u.__h.length&&a.push(u),g&&(u.__E=u.__=null),u.__e=!1}else null==r&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,o,i,r,a,s){var l,c,u,p,d,f=n.props,h=e.props;if(i="svg"===e.type||i,null!=r)for(l=0;l<r.length;l++)if(null!=(c=r[l])&&((null===e.type?3===c.nodeType:c.localName===e.type)||t==c)){t=c,r[l]=null;break}if(null==t){if(null===e.type)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,h.is&&{is:h.is}),r=null,s=!1}if(null===e.type)f!==h&&t.data!=h&&(t.data=h);else{if(null!=r&&(r=z.slice.call(t.childNodes)),u=(f=n.props||T).dangerouslySetInnerHTML,p=h.dangerouslySetInnerHTML,!s){if(f===T)for(f={},d=0;d<t.attributes.length;d++)f[t.attributes[d].name]=t.attributes[d].value;(p||u)&&(p&&u&&p.__html==u.__html||(t.innerHTML=p&&p.__html||""))}(function(t,e,n,o,i){var r;for(r in n)"children"===r||"key"===r||r in e||q(t,r,null,n[r],o);for(r in e)i&&"function"!=typeof e[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===e[r]||q(t,r,e[r],n[r],o)})(t,h,f,i,s),p?e.__k=[]:(e.__k=e.props.children,W(t,e,n,o,"foreignObject"!==e.type&&i,r,a,T,s)),s||("value"in h&&void 0!==(l=h.value)&&l!==t.value&&q(t,"value",l,f.value,!1),"checked"in h&&void 0!==(l=h.checked)&&l!==t.checked&&q(t,"checked",l,f.checked,!1))}return t}(n.__e,e,n,o,i,r,a,l);(c=b.diffed)&&c(e)}catch(t){e.__v=null,b.__e(t,e,n)}return e.__e}function X(t,e){b.__c&&b.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){b.__e(t,e.__v)}})}function Z(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){b.__e(t,n)}}function $(t,e,n){var o,i,r;if(b.unmount&&b.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Z(o,null,e)),n||"function"==typeof t.type||(n=null!=(i=t.__e)),t.__e=t.__d=void 0,null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){b.__e(t,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&$(o[r],e,n);null!=i&&M(i)}function Q(t,e,n){return this.constructor(t,n)}function K(t,e,n){var o,i,r;b.__&&b.__(t,e),i=(o=n===I)?null:n&&n.__k||e.__k,t=D(H,null,[t]),r=[],Y(e,(!o&&n||e).__k=t,i||T,T,void 0!==e.ownerSVGElement,n&&!o?[n]:i?null:z.slice.call(e.childNodes),r,n||T,o),X(r,t)}function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ot(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,o=rt(r);if(a){var i=rt(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==tt(n)&&"function"!=typeof n?it(e):n}}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}b={__e:function(t,e){for(var n,o;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(o=!0,n.setState(n.constructor.getDerivedStateFromError(t))),null!=n.componentDidCatch&&(o=!0,n.componentDidCatch(t)),o)return U(n.__E=n)}catch(e){t=e}throw t}},j.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=O({},this.state),"function"==typeof t&&(t=t(n,this.props)),t&&O(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),U(this))},j.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),U(this))},j.prototype.render=H,v=[],_=0,y="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,I=T;var at=new i.a,st=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(i,j);var t,e,n,o=ot(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).editStep=t.editStep.bind(it(t)),t.pasteImage=t.pasteImage.bind(it(t)),t.state={},t}return t=i,(e=[{key:"editStep",value:function(t){setTimeout(function(){t.target.focus()},100)}},{key:"pasteImage",value:function(n){var t=this.props,o=t.step,i=t.syncInfo;u(n,function(t){n.target.blur();var e=document.createElement("img");e.src=t,o.tip=o.tip+e.outerHTML,o.modify=void 0,i(),n.target.focus()})}},{key:"render",value:function(){var e=this,t=this.props,n=t.step,o=t.index,i=t.replay,r=t.remove,a=n.bg,s={x:n.x,y:n.y},l=at.getTarget(n.id),c=l?at.getUniqueId(l):null;l&&c&&n.offsetX&&n.offsetY&&n.parentW&&(s.x=c.left+n.offsetX*l.clientWidth/n.parentW,s.y=c.top+n.offsetY),s.x=Math.min(document.documentElement.scrollWidth-200,s.x);var u,p,d=n.textColor;return d||(n.textColor=(p=[],p=-1<(u=a).indexOf("rgb")?u.match(/\((.*)\)/)[1].split(","):[(u=u.replace("#","")).substr(0,2),u.substr(2,4),u.substr(4,6),1],d=.2126*parseInt(p[0],16)+.7152*parseInt(p[1],16)+.0722*parseInt(p[1],16)<128?"#fff":"#000")),D("div",{className:"".concat(h.a.stepTag," ").concat(n.isActive?h.a.LightActive:""),"data-pagenotei":o,"data-pagenotes":n.isActive?"active":"",style:{position:"absolute",top:s.y+"px",left:s.x+"px",textAlign:"left",color:d,"--bg-color":a}},D("div",{className:h.a.points},D("div",{title:"点击激活/长按拖拽移动",className:"".concat(h.a.point,"  draggable"),"data-index":o,"data-active":n.isActive?1:0,"data-moving":"0",onClick:function(t){"1"!==t.target.dataset.moving&&i(o,!n.isActive,!0,!1,!n.isActive)}},n.warn&&D("b",{style:"position:absolute;top:-2px;left:5px;font-size:12px;font-weight:bold;color: #de1c1c;"},"!")),!n.tip&&D("div",{className:"".concat(h.a.menuPoint),onClick:function(){n.tip="".concat(n.text,"📒"),i(o,!n.isActive,!0,!1,!0)}},D("svg",{t:"1590664246839",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3118",width:"13",height:"13"},D("path",{d:"M1017.258891 619.396953l-102.396586-102.396586a17.066098 17.066098 0 0 0-24.131463 0l-90.313789 90.313789 126.528049 126.528049 90.313789-90.313789a17.066098 17.066098 0 0 0 0-24.131463z m-560.621312 234.11273l-218.377788 31.640545-7.679744-56.181594c0.034132-0.511983 0.30719-0.955701 0.30719-1.501816a16.48585 16.48585 0 0 0-1.433552-6.724043L140.334522 167.486684 858.441785 36.931036l78.742976 426.993767a17.066098 17.066098 0 1 0 33.58608-6.21206l-81.814873-443.718543a17.066098 17.066098 0 0 0-19.864938-13.68701l-283.911603 51.607879c-0.546115-0.102397-0.955701-0.580247-1.535948-0.614379l-529.049032-51.198293a17.202627 17.202627 0 0 0-18.704443 16.246925l-34.132196 785.040498a17.066098 17.066098 0 0 0 14.881637 17.646345l181.344356 23.653612 8.737842 64.134396a17.10023 17.10023 0 0 0 19.318822 14.608579l235.409753-34.132195a17.10023 17.10023 0 0 0-4.812639-33.790874z m58.60498 38.944835a17.066098 17.066098 0 0 0-4.983301 12.082797v102.396587a17.066098 17.066098 0 0 0 17.066098 17.066098h102.396587c4.539582 0 8.874371-1.809006 12.082797-4.983301l260.974767-260.974767-126.528049-126.528049-261.008899 260.940635z","p-id":"3119",fill:a}))),D("div",{className:h.a.deleteButton,onClick:function(){r(o)}},D("svg",{t:"1590668094079",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6266",width:"13",height:"13"},D("path",{d:"M860.29743713 91.73649423L679.0620783 91.73649423 627.28054825 39.95496296 368.37289311 39.95496296 316.59136307 91.73649423 135.35600423 91.73649423 135.35600423 195.29955555 860.29743713 195.29955555M187.13753549 868.45945719C187.13753549 925.41914074 233.74091326 972.02251853 290.70059682 972.02251853L704.95284454 972.02251853C761.91252809 972.02251853 808.51590587 925.41914074 808.51590587 868.45945719L808.51590587 247.08108682 187.13753549 247.08108682 187.13753549 868.45945719Z","p-id":"6267",fill:a||"#515151"})))),D("div",{className:"".concat(h.a.box," ").concat(n.isActive&&n.tip?h.a.show:"")},D("div",{className:"".concat(h.a.handlebar)},n.warn||"点击下方可修改",D("span",{className:h.a.deleteicon,onClick:function(){r(o)},title:"删除"},D("svg",{viewBox:"0 0 1024 1024",width:"20",height:"20"},D("path",{d:"M223.595 318.284l24.023 480.742c0 54.377 44.99 98.457 100.485 98.457h331.964c55.495 0 100.49-44.08 100.49-98.457l23.109-480.742h-580.07zm608.154-34.103c.1-20.274.159-21.623.159-22.981 0-52.871-31.299-81.888-73.295-81.888l-116.893.123c0-27.751-27.105-50.246-54.855-50.246H441.35c-27.745 0-55.727 22.495-55.727 50.246l-117.013-.123c-46.388 0-73.296 35.36-73.296 81.888 0 1.363.055 2.707.159 22.981h636.282-.006zM614.17 444.615c0-15.327 12.422-27.75 27.745-27.75 15.327 0 27.75 12.423 27.75 27.75v317.883c0 15.328-12.423 27.751-27.75 27.751-15.323 0-27.745-12.423-27.745-27.75V444.614zm-128.31 0c0-15.327 12.427-27.75 27.75-27.75 15.328 0 27.75 12.423 27.75 27.75v317.883c0 15.328-12.422 27.751-27.75 27.751-15.322 0-27.75-12.423-27.75-27.75V444.614zm-128.222 0c0-15.327 12.423-27.75 27.751-27.75 15.322 0 27.75 12.423 27.75 27.75v317.883c0 15.328-12.427 27.751-27.75 27.751-15.328 0-27.75-12.423-27.75-27.75V444.614zm0 0",fill:"#fff"})))),D("div",{className:"".concat(h.a.editcontent," ").concat(n.tip?h.a.showEdit:""),onFocus:this.editStep,contentEditable:"true",innerHTML:n.tip,onInput:function(t){var e=t.target.innerHTML;n.modify=e},onBlur:function(){var t=void 0!==n.modify?n.modify:n.tip;n.tip=t,e.props.syncInfo()}})))}}])&&et(t.prototype,e),n&&et(t,n),i}();function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,o=ft(r);if(a){var i=ft(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==lt(n)&&"function"!=typeof n?dt(e):n}}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ht=new i.a,gt=0,vt=0;function mt(t){var e=t.showBall,n=t.ballPos,o=t.text,i=void 0===o?"recording":o;return D("div",{className:"".concat(h.a.recordBall," ").concat(e?h.a.recording:""," ").concat(n.arrived?h.a.arrived:""),style:{top:n.top+"px",left:n.left+"px",background:n.color,textAlign:n.isLeft?"right":"left"}},i)}var _t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(i,j);var t,e,n,o=pt(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(e=o.call(this)).pagenote=t.pagenote;return e.state={status:n.status,steps:n.recordedSteps,activeSteps:n.recordedSteps.filter(function(t){return t.isActive}),targetInfo:n.target,runindex:n.runindex,url:n.url,barInfo:n.runningSetting.barInfo,autoLight:n.runningSetting.autoLight,colors:n.options.colors,ballPos:{},showBall:!1},e.checkActive=c(e.checkActive.bind(dt(e)),400),n.addListener(e.refreshStatus.bind(dt(e))),e}return t=i,(e=[{key:"refreshStatus",value:function(){var t=this.pagenote;this.setState({status:t.status,steps:t.recordedSteps,activeSteps:t.recordedSteps.filter(function(t){return t.isActive}),targetInfo:t.target,runindex:t.runindex,url:t.url,barInfo:t.runningSetting.barInfo,autoLight:t.runningSetting.autoLight,colors:t.options.colors})}},{key:"replay",value:function(){var t;(t=this.pagenote).replay.apply(t,arguments),this.refreshStatus()}},{key:"remove",value:function(t){this.pagenote.remove(t),this.refreshStatus()}},{key:"syncInfo",value:function(){this.pagenote.makelink(),this.refreshStatus()}},{key:"addDragListener",value:function(){var i,r,a,s=this,l=this.pagenote;document.addEventListener("mousedown",function(t){var e=t.target;setTimeout(function(){e.classList.contains("draggable")&&1==e.dataset.active&&(i=e.dataset.index,a=e)},200)}),document.addEventListener("mouseup",function(t){setTimeout(function(){document.body.style.userSelect="unset",i=-1},200)}),document.addEventListener("mousemove",c(function(t){if(0<=i){if(t.pageY<10||t.pageX<0)return;document.body.style.userSelect="none";var e=l.recordedSteps[i];e.x=t.pageX,e.y=t.pageY;var n=ht.getTarget(e.id);if(n){var o=ht.getUniqueId(n);e.offsetX=e.x-o.left,e.offsetY=e.y-o.top,e.parentW=n.clientWidth}s.syncInfo(),a.dataset.moving="1",clearTimeout(r),window.getSelection().removeAllRanges(),r=setTimeout(function(){a.dataset.moving="0"},500)}},16))}},{key:"checkActive",value:function(){var r=this.pagenote;if(r.runningSetting.autoLight){var a=document.documentElement.clientHeight;r.recordedSteps.forEach(function(t,e){var n=ht.getTarget(t.id),o={},i=0<(o=n?ht.getUniqueId(n):{viewTop:t.y,viewLeft:t.x}).viewTop&&o.viewTop<a&&0<=o.viewLeft;r.replay(e,!1,!0,!1,i)}),this.refreshStatus()}}},{key:"componentDidMount",value:function(){this.addDragListener(),this.checkActive(),this.addLightClickListen(),window.addEventListener("scroll",this.checkActive),document.addEventListener("wheel",this.checkActive)}},{key:"addLightClickListen",value:function(){var o=this.pagenote;document.addEventListener("click",function(t){var e=t.target,n=e&&"light"===e.tagName.toLowerCase()?e.dataset.highlight:"";n&&o.recordedSteps.forEach(function(t,e){t.lightId===n&&o.replay(e,!1,!0,!1,!t.isActive)})})}},{key:"componentWillUnmount",value:function(){}},{key:"recordNew",value:function(t){var e,n,o,i,r=this,a=this.state,s=this.pagenote,l=t.currentTarget.dataset.color||a.colors[0],c=a.barInfo,u=c.status,p=void 0===u?"":u,d=S(t.currentTarget),f=d.top,h=d.left,g=c.top+30,v=document.documentElement.clientWidth-c.right-160-8,m="expand"===p;m&&(e=f+w().y,o=document.documentElement.clientHeight-40-16,i=e/document.documentElement.scrollHeight*o+40+16,n-vt==1&&gt&&Math.abs(i-gt)<24&&(i=gt+8),i=Math.min(e,i,o),vt=n,g=(gt=i)+20),this.setState({showBall:!this.state.showBall});var _=Math.abs((g-f)/(v-h)),y=0<h-v?-1:1,b=0<f-g?-1:1,x=0<h-v;window.requestAnimationFrame(function t(){if(x?v-h<=1:h-v<=1){var e=Math.abs(v-h)<=10?y:30*y;h+=e,f+=b*Math.abs(e)*_;var n={left:h,top:f,color:l,isLeft:x,arrived:m&&Math.abs(h-v)<15};r.setState({ballPos:n}),window.requestAnimationFrame(t)}else setTimeout(function(){s.record({bg:l})&&r.setState({showBall:!1,ballPos:{arrived:!1}})},m?500:0)})}},{key:"render",value:function(){var a=this,t=this.state,e=this.pagenote.CONSTANT,n=this.pagenote.target,s=this.pagenote.options.colors;return D("div",{id:"pagenote"},D("div",{style:{position:"absolute",zIndex:999999,left:t.targetInfo.x+"px",top:t.targetInfo.y+"px",transition:".5s",userSelect:"none",textAlign:"left"}},(t.status===e.WAITING||t.status===e.PLAYANDWAIT)&&D("div",{className:h.a.recordContain},s.map(function(t,e){var n=2*Math.PI/360*38*(e-s.length+1),o=0===e?0:Number.parseFloat(20*Math.sin(n)).toFixed(3),i=0===e?0:Number.parseFloat(20*Math.cos(n)).toFixed(3),r="translate(".concat(o,"px,").concat(i,"px)");return D("div",{className:h.a.recordButton,"data-color":t,style:{"--color":t,transform:r,top:i/-1+"px",left:o/-1+"px"},onClick:function(t){a.recordNew(t)}},0===e&&D("svg",{t:"1584087258159",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"15434",width:"26",height:"26"},D("path",{d:"M768 128h-32V96c0-19.2-12.8-32-32-32s-32 12.8-32 32v32H544V96c0-19.2-12.8-32-32-32s-32 12.8-32 32v32H352V96c0-19.2-12.8-32-32-32s-32 12.8-32 32v32h-32c-35.2 0-64 32-64 70.4v694.4c0 35.2 28.8 67.2 64 67.2h512c35.2 0 64-32 64-70.4V198.4c0-38.4-28.8-70.4-64-70.4z m-96 640H352c-19.2 0-32-12.8-32-32s12.8-32 32-32h320c19.2 0 32 12.8 32 32s-12.8 32-32 32z m0-192H352c-19.2 0-32-12.8-32-32s12.8-32 32-32h320c19.2 0 32 12.8 32 32s-12.8 32-32 32z m0-192H352c-19.2 0-32-12.8-32-32s12.8-32 32-32h320c19.2 0 32 12.8 32 32s-12.8 32-32 32z","p-id":"15435",fill:"#ffffff"})))}))),D(mt,{showBall:t.showBall,ballPos:t.ballPos,text:n.text}),t.steps.map(function(t,e){return D(st,{key:e+t.id,step:t,index:e,syncInfo:a.syncInfo.bind(a),replay:a.replay.bind(a),remove:a.remove.bind(a)})}))}}])&&ct(t.prototype,e),n&&ct(t,n),i}();function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,o=kt(r);if(a){var i=kt(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==yt(n)&&"function"!=typeof n?St(e):n}}function St(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Et=0,Lt=0,Nt=null;function Ct(t){var e,n,o,i,r=t.step,a=t.running,s=void 0!==a&&a,l=t.index,c=t.onclick,u=t.barStatus;return D("div",{title:"点击定位到此处",className:"".concat(h.a.stepSign," ").concat(s?h.a.running:""," ").concat(r.isActive?h.a.isActive:""),style:{top:(e=r.y,n=l,o=document.documentElement.clientHeight-40-16,i=e/document.documentElement.scrollHeight*o+40+16,n-Lt==1&&Et&&Math.abs(i-Et)<24&&(i=Et+8),i=Math.min(e,i,o),Lt=n,(Et=i)+"px"),"--color":r.bg,position:"expand"===u?"absolute":""},onClick:function(){c(l,!0,!0,!1,!r.isActive)}},r.text||r.tip)}var At=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(i,j);var t,e,n,o=wt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),Nt=e.pagenote=t.pagenote,e.toggleAllLight=e.toggleAllLight.bind(St(e)),e.toggleAutoLight=e.toggleAutoLight.bind(St(e)),e.replay=e.replay.bind(St(e)),e.toggleSideBar=e.toggleSideBar.bind(St(e)),e.state={barInfo:Nt.runningSetting.barInfo,activeSteps:Nt.recordedSteps.filter(function(t){return t.isActive}),steps:Nt.recordedSteps,autoLight:Nt.runningSetting.autoLight,highlightAll:Nt.highlightAll,runindex:Nt.runindex},Nt.addListener(e.refreshStatus.bind(St(e))),e}return t=i,(e=[{key:"componentDidMount",value:function(){}},{key:"refreshStatus",value:function(){this.setState({barInfo:Nt.runningSetting.barInfo,activeSteps:Nt.recordedSteps.filter(function(t){return t.isActive}),steps:Nt.recordedSteps,autoLight:Nt.runningSetting.autoLight,highlightAll:Nt.highlightAll,runindex:Nt.runindex})}},{key:"toggleAllLight",value:function(){var t=this.pagenote,e=t.lastaction===t.CONSTANT.DIS_LIGHT;t.replay(0,!1,!0,!0,e),!1==e&&(t.runningSetting.autoLight=!1),t.makelink()}},{key:"toggleAutoLight",value:function(){var t=this.pagenote;t.runningSetting.autoLight=!t.runningSetting.autoLight,t.makelink()}},{key:"replay",value:function(){var t;(t=this.pagenote).replay.apply(t,arguments),this.refreshStatus()}},{key:"toggleSideBar",value:function(){var t=this.state.barInfo.status;t="expand"===t?"fold":"expand",this.pagenote.runningSetting.barInfo.status=t,this.pagenote.makelink()}},{key:"setRef",value:function(t){var i=this,r=this.pagenote;if(!this.sideEl){this.sideEl=t;var a=null;!function(t,e){if(t){var n=!(t.style.cursor="move");t.addEventListener("mousedown",function(){setTimeout(function(){n=!0},300)}),document.addEventListener("mouseup",function(){n=!1,setTimeout(function(){document.body.style.userSelect="initial"},300)}),document.addEventListener("mousemove",c(function(t){n&&(document.body.style.userSelect="none",e(t))},1e3/60))}}(t,function(t){var e=t.clientX,n=t.clientY-10,o=r.runningSetting.barInfo;o.right=Math.max(2,document.documentElement.clientWidth-e-10),o.right=Math.min(o.right,document.documentElement.clientWidth-20),o.top=Math.max(Math.min(document.documentElement.clientHeight-200,n),0),clearTimeout(a),a=setTimeout(function(){r.makelink()},600),i.setState({barInfo:r.runningSetting.barInfo})})}}},{key:"confirmShare",value:function(){var o=this;this.pagenote.makelink(function(t,e){var n={plainData:t,urlData:e};o.pagenote.options.onShare(n)})}},{key:"toggleHideSideBar",value:function(){var t=this.state.barInfo.status;t=-1<t.indexOf("hide")?"fold":"hide",this.pagenote.runningSetting.barInfo.status=t,this.pagenote.makelink()}},{key:"render",value:function(){var n=this,t=this.state,e=t.barInfo,o=t.activeSteps,i=t.steps,r=t.autoLight,a=t.highlightAll,s=t.runindex,l=e.status||"",c="hide"===l,u=0!==i.length,p="expand"===l?30:e.top;e.right=Math.max(0,Math.min(document.documentElement.clientWidth-170,e.right));var d=!!this.pagenote.options.onShare,f=e.right;return document.documentElement.clientWidth<450&&(f=0),D("aside",{className:"".concat(h.a.sideBar," ").concat(u?h.a.showBar:""," ").concat(c?h.a.easy:""),"data-status":e.status,style:{right:f+"px",top:p+"px",position:"fixed"}},D("div",{className:h.a.icons},D("div",{className:"".concat(h.a.icon," ").concat(h.a.easyButton),onClick:this.toggleHideSideBar.bind(this)},D("svg",{t:"1590675065467",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3351",width:"20",height:"20"},D("path",{d:"M512 0C347.395821 0 213.970149 133.425672 213.970149 298.029851v427.940298C213.970149 890.574328 347.395821 1024 512 1024S810.029851 890.574328 810.029851 725.970149v-427.940298C810.029851 133.425672 676.604179 0 512 0zM397.373134 340.319522L446.509851 290.38806 657.19403 504.358209 446.509851 718.328358 397.373134 668.396896 558.874746 504.358209 397.373134 340.319522z","p-id":"3352"}))),D("div",{className:h.a.icon,"data-tip":"点亮/熄灭「标记」"},D("a",{className:"".concat(h.a.esLight," ").concat(a?"":h.a.lightAll),onClick:this.toggleAllLight},D("svg",{viewBox:"0 0 1000 1000",version:"1.1",width:"20",height:"20"},D("path",{d:"M634.9 770.3l-4.4 28H393.6l-4.4-28h245.7zM512 931c-30.4 0-55.9-21.6-62-50.2h124c-6.1 28.6-31.6 50.2-62 50.2z m103.5-79.3h-207c-3.4 0-6.4-2.2-7.4-5.5l-2.9-18.9H626l-3 18.9c-1 3.3-4 5.5-7.5 5.5zM384.7 741.3l-8.1-51.9-0.1-0.6c-7.4-30.4-22.6-58.6-43.8-81.7-42.5-46.2-65.9-106.1-65.9-168.7 0-135.1 109.9-245.1 245-245.3h0.3c134 0 244 108.9 245.3 242.9 0.6 62.7-22.5 122.6-65 168.6-21.5 23.2-36.8 51.7-44.3 82.4l-0.1 0.6-8.4 53.6H384.7z",fill:"#FFFFFF","p-id":"10480"}),D("g",{id:h.a.light,style:{opacity:o.length/i.length}},D("path",{d:"M357 741.1l-8-51.9-0.1-0.6c-7.4-30.4-22.4-58.6-43.5-81.7-42.2-46.2-65.4-106.1-65.4-168.7 0-135.1 109-245.1 243.1-245.3h0.3c133 0 242.1 108.9 243.3 242.9 0.6 62.7-22.3 122.6-64.5 168.6-21.3 23.2-36.5 51.7-43.9 82.4l-0.1 0.6-8.3 53.6H357z","p-id":"10481"})),D("path",{d:"M605.8 770.8l-4.3 28H370.4l-4.3-28h239.7zM587 852.2H384.9c-3.3 0-6.3-2.2-7.2-5.5l-2.9-18.9h222.3l-2.9 18.9c-1 3.3-3.9 5.5-7.2 5.5z",fill:"#E87A66","p-id":"10482"}),D("path",{d:"M484.9 931c-29 0-53.4-21.6-59.2-50.2H544c-5.8 28.6-30.1 50.2-59.1 50.2z",fill:"#65D5EF","p-id":"10483"}),D("path",{d:"M512 164.1h-0.3c-73.2 0.1-142 28.6-193.7 80.4-51.7 51.8-80.2 120.6-80.2 193.9 0 35.2 6.6 69.7 19.7 102.6 12.7 31.8 30.8 60.7 53.8 85.7 17.8 19.3 30.5 42.9 36.8 68.4l24.5 157 0.1 0.6c4 16.5 18.7 28 35.7 28h12c6.4 44.7 45 79.2 91.5 79.2s85.1-34.5 91.5-79.2h12c17 0 31.7-11.5 35.7-28l0.1-0.6 5.6-35.7c0.2-0.9 0.4-1.8 0.4-2.7l18.9-120.4c6.4-25.7 19.3-49.6 37.3-69.1 47.5-51.5 73.3-118.5 72.7-188.6-0.7-72.6-29.6-140.9-81.5-192.2-51.6-51.1-120.1-79.3-192.6-79.3z m122.9 606.2l-4.4 28H393.6l-4.4-28h245.7zM512 931c-30.4 0-55.9-21.6-62-50.2h124c-6.1 28.6-31.6 50.2-62 50.2z m103.5-79.3h-207c-3.4 0-6.4-2.2-7.4-5.5l-2.9-18.9H626l-3 18.9c-1 3.3-4 5.5-7.5 5.5z m76.8-247c-21.5 23.2-36.8 51.7-44.3 82.4l-0.1 0.6-8.4 53.6h-113V570.8c0-8-6.5-14.5-14.5-14.5s-14.5 6.5-14.5 14.5v170.5H384.7l-8.1-51.9-0.1-0.6c-7.4-30.4-22.6-58.6-43.8-81.7-42.5-46.2-65.9-106.1-65.9-168.7 0-135.1 109.9-245.1 245-245.3h0.3c134 0 244 108.9 245.3 242.9 0.4 62.8-22.6 122.6-65.1 168.7z",fill:"#274359","p-id":"10484"}),D("g",{id:h.a.sunshine},D("path",{d:"M512 467c-8 0-14.5 6.5-14.5 14.5v29.7c0 8 6.5 14.5 14.5 14.5s14.5-6.5 14.5-14.5v-29.7c0-8-6.5-14.5-14.5-14.5zM511.4 146.9c8 0 14.5-6.5 14.5-14.5V78.5c0-8-6.5-14.5-14.5-14.5s-14.5 6.5-14.5 14.5v53.8c0 8.1 6.5 14.6 14.5 14.6zM281.4 234.1c2.8 2.8 6.5 4.3 10.3 4.3 3.7 0 7.4-1.4 10.3-4.3 5.7-5.7 5.7-14.9 0-20.5l-38.1-38.1c-5.7-5.7-14.9-5.7-20.5 0-5.7 5.7-5.7 14.9 0 20.5l38 38.1zM201 429.4h-53.8c-8 0-14.5 6.5-14.5 14.5s6.5 14.5 14.5 14.5H201c8 0 14.5-6.5 14.5-14.5 0.1-8-6.4-14.5-14.5-14.5zM282.3 653.4l-38.1 38.1c-5.7 5.7-5.7 14.9 0 20.5 2.8 2.8 6.5 4.3 10.3 4.3 3.7 0 7.4-1.4 10.3-4.3l38.1-38.1c5.7-5.7 5.7-14.9 0-20.5-5.8-5.7-14.9-5.7-20.6 0zM742.6 652.5c-5.7-5.7-14.9-5.7-20.5 0-5.7 5.7-5.7 14.9 0 20.5l38.1 38.1c2.8 2.8 6.5 4.3 10.3 4.3s7.4-1.4 10.3-4.3c5.7-5.7 5.7-14.9 0-20.5l-38.2-38.1zM876.8 428.2H823c-8 0-14.5 6.5-14.5 14.5s6.5 14.5 14.5 14.5h53.8c8 0 14.5-6.5 14.5-14.5s-6.5-14.5-14.5-14.5zM731.4 237.5c3.7 0 7.4-1.4 10.3-4.3l38.1-38.1c5.7-5.7 5.7-14.9 0-20.5-5.7-5.7-14.9-5.7-20.5 0l-38.1 38.1c-5.7 5.7-5.7 14.9 0 20.5 2.8 2.9 6.5 4.3 10.2 4.3z",fill:"#274359","p-id":"10485"}))))),D("div",{className:h.a.icon,onClick:this.toggleAutoLight,"data-tip":"开启/关闭「自动点亮模式」"},D("svg",{t:"1588601864954",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25957",width:"20",height:"20"},D("path",{d:"M510.677 83.529c60.891 0 119.75 13.191 174.046 38.055l-40.087 70.028 202.97-1.016-101.99-175.063-35.52 61.909c-61.908-29.433-129.903-44.657-199.419-44.657-257.266 0-466.833 209.566-466.833 466.833 0 93.368 27.4 183.69 79.668 261.326l42.116-28.415c-46.684-69.012-71.039-149.183-71.039-232.91 0-229.355 186.729-416.09 416.088-416.09z m425.225 223.774l-46.175 20.802c24.356 53.788 37.039 111.637 37.039 171.512 0 229.358-186.73 416.089-416.089 416.089-46.684 0-92.351-7.608-135.99-22.832l34-65.968-202.468 10.148 110.116 170.5 35.52-69.012c50.738 18.777 104.526 27.908 159.33 27.908 257.265 0 466.832-209.567 466.832-466.833-0.507-66.98-14.715-131.93-42.115-192.314z m0 0","p-id":"25958",fill:r?"#03a9f4":"#515151"}),D("path",{d:"M317.096 1023.06L192.387 829.965 421.78 818.47l-36.039 69.924c40.06 12.971 82.045 19.543 124.936 19.543 225.147 0 408.317-183.17 408.317-408.317 0-58.417-12.23-115.043-36.348-168.305l-3.212-7.094 60.343-27.186 3.203 7.059c27.889 61.462 42.292 127.226 42.81 195.467 0 261.757-212.908 474.664-474.606 474.664-54.211 0-106.5-8.76-155.546-26.05l-38.54 74.885zM220.05 844.143l95.524 147.906 32.521-63.187 6.458 2.39c49.176 18.198 101.874 27.425 156.632 27.425 253.126 0 459.06-205.933 459.06-459.06-0.48-63.377-13.353-124.59-38.275-182.018l-32.013 14.422c22.95 53.205 34.582 109.55 34.582 167.595 0 233.719-190.143 423.862-423.862 423.862-47.682 0-94.297-7.828-138.55-23.266l-8.448-2.948 31.914-61.92-175.543 8.8z m-98.64-72.405l-4.345-6.455C64.08 686.583 36.071 594.717 36.071 499.617c0-261.698 212.907-474.605 474.605-474.605 68.724 0 134.705 14.25 196.232 42.368L745.564 0.005 861.09 198.301l-229.898 1.151 42.514-74.27c-51.835-22.486-106.64-33.88-163.03-33.88-225.147 0-408.317 183.17-408.317 408.316 0 82.11 24.104 161.145 69.705 228.556l4.36 6.445-55.014 37.12zM510.677 40.557c-253.126 0-459.06 205.934-459.06 459.06 0 89.396 25.578 175.828 74.053 250.495l29.221-19.715c-44.563-68.554-68.074-148.169-68.074-230.78 0-233.717 190.143-423.861 423.861-423.861 61.471 0 121.117 13.04 177.283 38.76l7.738 3.543-37.618 65.714 176.044-0.882-88.458-151.83-32.41 56.489-6.498-3.09C645.482 55.329 579.51 40.558 510.677 40.558z","p-id":"25959",fill:r?"#03a9f4":"#515151"}),D("path",{d:"M320.113 320.409h383.973v63.55H320.113z m0.184 127.952H704.27v63.55H320.297z m-0.184 127.803h383.973v63.55H320.113z","p-id":"25960",fill:r?"#03a9f4":"#515151"}))),D("div",{className:h.a.icon,onClick:this.toggleSideBar,"data-tip":"展开折叠「大纲」"},D("svg",{t:"1588559997149",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24444",width:"20",height:"20"},D("path",{d:"M152.3 467.8v88.3h90.5v-88.3h-90.5zM64 602.5v-181h896v180.9H64z m178.8-315.6v-88.3h-90.5v88.3h90.5zM64 152.3h896v180.9H64V152.3z m88.3 584.8v88.3h90.5v-88.3h-90.5zM64 871.7V690.8h896v180.9H64z","p-id":"24445",fill:-1<l.indexOf("expand")?"#03a9f4":"#515151"}))),d&&D("div",{className:h.a.icon,"data-tip":"分享页面",onClick:this.confirmShare.bind(this)},D("svg",{t:"1588566551449",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"18007",width:"20",height:"20"},D("path",{d:"M838.284171 330.523147 837.725258 287.969701 714.845258 419.334273C703.255161 431.724638 703.903906 451.164645 716.294273 462.754742 728.684638 474.344839 748.124645 473.696094 759.714742 461.305727L882.594742 329.941156C893.854693 317.903731 893.608051 299.125248 882.035829 287.38771L759.155829 162.752281C747.244306 150.670594 727.793967 150.532649 715.712281 162.444171 703.630594 174.355693 703.492649 193.806032 715.404171 205.887719L838.284171 330.523147Z","p-id":"18008",fill:"#515151"}),D("path",{d:"M204.933213 153.6C142.666561 153.6 92.16 204.043003 92.16 266.254734L92.16 798.793535C92.16 861.000106 142.464635 911.448269 204.598858 911.448269L778.441148 911.448269C840.512004 911.448269 890.880006 860.966865 890.880006 798.91141L890.880006 563.023553C890.880006 546.057366 877.126193 532.303553 860.160006 532.303553 843.193819 532.303553 829.440006 546.057366 829.440006 563.023553L829.440006 798.91141C829.440006 827.065383 806.548658 850.008269 778.441148 850.008269L204.598858 850.008269C176.436258 850.008269 153.6 827.106855 153.6 798.793535L153.6 266.254734C153.6 237.992709 176.581629 215.04 204.933213 215.04L389.12 215.04C406.086187 215.04 419.84 201.286187 419.84 184.32 419.84 167.353813 406.086187 153.6 389.12 153.6L204.933213 153.6Z","p-id":"18009",fill:"#515151"}),D("path",{d:"M460.8 471.04C460.8 397.496685 520.297624 337.92 593.730632 337.92L839.68 337.92C856.646187 337.92 870.4 324.166187 870.4 307.2 870.4 290.233813 856.646187 276.48 839.68 276.48L593.730632 276.48C486.346971 276.48 399.36 363.58256 399.36 471.04L399.36 634.88C399.36 651.846187 413.113813 665.6 430.08 665.6 447.046187 665.6 460.8 651.846187 460.8 634.88L460.8 471.04Z","p-id":"18010",fill:"#515151"}))),D("div",{className:h.a.icon,"data-tip":"建议&反馈"},D("a",{target:"_blank",href:"https://addons.mozilla.org/zh-CN/firefox/addon/page-note/"},D("svg",{t:"1589809778730",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3021",width:"20",height:"20"},D("path",{d:"M864 83.2H371.2c-44.8 0-83.2 38.4-83.2 83.2v390.4c0 44.8 38.4 83.2 83.2 83.2h224l166.4 166.4L832 640h25.6c44.8 0 83.2-38.4 83.2-83.2V166.4c6.4-44.8-32-83.2-76.8-83.2zM230.4 556.8V307.2H134.4c-44.8 0-83.2 38.4-83.2 83.2v332.8c0 44.8 38.4 83.2 83.2 83.2V960l179.2-153.6h153.6c44.8 0 83.2-38.4 83.2-83.2v-25.6H371.2c-76.8 0-140.8-64-140.8-140.8z m0 0","p-id":"3022",fill:"#515151"})))),D("div",{id:"drag-bar",ref:this.setRef.bind(this),className:"".concat(h.a.icon," ").concat(h.a.moveIcon),"data-tip":"拖拽菜单栏位置"},D("svg",{t:"1588585290337",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"18962",width:"20",height:"20"},D("path",{d:"M951.990857 512a30.317714 30.317714 0 0 1-9.691428 22.016l-124.964572 125.842286c-6.473143 6.473143-14.08 9.691429-22.893714 9.691428s-16.128-3.218286-22.016-9.691428-8.813714-13.787429-8.813714-22.016v-63.378286h-189.184v189.184h63.378285c8.228571 0 15.542857 2.925714 22.016 8.813714s9.691429 13.202286 9.691429 22.016-3.218286 16.128-9.691429 22.016l-125.842285 125.842286c-5.851429 6.473143-13.202286 9.691429-22.016 9.691429s-16.128-3.218286-22.016-9.691429l-125.842286-125.842286c-6.473143-5.851429-9.691429-13.202286-9.691429-22.016s3.218286-16.128 9.691429-22.016 13.787429-8.813714 22.016-8.813714h63.341714v-189.184H260.278857v63.378286c0 8.228571-2.925714 15.542857-8.813714 22.016s-13.202286 9.691429-22.016 9.691428-16.128-3.218286-22.016-9.691428l-125.842286-125.842286c-6.473143-6.473143-9.691429-13.787429-9.691428-22.016s3.218286-15.542857 9.691428-22.016l125.842286-125.842286c5.851429-6.473143 13.202286-9.691429 22.016-9.691428s16.128 3.218286 22.016 9.691428 8.813714 13.787429 8.813714 22.016v63.341715h189.184V260.315429h-63.341714c-8.228571 0-15.542857-2.925714-22.016-8.813715s-9.691429-13.202286-9.691429-22.016 3.218286-16.420571 9.691429-22.893714l125.842286-124.964571c6.473143-6.473143 13.787429-9.691429 22.016-9.691429s15.542857 3.218286 22.016 9.691429l125.842285 124.964571c6.473143 6.473143 9.691429 14.08 9.691429 22.893714s-3.218286 16.128-9.691429 22.016-13.787429 8.813714-22.016 8.813715h-63.341714v189.184h189.184v-63.341715c0-8.228571 2.925714-15.542857 8.813714-22.016s13.202286-9.691429 22.016-9.691428 16.420571 3.218286 22.893715 9.691428l124.964571 125.842286c6.473143 5.851429 9.691429 13.202286 9.691429 22.016z","p-id":"18963",fill:"#707070"})))),D("div",{className:"".concat(h.a.signContainer,"  ").concat("expand"===l?h.a.expand:"")},i.map(function(t,e){return D(Ct,{barStatus:l,key:e+"-"+t.y,step:t,running:e===s,index:e,onclick:n.replay})})))}}])&&bt(t.prototype,e),n&&bt(t,n),i}();function It(t){var e=new r(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),n=document.createElement("aside");n.dataset.pagenote="lights",document.body.appendChild(n),K(D(_t,{pagenote:e}),n);var o=document.createElement("aside");return o.dataset.pagenote="sidebar",document.body.appendChild(o),K(D(At,{pagenote:e}),o),e}e.default=It;window.PageNote=It},function(t,e,n){"use strict";function w(t){var e=t.getBoundingClientRect(),n=document.body,o=document.documentElement,i=window.pageYOffset||o.scrollTop||n.scrollTop,r=window.pageXOffset||o.scrollLeft||n.scrollLeft,a=o.clientTop||n.clientTop||0,s=o.clientLeft||n.clientLeft||0,l=e.top+i-a,c=e.left+r-s;return{top:Math.round(l),left:Math.round(c)}}n.r(e);function o(){}var i,S=window.document,k=i=function(t){this.options=Object.assign({},{draw:!0,simpleId:!0},t),this.lastClick=document.body;var e=this;document.addEventListener("mousedown",function(t){e.lastClick=t.target,e.focusedElement!==e.lastClick&&i.prototype.clean()})},E=k.prototype;E.getUniqueId=function(t,e){if(!((t=t||this.lastClick)instanceof HTMLElement))return console.error("input is not a HTML element"),{};var n={wid:"",type:"",top:w(t).top,left:w(t).left,viewLeft:t.getBoundingClientRect().left,viewTop:t.getBoundingClientRect().top,text:t.innerText},o=t.id,i=t.name,r=t.tagName.toLowerCase(),a=t.type?t.type.toLowerCase():"",s="",l=t.classList||[];if(l.forEach(function(t){s+="."+t}),"body"!==r&&"html"!==r||(n.wid=r,n.type=r),o&&S.getElementById(o)===t){var c=new RegExp("^[a-zA-Z]+");!e&&this.options.simpleId?n.wid=o:c.test(o)&&(n.wid=r+"#"+o),n.type="document.getElementById()"}if(!n.wid&&i&&S.getElementsByName(i)[0]===t&&(n.wid=i,n.type="document.getElementsByName()"),!n.wid&&s&&S.querySelector(r+s)===t){n.wid=r+s,n.type="document.querySelector()";var u=l.length;if(2<u){for(var p=1,d=[];Math.pow(2,p)<u;)d.push(Math.pow(2,p)),p++;d.push(u);for(var f=0;f<d.length;f++)d[f]}}if("radio"===a){var h=r+"[value='"+t.value+"']";i&&(h+="[name='"+i+"']"),S.querySelector(h)===t&&(n.wid=h,n.type="document.querySelector()")}if(n.wid||(h=r,h=s?h+s:h,h=i?h+"[name='"+i+"']":h,E.getTarget(h)===t&&(n.wid=h,n.type="document.querySelector()")),!n.wid){h=r,h=s?h+s:h;var g=S.querySelectorAll(h);if(g&&0<g.length){for(var v=null,m=0;m<g.length;m++)if(t===g[m]){v=m+1;break}v&&(h=h+":nth-child("+v+")",S.querySelector(h)===t&&(n.wid=h,n.type="document.querySelector()"))}}if(!n.wid){if(!t.parentNode)return;var _=k.prototype.getUniqueId(t.parentNode,!0),y=_?_.wid:"";if(!y)return{wid:"",type:"NO_LOCATION"};var b=r;if(s&&(b+=s),h=y+">"+b,1<S.querySelectorAll(h).length){v=h=null;for(var x=0;x<t.parentNode.children.length;x++)if(t.parentNode.children[x]===t){v=x+1;break}if(1<=v)h=y+">"+b+":nth-child("+v+")",S.querySelector(h)!=t&&(h=null)}n.wid=h,n.type="document.querySelector()"}return this.focusedElement=E.getTarget(n.wid),!e&&this.options.draw&&this.__proto__.draw(n),n},E.getTarget=function(t){return S.getElementById(t)||S.getElementsByName(t)[0]||S.querySelector(t)},E.clean=o,E.draw=o,window.whatsElement=k;e.default=k}],i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6);function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o});