(self.webpackChunkpagenote_cn=self.webpackChunkpagenote_cn||[]).push([[476],{9648:(e,t,a)=>{"use strict";a.d(t,{Z:()=>C});var n=a(3804),r=a.n(n);const l=EditorJS;var c=a.n(l);function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const i=function(){function e(t){var a=t.data,n=(t.config,t.api,t.readOnly);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=a,this.readOnly=n}var t,a,n;return t=e,n=[{key:"isReadOnlySupported",get:function(){return!0}}],(a=[{key:"render",value:function(){var e=document.createElement("h4");return e.classList="light-head",e.style.borderColor=this.data.color,e.innerHTML=this.data.text,e.contentEditable=!1,e}},{key:"save",value:function(){return{light:this.data.light}}}])&&o(t.prototype,a),n&&o(t,n),e}();var s=a(4919),u=a.n(s),f=a(2964),h=a.n(f),p=a(8092),m=a.n(p),d=a(6689),v=a.n(d),g=a(3058),y=a.n(g),E=a(3602),b=a.n(E),w=a(5547),z=a.n(w),M=a(3448),x=a.n(M);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(s,e);var t,a,n,l,o=(n=s,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(n);if(l){var a=j(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return P(this,e)});function s(e){var t,a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.editor?t.editor&&t.editor.blocks.render({blocks:e}).then((function(){document.querySelector(".codex-editor__redactor").style.paddingBottom="30px"})):console.log("not ready")},(n="renderBlocks")in(a=k(t=o.call(this,e)))?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,t}return t=s,(a=[{key:"componentDidMount",value:function(){var e=this,t={header:{class:u(),inlineToolbar:!0},list:{class:h(),inlineToolbar:!0},image:{class:m(),inlineToolbar:!0},delimiter:{class:v(),inlineToolbar:!0},quote:{class:y(),inlineToolbar:!0},warning:b(),marker:{class:z(),shortcut:"CMD+SHIFT+M"},table:{class:x()},lightheader:{class:i}};this.props.tools&&Object.keys(t).forEach((function(a){e.props.tools.includes(a)||delete t[a]}));var a=Object.assign({time:(new Date).getTime(),blocks:[],version:""},this.props.data||{}),n=new(c())({holder:"pagenote-editor",readOnly:this.props.readonly,tools:t,data:a,onReady:function(){e.editor=n},onChange:function(t){e.editor.save().then((function(t){"function"==typeof e.props.onSave&&e.props.onSave(t)}))}})}},{key:"render",value:function(){return r().createElement("div",{className:"editor"},r().createElement("div",{id:"pagenote-editor"}))}}])&&O(t.prototype,a),s}(n.Component)},5186:(e,t,a)=>{"use strict";a.d(t,{Z:()=>E});var n=a(3804),r=a.n(n),l=a(7196),c=a.n(l),o=a(9669),i=a.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v="https://cors-anywhere.herokuapp.com/",g=("https://github.com/login/oauth/authorize?scope=user%20public_repo&client_id=c4aae381097464aa1024&redirect_uri=".concat("https://pagenote.logike.cn"),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,a,n,l,c=(n=o,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(n);if(l){var a=m(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return h(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),d(p(t=c.call(this,e)),"codeToToken",(function(){var e=window.location.search.match(/code=(.*)$/);e&&i()({method:"post",headers:{Accept:"application/json"},url:"".concat(v,"https://github.com/login/oauth/access_token"),data:{client_id:"c4aae381097464aa1024",client_secret:"ed40211bca3ccabd900586079b89fd0ec1ea48be",code:e[1]}}).then((function(e){var t=e.data.access_token;localStorage.setItem("token",t);var a=new URLSearchParams(location.search).get("comeback");window.location=a||"/"}))})),d(p(t),"checkLogin",(function(){var e=localStorage.getItem("token");e&&i()({method:"get",headers:{Accept:"application/json",Authorization:"token ".concat(e)},url:"".concat(v,"https://api.github.com/user")}).then((function(e){e.data&&t.setState({userInfo:e.data})})).catch((function(e){console.error(e)}))})),t.state={userInfo:{}},t}return t=o,(a=[{key:"componentDidMount",value:function(){this.codeToToken(),this.checkLogin()}},{key:"render",value:function(){var e=this.state.userInfo;return r().createElement("nav",null,r().createElement("style",{jsx:"true"},"\n                nav{\n                    // height: 40px;\n                    // line-height: 40px;\n                    font-size:14px;\n                    border-bottom: 1px solid rgba(30,35,42,.06);\n                    box-shadow: 0 1px 3px 0 rgba(0,34,77,.05);\n                }\n                nav a{\n                    color: #0366d6;\n                    text-decoration: none;\n                    margin-right: 12px;\n                }\n                .header{\n                    display: flex;\n                    padding: 0 24px;\n                    padding: 10px 24px;\n                    margin: 0 auto;\n                    max-width: 1200px;\n                    justify-content: space-between;\n                    box-sizing: border-box;\n                }\n                .me-link{\n                    margin-right: 12px;\n                }\n                .user-avatar{\n                    width: 20px;\n                    height: 20px;\n                    border-radius: 10px;\n                    border-radius: 4px;\n                    overflow: hidden;\n                }\n                #login{\n                    padding: 0px 6px;\n                    background: #509ff5;\n                    border-radius: 6px;\n                    color: #fff;\n                }\n            "),r().createElement("section",{className:"header"},r().createElement("div",null,r().createElement("a",{href:"/"},"PAGENOTE 一页一记")),r().createElement("div",null,r().createElement("span",{className:"me-link"},e.name?r().createElement("a",{className:"user-avatar",href:"/me"},r().createElement("img",{width:20,height:20,src:"".concat(e.avatar_url,"&s=30"),alt:"".concat(e.name)})):r().createElement("a",{id:"login",href:"/me"},"我的")),r().createElement("a",{href:"/setting"},"设置"))))}}])&&u(t.prototype,a),o}(n.Component));function y(){return r().createElement("footer",null,r().createElement("style",{jsx:"true"},"\n                footer{\n                  // display:flex;\n                  // justify-content: space-around;\n                  max-width: 800px;\n                  margin:24px auto;\n                  \n                  font-size:12px;\n                }\n                \n                  .footer-links a{\n                    margin-right:12px;\n                    transition: color .2s;\n                    color: #586069;\n                    text-decoration: none;\n                    line-height: 1.4em;\n                  }\n                  .footer-links a:hover{\n                    text-decoration: underline;\n                    color: #0366d6;\n                  }\n                  \n                  .d-flex {display: flex!important;}\n                  .list-style-none {list-style: none!important;}\n                  .footer-links{\n                    justify-content: space-between;\n                    width: 100%;\n                    margin: 0;\n                    padding: 18px 0 12px 0;\n                    border-top: 1px solid #ececec;\n                  }\n              "),r().createElement("footer",null,r().createElement("div",{className:"position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light "},r().createElement("ul",{className:"list-style-none d-flex footer-links"},r().createElement("li",{className:"mr-3 mr-lg-0"},"© 2020 ",r().createElement("a",{href:"/"},"PAGENOTE")),r().createElement("li",{className:"mr-3 mr-lg-0"},r().createElement("p",null,r().createElement("a",{href:"/hello.html"},"产品介绍")),r().createElement("p",null,r().createElement("a",{href:"/page?id=why"},"常见问题")),r().createElement("p",null,r().createElement("a",{href:"/release"},"更新日志"))),r().createElement("li",{className:"mr-3 mr-lg-0"},r().createElement("p",null,r().createElement("a",{href:"/page?id=privacy"},"隐私协议"))),r().createElement("li",null,r().createElement("p",null,r().createElement("a",{href:"/donation"},"支持/贡献"))),r().createElement("li",null,r().createElement("p",null,r().createElement("a",{href:"/page?id=developer"},"开发者")),r().createElement("p",null,"用户群：769094377"))))))}function E(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=document.getElementById("app");c().render(r().createElement(r().Fragment,null,t&&r().createElement(g,null),r().createElement(e,null),a&&r().createElement(y,null)),n)}if(window.location.protocol.indexOf("https")>-1){var b=function(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[],b("js",new Date),b("config","G-LBE869KVBS"),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then((function(e){console.log("Service Worker 注册成功!")})).catch((function(e){console.log(e)}))}},9048:(e,t,a)=>{"use strict";var n=a(3804),r=a.n(n),l=a(765),c=a.n(l),o=a(3493),i=a.n(o),s=a(3279),u=a.n(s);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var h=n.createElement("path",{d:"M892.472 652.934l3.663-9.022a122.56 122.56 0 0113.519-2.842l-.301 4.387 1.875-4.62c5.642-.8 9.43-.972 9.43-.972s-7.61 18.279-20.076 31.335l-12.486.457 9.282 2.674a49.585 49.585 0 01-4.857 3.904c-17.171 12.024-35.019 16.164-39.863 9.246s5.149-22.274 22.32-34.298a65.28 65.28 0 0118.052-8.37z",fill:"#e6e6e6"}),p=n.createElement("path",{d:"M860.075 611.541l-4.646-13.33a177.676 177.676 0 0112.002-16.03l3.87 5.064-2.379-6.824c5.38-6.271 9.338-10.083 9.338-10.083s9.206 27.186 8.126 53.333l-13.16 12.446 12.667-5.97a71.883 71.883 0 01-1.553 8.899c-7.192 29.526-22.666 51.112-34.561 48.215s-15.708-29.182-8.516-58.708a94.634 94.634 0 0111.648-26.388z",fill:"#e6e6e6"}),m=n.createElement("ellipse",{cx:760.462,cy:690.339,rx:148.434,ry:7.661,fill:"#e6e6e6"}),d=n.createElement("path",{d:"M261.287 119.05h-104.86v1.915h104.86a19.466 19.466 0 110 38.93H102.615a19.466 19.466 0 010-38.93h5.93v-1.916h-5.93a21.38 21.38 0 000 42.762h158.672a21.38 21.38 0 000-42.762z",fill:"#e6e6e6"}),v=n.createElement("path",{d:"M261.287 185.126h-104.86v1.916h104.86a19.466 19.466 0 010 38.93H102.615a19.466 19.466 0 110-38.93h5.93v-1.916h-5.93a21.38 21.38 0 000 42.762h158.672a21.38 21.38 0 000-42.762z",fill:"#6c63ff"}),g=n.createElement("path",{d:"M261.287 251.203h-104.86v1.916h104.86a19.466 19.466 0 110 38.93H102.615a19.466 19.466 0 110-38.93h5.93v-1.916h-5.93a21.38 21.38 0 000 42.762h158.672a21.38 21.38 0 000-42.762z",fill:"#e6e6e6"}),y=n.createElement("path",{"data-name":"Path 40",d:"M120.38 113.99a5.695 5.695 0 000 11.388h24.981a5.695 5.695 0 00.187-11.389h-.187zM120.38 181.024a5.695 5.695 0 000 11.388h24.981a5.695 5.695 0 00.187-11.388q-.093-.002-.187 0zM120.38 246.143a5.695 5.695 0 000 11.389h24.981a5.695 5.695 0 00.187-11.389h-.187z",fill:"#3f3d56"}),E=n.createElement("path",{"data-name":"Path 40",d:"M110.473 134.736a5.695 5.695 0 000 11.388h142.77a5.695 5.695 0 10.187-11.388q-.094-.002-.187 0z",fill:"#e6e6e6"}),b=n.createElement("path",{d:"M261.287 56.803h-104.86v1.915h104.86a19.466 19.466 0 010 38.931H102.615a19.466 19.466 0 010-38.93h5.93v-1.916h-5.93a21.38 21.38 0 000 42.762h158.672a21.38 21.38 0 000-42.762z",fill:"#e6e6e6"}),w=n.createElement("path",{"data-name":"Path 40",d:"M120.38 51.743a5.695 5.695 0 000 11.388h24.981a5.695 5.695 0 00.187-11.388q-.093-.002-.187 0z",fill:"#3f3d56"}),z=n.createElement("path",{"data-name":"Path 40",d:"M110.473 72.49a5.695 5.695 0 000 11.388h142.77a5.695 5.695 0 10.187-11.388q-.094-.002-.187 0z",fill:"#e6e6e6"}),M=n.createElement("path",{"data-name":"Path 40",d:"M110.473 200.813a5.695 5.695 0 000 11.388h142.77a5.695 5.695 0 10.187-11.388q-.094-.002-.187 0z",fill:"#6c63ff"}),x=n.createElement("path",{"data-name":"Path 40",d:"M110.473 266.89a5.695 5.695 0 000 11.388h142.77a5.695 5.695 0 10.187-11.388q-.094-.002-.187 0z",fill:"#e6e6e6"}),S=n.createElement("path",{fill:"#6c63ff",d:"M325.216 206.951l-21.547-12.44v24.88l21.547-12.44-21.547-12.44v24.88l21.547-12.44z"}),O=n.createElement("path",{d:"M343.89 342.834H7.182a4.314 4.314 0 01-4.31-4.31V7.183a4.314 4.314 0 014.31-4.31H356.72a4.314 4.314 0 014.31 4.31V203.36h2.872V7.182A7.19 7.19 0 00356.72 0H7.182A7.19 7.19 0 000 7.182v331.343a7.19 7.19 0 007.182 7.182H343.89z",fill:"#e6e6e6"}),N=n.createElement("path",{d:"M652.814 198.571H350.986c-3.917 0-7.096 2.48-7.096 5.537v65.329h316.02v-65.33c0-3.055-3.179-5.536-7.096-5.536z",fill:"#6c63ff"}),P=n.createElement("path",{d:"M654.643 196.656H349.157a7.185 7.185 0 00-7.183 7.182v244.198a7.185 7.185 0 007.183 7.182h305.486a7.185 7.185 0 007.182-7.182V203.838a7.185 7.185 0 00-7.182-7.182zm4.31 251.38a4.316 4.316 0 01-4.31 4.31H349.157a4.316 4.316 0 01-4.31-4.31V203.838a4.316 4.316 0 014.31-4.309h305.486a4.316 4.316 0 014.31 4.31z",fill:"#e6e6e6"}),k=n.createElement("path",{d:"M581.236 305.171h-104.86v1.916h104.86a19.466 19.466 0 110 38.93H422.564a19.466 19.466 0 110-38.93h5.93v-1.916h-5.93a21.38 21.38 0 000 42.762h158.672a21.38 21.38 0 000-42.762zM581.236 371.248h-104.86v1.916h104.86a19.466 19.466 0 110 38.93H422.564a19.466 19.466 0 110-38.93h5.93v-1.916h-5.93a21.38 21.38 0 100 42.762h158.672a21.38 21.38 0 000-42.762z",fill:"#e6e6e6"}),j=n.createElement("path",{"data-name":"Path 40",d:"M440.33 301.07a5.695 5.695 0 000 11.388h24.98a5.695 5.695 0 00.187-11.389h-.187zM440.33 366.189a5.695 5.695 0 000 11.388h24.98a5.695 5.695 0 00.187-11.388q-.093-.002-.187 0z",fill:"#3f3d56"}),C=n.createElement("path",{"data-name":"Path 40",d:"M430.421 320.858a5.695 5.695 0 000 11.388h142.77a5.695 5.695 0 10.187-11.388h-.187zM430.421 386.935a5.695 5.695 0 000 11.388h142.77a5.695 5.695 0 10.187-11.388h-.187z",fill:"#e6e6e6"}),_=n.createElement("circle",{cx:385.946,cy:234.004,r:20.601,fill:"#fff"}),H=n.createElement("path",{"data-name":"Path 40",d:"M422.894 217.742a5.105 5.105 0 000 10.207h127.97a5.105 5.105 0 10.167-10.207q-.084-.002-.168 0zM422.894 240.059a5.105 5.105 0 000 10.208h210.372a5.105 5.105 0 10.167-10.208h-.167z",fill:"#fff"}),L=n.createElement("path",{d:"M828.118 260.027l-42.136 4.788c.575-12.942-.52-25.015-4.789-35.432l34.475-12.45c-3.089 12.889 2.713 27.59 12.45 43.094z",fill:"#a0616a"}),A=n.createElement("path",{d:"M833.2 403.754l13.648 24.365a12.66 12.66 0 01-4.858 17.232l-.164.09a12.66 12.66 0 01-18.626-9.934l-2.22-23.284-7.561-88.878-12.898-58.46 26.78-7.603 12.464 65.74z",fill:"#a0616a"}),V=n.createElement("path",{d:"M855.89 663.193l-17.238-.958-38.306-170.46-81.399 171.418-17.237-.958 49.797-264.308.957-47.882 62.247-3.83c23.264 25.584 36.44 52.044 38.305 79.483z",fill:"#2f2e41"}),D=n.createElement("path",{d:"M717.549 693.122c-3.263 1.49-6.4-10.933-8.748-7.87-7.887 10.282-26.249 7.056-26.166 5.869a4.812 4.812 0 01-3.11-6.054q.036-.11.076-.217a4.812 4.812 0 013.339-2.98l8.187-2.046 12.855-22.608 13.124-.886a31.353 31.353 0 015.799 26.747c-1.191 4.86-3.03 8.984-5.356 10.045zM853.61 693.122c-3.262 1.49-6.398-10.932-8.748-7.87-9.085 11.84-26.778 7.753-26.166 5.869a4.812 4.812 0 01-3.109-6.054q.035-.11.076-.217a4.812 4.812 0 013.339-2.98l8.187-2.046 12.855-22.608 14.01-1.773.354.579a36.123 36.123 0 013.87 29.537c-1.164 3.734-2.75 6.688-4.667 7.563z",fill:"#2f2e41"}),I=n.createElement("circle",{cx:789.812,cy:208.315,r:29.687,fill:"#a0616a"}),R=n.createElement("path",{d:"M816.626 351.003l-64.162 3.83-5.746-36.39c-5.948-16.358 1.487-31.385 13.407-45.966l24.899-27.772 34.475-.958a25.75 25.75 0 0117.52 21.306 101.92 101.92 0 01-10.66 59.206z",fill:"#e6e6e6"}),T=n.createElement("path",{d:"M746.718 432.402l4.592 27.547a12.66 12.66 0 01-10.407 14.57l-.184.029a12.66 12.66 0 01-14.162-15.655l5.797-22.66 22.983-86.188 7.661-59.373 27.772 1.915-10.534 66.077z",fill:"#a0616a"}),F=n.createElement("path",{d:"M825.413 322.752h-.687c-12.949-11.22-24.202-23.799-15.114-39.546-7.708-19.562-16.3-39.877-15.78-52.444a36.856 36.856 0 00-8.373-25.624c-8.19-9.567-10.013-13.84-24.971-10.222a28.343 28.343 0 0127.947-28.734q.712-.01 1.423.016l9.346.34c7.149.26 29.996 3.182 34.901 7.9a22.76 22.76 0 016.516 19.137c-.917 7.8 1.544 14.687 8.118 20.462 12.588 13.016 17.78 26.522 10.643 40.844-5.387 15.161-5.13 27.641 8.765 33.64 4.513 17.32-24.837 34.232-42.734 34.232z",fill:"#2f2e41"}),B=n.createElement("path",{d:"M793.643 302.163c-11.887-9.093-23.702-9.812-35.433-.957l3.204-36.365a19.772 19.772 0 0118.828-20.09 19.772 19.772 0 0120.69 18.809q.03.634.02 1.27z",fill:"#e6e6e6"}),G=n.createElement("ellipse",{cx:790.291,cy:214.061,rx:3.831,ry:7.182,fill:"#a0616a"});const K=function(e){return n.createElement("svg",f({"data-name":"Layer 1",width:230,height:175,viewBox:"0 0 920.657 698"},e),h,p,m,d,v,g,y,E,b,w,z,M,x,S,O,N,P,k,j,C,_,H,L,A,V,D,I,R,T,F,B,G)};function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var q=n.createElement("path",{d:"M160 352h736v288H736.188A63.915 63.915 0 00672 703.932V896H223.812C188.57 896 160 867.14 160 831.966V352zm0-32v-95.966A64.17 64.17 0 01224.034 160h607.949a63.915 63.915 0 0164.034 63.744V320h-736zm544 576V704.102C704 686.37 718.438 672 735.71 672H896L704 896zM256 448v32h544v-32H256zm0 96v32h544v-32H256zm0 96v32h352v-32H256zm0 96v32h352v-32H256z",fill:"#fff"});const J=function(e){return n.createElement("svg",U({viewBox:"0 0 1024 1024",width:22,height:22},e),q)};function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Z(e){var t,a,l=e.categories,c=e.currentLabel,o=e.show,i=void 0!==o&&o,s=e.onSelected,u=(t=(0,n.useState)(""),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}}(t,a)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?W(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=u[0],h=u[1],p=(0,n.useRef)(null);(0,n.useEffect)((function(){p.current.focus()}));var m=l.filter((function(e){return!f||e.label.indexOf(f)>-1}));return r().createElement("div",{className:"droplabel ".concat(i?"show":"hide"),onBlur:function(){setTimeout((function(){s()}),400)}},r().createElement("div",{className:"select-menu-header"},r().createElement("span",{className:"select-menu-title"},"为此页面添加一个标签"),r().createElement("svg",{onClick:function(){return s()},className:"close-button",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},r().createElement("path",{fillRule:"evenodd",d:"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"}))),r().createElement("div",{className:"select-menu-filters"},r().createElement("div",{className:"select-menu-text-filter"},r().createElement("input",{ref:p,onKeyDown:function(e){13===e.which&&s(p.current.value.trim()),e.stopPropagation()},onChange:function(e){h(e.target.value.trim())},value:f,type:"text",placeholder:"搜索/新建一个标签",autoComplete:"off",autoFocus:""}),f&&r().createElement("button",{onClick:function(e){s(f),e.stopPropagation()},className:"new-button"},"新建并应用"))),r().createElement("div",{className:"select-menu-list"},c&&r().createElement("label",{className:"select-menu-item label-select-menu-item"},r().createElement("svg",{className:"select-menu-item-icon",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},r().createElement("path",{fillRule:"evenodd",d:"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"})),c),r().createElement("div",null,m.map((function(e){return e.label!==c&&r().createElement("div",{onClick:function(){return s(e.label)},key:e.label,className:"select-menu-item"},r().createElement("label",null,e.label))})))))}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Q=n.createElement("path",{d:"M512 630.154h78.77a39.385 39.385 0 000-78.77H512a39.385 39.385 0 000 78.77zm0 157.538h78.77a39.385 39.385 0 100-78.769H512a39.385 39.385 0 100 78.77zM945.23 78.77H787.693V39.385a39.385 39.385 0 10-78.769 0v39.384H393.846V39.385a39.385 39.385 0 10-78.77 0v39.384H157.539A157.538 157.538 0 000 236.308v630.154A157.538 157.538 0 00157.538 1024h787.693a157.538 157.538 0 00157.538-157.538V236.308A157.538 157.538 0 00945.231 78.769zM1024 866.462a78.77 78.77 0 01-78.77 78.769H157.539a78.77 78.77 0 01-78.769-78.77V393.847H1024zm0-551.385H78.77v-78.77a78.77 78.77 0 0178.768-78.769h157.539v39.385a39.385 39.385 0 1078.77 0v-39.385h315.076v39.385a39.385 39.385 0 1078.77 0v-39.385H945.23a78.77 78.77 0 0178.769 78.77zM275.692 787.692h78.77a39.385 39.385 0 100-78.769h-78.77a39.385 39.385 0 000 78.77zm472.616-157.538h78.769a39.385 39.385 0 000-78.77h-78.77a39.385 39.385 0 000 78.77zm-472.616 0h78.77a39.385 39.385 0 000-78.77h-78.77a39.385 39.385 0 000 78.77zm472.616 157.538h78.769a39.385 39.385 0 000-78.769h-78.77a39.385 39.385 0 000 78.77zm0 0",fill:"#515151"});const X=function(e){return n.createElement("svg",$({viewBox:"0 0 1102 1024",width:16,height:16},e),Q)};function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var ee=n.createElement("path",{d:"M533 1024l-147.7-84.8-136.4 78.3h-11.3c-17.3 0-34.2-3.4-50.1-10.1-15.3-6.5-29.1-15.7-40.8-27.6-11.7-11.7-21-25.5-27.5-40.8-6.7-15.9-10.1-32.7-10.1-50.1V128.5c0-17.4 3.4-34.2 10.1-50.1 6.5-15.3 15.8-29.1 27.6-40.8 11.7-11.8 25.5-21 40.8-27.5C203.3 3.4 220.2 0 237.5 0h590.9c17.3 0 34.2 3.4 50.1 10.1 15.3 6.5 29.1 15.7 40.8 27.6 11.7 11.7 21 25.5 27.5 40.8 6.7 15.9 10.1 32.7 10.1 50.1V889c0 17.4-3.4 34.2-10.1 50.1-6.5 15.3-15.8 29.1-27.6 40.8-11.7 11.8-25.5 21-40.8 27.5-15.8 6.7-32.7 10.1-50 10.1h-11.3l-136.4-78.3L533 1024zm147.7-182.6l157.2 90.3c2.5-.6 5-1.4 7.5-2.4 5.2-2.2 9.9-5.4 13.9-9.4 4.1-4.1 7.2-8.7 9.4-14 2.3-5.3 3.4-11.1 3.4-17V128.5c0-5.9-1.1-11.7-3.4-17-2.2-5.2-5.4-9.9-9.4-13.9-4.1-4.1-8.7-7.2-13.9-9.4-5.4-2.3-11.1-3.4-17-3.4H237.5c-5.9 0-11.6 1.1-17 3.4-5.2 2.2-9.9 5.4-13.9 9.4-4.1 4.1-7.2 8.7-9.4 14-2.3 5.3-3.4 11.1-3.4 17V889c0 5.9 1.1 11.7 3.4 17 2.2 5.2 5.4 9.9 9.4 13.9 4.1 4.1 8.7 7.2 13.9 9.4 2.4 1 4.9 1.8 7.5 2.4l157.2-90.3L533 926.2l147.7-84.8z",fill:"#13227a"}),te=n.createElement("path",{d:"M490.6 310.9H321c-23.4 0-42.4-19-42.4-42.4s19-42.4 42.4-42.4h169.6c23.4 0 42.4 19 42.4 42.4s-19 42.4-42.4 42.4zm211.9 176.7H321c-23.4 0-42.4-19-42.4-42.4s19-42.4 42.4-42.4h381.6c23.4 0 42.4 19 42.4 42.4-.1 23.4-19 42.4-42.5 42.4z",fill:"#13227a"});const ae=function(e){return n.createElement("svg",Y({viewBox:"0 0 1024 1024",width:16,height:16},e),ee,te)};function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var re=n.createElement("path",{d:"M810.667 170.667H661.333L618.667 128H405.333l-42.666 42.667H213.333V256h597.334M256 810.667C256 857.6 294.4 896 341.333 896h341.334C729.6 896 768 857.6 768 810.667v-512H256v512z",fill:"#707070"});const le=function(e){return n.createElement("svg",ne({className:"delete_svg__icon delete_svg__delete-page-icon",viewBox:"0 0 1024 1024",width:24,height:24},e),re)};function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var oe=n.createElement("defs",null,n.createElement("style",null)),ie=n.createElement("path",{d:"M905.32 270.2H322.344v-6.424a19.728 19.728 0 00-19.728-19.728h-14.584v-12.872a19.728 19.728 0 00-19.728-19.728h-17.16a19.728 19.728 0 00-19.728 19.728v12.872H213.4a19.728 19.728 0 00-19.728 19.728v6.424H161.84a69.448 69.448 0 00-69.448 69.448v449.36a69.448 69.448 0 0069.448 69.448h743.488a69.448 69.448 0 0069.448-69.448v-449.36A69.456 69.456 0 00905.32 270.2z",fill:"#E6E7E8"}),se=n.createElement("path",{d:"M252.872 206.144V193.28a19.728 19.728 0 00-19.728-19.728h-17.16a19.728 19.728 0 00-19.728 19.728v12.872h56.616z",fill:"#FA759E"}),ue=n.createElement("path",{d:"M287.192 232.296v-6.424a19.728 19.728 0 00-19.728-19.728H178.24a19.728 19.728 0 00-19.728 19.728v6.424h128.68z",fill:"#0089EF"}),fe=n.createElement("path",{d:"M870.168 232.296H126.68a69.448 69.448 0 00-69.448 69.448v449.36a69.448 69.448 0 0069.448 69.448h743.488a69.448 69.448 0 0069.448-69.448v-449.36a69.448 69.448 0 00-69.448-69.448z",fill:"#6DC9F7"}),he=n.createElement("path",{d:"M370.448 414.184H57.232v39.968h298.68a269.192 269.192 0 0114.536-39.968zm492.88 0a268.864 268.864 0 0114.536 39.968h61.744v-39.968h-76.28z",fill:"#FFD7E5"}),pe=n.createElement("path",{d:"M346.08000000000004 526.424a270.808 270.808 0 10541.616 0 270.808 270.808 0 10-541.616 0z",fill:"#FFF"}),me=n.createElement("path",{d:"M359.807 586.802a270.808 270.808 0 10534.63-86.716 270.808 270.808 0 10-534.63 86.716z",fill:"#0089EF"}),de=n.createElement("path",{d:"M418.055 573.344a204.32 204.32 0 10397.703-93.91 204.32 204.32 0 10-397.703 93.91z",fill:"#6DC9F7"}),ve=n.createElement("path",{d:"M870.168 224.296H295.032c-.84-14.544-12.824-26.152-27.568-26.152h-6.584v-4.864a27.76 27.76 0 00-27.736-27.728h-17.16a27.76 27.76 0 00-27.728 27.728v4.864H178.24c-14.752 0-26.736 11.608-27.568 26.152h-23.984c-42.704 0-77.448 34.744-77.448 77.448v449.36c0 42.704 34.744 77.448 77.448 77.448h743.488c42.712 0 77.456-34.744 77.456-77.448v-449.36c-.016-42.704-34.76-77.448-77.464-77.448zM204.256 193.28c0-6.472 5.264-11.728 11.728-11.728h17.16c6.472 0 11.736 5.264 11.736 11.728v4.864h-40.624v-4.864zm-26.016 20.864h89.224c5.936 0 10.848 4.424 11.624 10.152H166.616a11.736 11.736 0 0111.624-10.152zm753.376 536.96c0 33.88-27.568 61.448-61.456 61.448H126.68c-33.88 0-61.448-27.56-61.448-61.448v-449.36c0-33.88 27.568-61.448 61.448-61.448h743.488c33.88 0 61.456 27.56 61.456 61.448v449.36z",fill:"#3A2C60"}),ge=n.createElement("path",{d:"M616.888 247.616c-153.736 0-278.808 125.072-278.808 278.808s125.072 278.808 278.808 278.808S895.696 680.16 895.696 526.424 770.624 247.616 616.888 247.616zm0 541.616c-144.912 0-262.808-117.896-262.808-262.808s117.896-262.808 262.808-262.808 262.808 117.896 262.808 262.808-117.888 262.808-262.808 262.808z",fill:"#3A2C60"}),ye=n.createElement("path",{d:"M798.496 451.704a195.144 195.144 0 0112.224 43.328 8 8 0 1015.792-2.544 211.088 211.088 0 00-13.224-46.88 8 8 0 10-14.792 6.096z",fill:"#3A2C60"}),Ee=n.createElement("path",{d:"M813.208 526.424c0 108.248-88.072 196.32-196.32 196.32-108.256 0-196.328-88.072-196.328-196.32 0-108.256 88.072-196.328 196.328-196.328 68.664 0 131.184 34.936 167.248 93.464a8 8 0 1013.624-8.384c-39.008-63.288-106.616-101.072-180.872-101.072-117.072 0-212.328 95.248-212.328 212.328s95.248 212.32 212.328 212.32c117.072 0 212.32-95.248 212.32-212.32a8 8 0 00-16-.008z",fill:"#3A2C60"}),be=n.createElement("path",{d:"M461.216 526.424a155.672 155.672 0 10311.344 0 155.672 155.672 0 10-311.344 0z",fill:"#D4FBFF"}),we=n.createElement("path",{d:"M542.73 543.904a76.216 76.216 0 10148.352-35.031 76.216 76.216 0 10-148.352 35.03z",fill:"#0089EF"}),ze=n.createElement("path",{d:"M652.424 479.24a14.52 14.52 0 100 29.04 14.52 14.52 0 000-29.04zM341.32 281.32H241.232a15.32 15.32 0 00-15.32 15.32v11.064c0 8.464 6.856 15.32 15.32 15.32H341.32a15.32 15.32 0 0015.32-15.32V296.64a15.328 15.328 0 00-15.32-15.32z",fill:"#FFF"}),Me=n.createElement("path",{d:"M170.76 304.464a17.704 17.704 0 1035.408 0 17.704 17.704 0 10-35.408 0z",fill:"#FA759E"});const xe=function(e){return n.createElement("svg",ce({className:"camera_svg__icon",viewBox:"0 0 1024 1024",width:18,height:18},e),oe,ie,se,ue,fe,he,pe,me,de,ve,ge,ye,Ee,be,we,ze,Me)};var Se=a(9648);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?je(e):t}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(s,e);var t,a,l,o,i=(l=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ce(l);if(o){var a=Ce(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return ke(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),_e(je(t=i.call(this,e)),"saveEditorPage",(function(e){var a=e.blocks||[],n=[],r={};a.forEach((function(e){"lightheader"===e.type?(r=e.data.light,n.push(r)):r[4]=e.data.text}));var l=t.props.selectedPage;l.steps=n,t.savePage(l)})),_e(je(t),"renderBlocks",(function(){var e=t.props.selectedPage,a=e.steps,n=(e.images,[]);return a.forEach((function(e){var t="string"==typeof e[11]?e[11]:"",a="string"==typeof e[12]?e[12]:"",r="".concat(t,'<light style="border-bottom: 1px solid ').concat(e[5]||"",'">').concat(e[3],"</light>").concat(a);n.push({type:"lightheader",data:{text:r,level:4,color:e[5],light:e},readonly:!0}),e[4]&&n.push({type:"paragraph",data:{text:e[4]}})})),n})),_e(je(t),"computeAlikePage",(function(){var e=t.props,a=e.data,n=e.selectedPage,r=[];Object.keys(a).forEach((function(e){var t=a[e];(t.keys.length&&t.keys[0]===n.keys[0]||t.icon&&t.icon===n.icon)&&t.url!==n.url&&r.push(t)})),t.setState({alikePages:r})})),_e(je(t),"doShowCategory",(function(){t.setState({showCategory:!t.state.showCategory})})),_e(je(t),"setCategory",(function(e){if(t.setState({showCategory:!1}),void 0!==e){var a=t.props.selectedPage;a.category=e,t.savePage(a)}})),_e(je(t),"deleteLight",(function(e){var a=t.props.selectedPage;a.steps.splice(e,1),t.savePage(a)})),_e(je(t),"deletePage",(function(){t.savePage(null)})),_e(je(t),"deleteSnapshot",(function(e){var a=t.props.selectedPage;a.snapshots.splice(e,1),t.savePage(a)})),_e(je(t),"savePage",u()((function(e){void 0===e&&(e=t.props.selectedPage);var a=t.props.selectedPage;t.props.onSavePage({url:a.url,keys:a.keys,plainData:e})}),50)),_e(je(t),"modifyNote",(function(e){var a=e.target.value,n=t.props.selectedPage;n.note=a||"",t.savePage(n)})),_e(je(t),"pushPage",(function(e){t.props.onSelectPage(e)})),t.state={showCategory:!1,alikePages:[]},t}return t=s,(a=[{key:"componentDidMount",value:function(){this.computeAlikePage()}},{key:"bigPicture",value:function(e,t,a,n){c()({el:e.target,gallery:a,position:n,animationEnd:function(){}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectedPage,l=t.categories,c=this.state,o=c.showCategory,i=c.alikePages,s=a&&a.snapshots||[],u=a&&a.images||[],f=a.steps||[],h=this.renderBlocks();return r().createElement(n.Fragment,null,a&&r().createElement("div",{className:"page-detail"},r().createElement("div",{className:"side-bar"},r().createElement(le,{className:"icon delete-page-icon",width:16,height:16,onClick:this.deletePage})),r().createElement("div",null,r().createElement("div",{className:"page-header"},r().createElement("div",{className:"page-header-meta"},r().createElement("div",{className:"page-link"},r().createElement("div",null,a.title||a.url),r().createElement("a",{target:"_blank",href:a.url,className:"link"},a.title!==a.url?a.url:"")),r().createElement("div",{className:"meta-info"},r().createElement("div",{className:"date"},r().createElement(X,null),r().createElement("span",null,new Date(a.lastModified).toLocaleDateString())),r().createElement("div",{className:"category"},r().createElement("a",{className:"setting-icon icon",onClick:this.doShowCategory},r().createElement(ae,null)),r().createElement("span",{onClick:this.doShowCategory,className:"category-name"},a.category||"请选择一个标签"),r().createElement(Z,{show:o,onSelected:this.setCategory,categories:l,currentLabel:a.category})))),u.length>0&&r().createElement("div",{className:"page-img"},r().createElement("img",{src:u[0],onClick:function(t){e.bigPicture(t,u[0],u.map((function(e){return{src:e}})))}}))),r().createElement("div",{className:"main-content"},r().createElement("div",{className:"left-content"},r().createElement("div",{className:"lights"},0===f.length&&r().createElement("div",{className:"empty-lights"},"没有此页面上留下笔记。",r().createElement("a",{href:a.url,target:"_blank"},"去添加")),f.map((function(t,a){return r().createElement("div",{className:"light",key:t[6]+a},r().createElement("p",{style:{borderColor:t[5]},className:"refer"},r().createElement("svg",{onClick:function(){return e.deleteLight(a)},t:"1593394105976",className:"icon delete-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2228",width:"16",height:"16"},r().createElement("path",{d:"M810.666667 170.666667 661.333333 170.666667 618.666667 128 405.333333 128 362.666667 170.666667 213.333333 170.666667 213.333333 256 810.666667 256M256 810.666667C256 857.6 294.4 896 341.333333 896L682.666667 896C729.6 896 768 857.6 768 810.666667L768 298.666667 256 298.666667 256 810.666667Z","p-id":"2229",fill:"#707070"})),r().createElement("span",{className:"light-keyword",style:{borderColor:t[5]}},t[3])),r().createElement("div",{className:"note"},r().createElement("div",{className:"editor-text-target"}),r().createElement("div",{className:"editor-bar-target"})))})))),r().createElement("div",{className:"right-content"},r().createElement(Se.Z,{tools:["marker","paragraph","lightheader"],key:a.url,data:{blocks:h},onSave:this.saveEditorPage}))),r().createElement("div",{className:"summary"},r().createElement("textarea",{placeholder:"为该网页添加一段总结、笔记、评价...",defaultValue:a.note,onChange:this.modifyNote})),r().createElement("div",{className:"snapshots"},s.map((function(t,a){return r().createElement("div",{key:a,className:"snapshot"},r().createElement("img",{className:"snapshot-img",src:t,onClick:function(t){e.bigPicture(t,s[a],s.map((function(e){return{src:e}})),a)},alt:"网页快照"}),r().createElement("div",{className:"snapshot-tips"},r().createElement("svg",{onClick:function(){return e.deleteSnapshot(a)},t:"1593394105976",className:"icon delete-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2228",width:"16",height:"16"},r().createElement("path",{d:"M810.666667 170.666667 661.333333 170.666667 618.666667 128 405.333333 128 362.666667 170.666667 213.333333 170.666667 213.333333 256 810.666667 256M256 810.666667C256 857.6 294.4 896 341.333333 896L682.666667 896C729.6 896 768 857.6 768 810.666667L768 298.666667 256 298.666667 256 810.666667Z","p-id":"2229",fill:"#707070"}))))})),0===s.length&&r().createElement("div",{className:"snapshots-tip"},r().createElement(xe,null),"暂无快照。",r().createElement("a",{href:a.url,target:"_blank"},"去拍照"))))),r().createElement("div",{className:"alike-module"},r().createElement("h4",null,"相似网页"),r().createElement("div",null,i.map((function(t,a){return r().createElement("div",{onClick:function(){e.pushPage(t)},className:"alike-item",key:t.url+a},r().createElement("div",null,t.title),r().createElement("div",{className:"alike-item-link"},t.url))})))))}}])&&Ne(t.prototype,a),s}(n.Component);function Le(e){var t=e.selectedPagesKey,a=e.size,l=e.categories,c=e.onSavePage,o=e.selectPage,i=e.data;return e.isPopUp,r().createElement("section",{className:"notes",style:{width:"calc(100% - ".concat(a,")")}},r().createElement("div",{className:"title"},r().createElement("span",{className:"logo-title"},"NOTES ",r().createElement(J,{className:"icon"}))),r().createElement("div",{className:"content"},0===t.size&&r().createElement("div",{className:"empty-tip"},r().createElement("div",null,"在左侧点击选中page，查看详情、编辑"),r().createElement(K,{width:230,height:175})),Array.from(t).map((function(e){return r().createElement(n.Fragment,{key:e},i[e]?r().createElement(He,{categories:l,onSelectPage:o,selectedPage:i[e],onSavePage:c,data:i}):r().createElement("div",{className:"empty-tip"},"无相关数据",r().createElement("div",null,e)))}))))}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Ve(e){var t,a,l=e.list,c=e.selected,o=e.onSelect,i=l.find((function(e){return e.value===c})),s=(t=(0,n.useState)(!1),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}}(t,a)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ae(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],f=s[1];return(0,n.useEffect)((function(){setTimeout((function(){return f(!1)}),10)})),r().createElement("div",{className:"_3uSeHvCINV9H7G_sly2z73"},r().createElement("div",null,i.label,r().createElement("svg",{t:"1593227557427",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6571",width:"14",height:"14"},r().createElement("path",{d:"M543.86419315 739.37652439c-12.01234468 12.01234468-28.31481246 23.16666475-43.75925565 19.73456629-15.44444316 2.57407386-30.03086171-9.43827083-42.0432064-19.7345663L86.53707047 366.13581452c-18.87654164-18.87654164-18.87654164-49.76542799 0-68.64196959s49.76542799-18.87654164 68.64196963 0l345.78392203 355.22219283L847.60490875 297.49384493c18.87654164-18.87654164 49.76542799-18.87654164 68.64196962-1e-8s18.87654164 49.76542799-1e-8 68.6419696l-372.38268521 373.24070987z","p-id":"6572"}))),r().createElement("div",{className:"".concat("_2O6wPDWiKMQufYzJgyJztM"," ").concat(u?"FRxKJnvXshrmzJkUl5uIz":"")},l.map((function(e){return r().createElement("div",{key:e.value,className:"".concat("_3OEFxHPUO9RV8K5eh850tT"," ").concat(e.value===c?"N8MInFo05MOEE2WBOETmW":""),onClick:function(){return t=e.value,o(t),void f(!0);var t}},e.label)}))))}var De=["#c4e3cb","#fff4e1","#e7e6e1","#aacfd0","#a9d2ff"];function Ie(e){var t=e.onChoose;return r().createElement("div",null,r().createElement("style",{jsx:"true"},"\n                .color-item{\n                    display:inline-block;\n                    width:20px;\n                    height:20px;\n                    border-radius: 20px;\n                    margin-right: 4px;\n                    cursor:pointer;\n                    border: 1px solid #fff;\n                }\n               \n              "),De.map((function(e){return r().createElement("span",{key:e,onClick:function(){t(e)},className:"color-item",style:{backgroundColor:e}})})))}function Re(e){var t=e.connected,a=e.emptyGroup,l=e.doConnect;return r().createElement(n.Fragment,null,!t&&r().createElement("div",{className:"empty-tip"},"正在尝试连接你的",r().createElement("a",{href:"https://addons.mozilla.org/zh-CN/firefox/addon/page-note/?src=external-me"},"PAGENOTE"),"。 请确保你已安装最新版本 0.11.+。",r().createElement("p",null,"已安装最新版，无响应？",r().createElement("button",{onClick:l},"手动连接试试")),r().createElement("p",null,"进群反馈，QQ:769094377")),t&&a&&r().createElement("div",{className:"empty-tip"},"你还没有标记过网页，去任意网页创建你的标记吧。"))}function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Fe=n.createElement("path",{d:"M74.77 927.917c0 11.625 11.626 23.25 23.25 23.25h151.126c11.625 0 23.25-11.625 23.25-23.25v-813.75c0-11.625-11.625-23.25-23.25-23.25H98.02c-11.625 0-23.25 11.625-23.25 23.25v813.75zm58.126-685.875c11.625-5.813 34.875-11.625 46.5-11.625h5.812c11.625 0 34.875 5.812 46.5 11.625 0 0 11.625 5.812 11.625 29.062 0 17.438-11.625 23.25-11.625 23.25-11.625 5.813-34.875 5.813-46.5 5.813h-5.812c-17.438 0-34.875 0-46.5-5.813 0 0-11.625-5.812-11.625-29.062-5.813-17.438 11.625-23.25 11.625-23.25zm0 127.875c11.625-5.813 29.062-11.625 46.5-11.625h5.812c11.625 0 34.875 5.812 46.5 11.625 0 0 11.625 5.812 11.625 29.062 0 11.625-11.625 23.25-11.625 23.25-11.625 0-34.875 5.813-46.5 5.813h-5.812c-11.625 0-34.875-5.813-46.5-11.625 0 0-11.625-5.813-11.625-29.063-5.813-11.625 11.625-17.437 11.625-17.437zm0 122.062c11.625-5.812 34.875-11.625 46.5-11.625h5.812c11.625 0 34.875 5.813 46.5 11.625 0 0 11.625 5.813 11.625 29.063 0 17.437-11.625 23.25-11.625 23.25-11.625 5.812-34.875 11.625-46.5 11.625h-5.812c-11.625 0-34.875-5.813-46.5-11.625 0 0-11.625-5.813-11.625-29.063-5.813-17.437 11.625-23.25 11.625-23.25zm203.437 435.938c0 11.625 11.625 23.25 23.25 23.25h151.125c11.625 0 23.25-11.625 23.25-23.25v-813.75c0-11.625-11.625-23.25-23.25-23.25H359.583c-11.625 0-23.25 11.625-23.25 23.25v813.75zm395.25-825.375c-5.812-11.625-17.437-17.438-29.062-17.438l-145.313 46.5c-11.625 5.813-23.25 17.438-17.437 29.063l238.312 778.875c5.813 11.625 17.438 17.437 29.063 17.437l145.312-46.5c11.625-5.812 17.438-17.437 17.438-29.062L731.583 102.542z",fill:"#fff"});const Be=function(e){return n.createElement("svg",Te({className:"pages_svg__icon",viewBox:"0 0 1024 1024",width:22,height:22},e),Fe)};function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ke=n.createElement("defs",null,n.createElement("style",null)),Ue=n.createElement("path",{d:"M502.52 5.579c168.499 166.852 337.965 334.663 507.873 502.908L505.992 1017.45l-79.733-81.465L849.23 509.143C706.32 367.643 563.75 226.486 420.85 85c27.269-26.517 54.104-52.615 81.67-79.422z",fill:"#707070"}),qe=n.createElement("path",{d:"M98.902 5.448c168.696 167.055 338.174 334.885 507.996 503.058L102.72 1017.212l-79.792-81.397L445.727 509.15C302.791 367.615 160.208 226.435 17.164 84.795L98.902 5.448z",fill:"#707070"});const Je=function(e){return n.createElement("svg",Ge({className:"more_svg__icon",viewBox:"0 0 1024 1024",width:16,height:16},e),Ke,Ue,qe)};function We(e){var t=e.page,a=e.onSelect,n=e.group,l=e.active,c=t.steps||[],o=t.images||[];return r().createElement("div",{key:t.url,title:t.url,className:"page-item ".concat(l?"active":""),onClick:function(){return a(t,n)},style:{backgroundImage:"url(".concat(o[0],")")}},r().createElement("svg",{t:"1593351193751",className:"selected-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2250",width:"32",height:"32"},r().createElement("path",{d:"M1024 1024V158.398C1024 70.86 953.14 0 865.602 0H0l1024 1024zM905.942 171.278L643.313 479.621s-19.084 26.63-45.714 0L483.425 327.394s-15.194-19.084 3.773-34.286c7.656-3.771 19.084-11.429 34.286 3.773l102.746 79.883 251.31-232.116s15.201-15.194 30.401-3.766c7.658 3.766 11.429 15.195 0.001 30.396z m0 285.524","p-id":"2251",fill:"#1296db"})),r().createElement("div",{className:"page-header"},r().createElement("div",{className:"page-title",title:t.url},r().createElement("img",{className:"page-icon",src:t.icon||o[0],alt:""}),t.title||t.url),r().createElement("div",{className:"page-link"},r().createElement("a",{className:"link",title:t.title,target:"_blank",href:t.url},r().createElement("svg",{t:"1593166539475",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5602",width:"14",height:"14"},r().createElement("path",{d:"M638.976 394.56c-7.744-7.808-16.128-14.848-24.704-21.44-8.896-8.576-20.928-13.824-34.304-13.824-27.2 0-49.28 22.144-49.28 49.344 0 12.032 4.288 23.04 11.52 31.616 3.456 4.16 7.552 7.744 12.16 10.56 4.672 3.84 9.28 7.616 13.504 11.904l4.032 4.032c51.136 51.072 35.904 139.072-15.232 190.144L338.56 875.008c-51.072 51.072-134.208 51.072-185.344 0l-4.096-4.16c-51.136-51.136-51.136-134.336 0-185.28l96.384-96.384c12.352-9.792 20.288-24.96 20.288-41.984 0-29.568-24-53.568-53.568-53.568-11.2 0-21.568 3.456-30.144 9.28 0 0 0-0.064-0.064-0.128l-1.024 0.96c-3.776 2.752-7.232 5.952-10.24 9.6L70.656 606.976c-94.144 94.208-94.144 248.32 0 342.4l4.096 4.032c94.144 94.08 248.128 94.08 342.272 0l218.112-218.112c94.016-94.208 101.952-242.688 7.936-336.768l-4.096-3.968zM953.344 74.688l-3.968-4.032c-94.208-94.208-248.192-94.208-342.4 0L388.992 288.768c-94.208 94.08-99.392 230.08-5.248 324.288l3.968 3.968c4.288 4.224 8.704 8.32 13.248 12.16 3.264 3.648 7.168 6.72 11.456 9.28 0 0.064 0.064 0.064 0.064 0.064 6.848 3.968 14.72 6.208 23.168 6.208 25.728 0 46.592-20.864 46.592-46.592 0-7.232-1.664-14.144-4.608-20.224-6.144-13.888-17.664-22.272-25.664-30.208L448 543.744c-51.072-51.136-31.68-125.44 19.456-176.576l218.24-218.048c51.008-51.136 134.144-51.136 185.28 0l4.032 3.968c51.136 51.136 51.136 134.336 0 185.344l-96.128 96.192c-12.992 9.664-21.504 25.28-21.504 42.752 0 29.312 23.744 53.12 53.12 53.12 10.24 0 19.776-2.88 27.904-7.872 0 0.128 0.064 0.192 0.128 0.32L840 521.6c4.608-3.072 8.64-6.848 12.096-11.2l101.248-93.376c94.208-94.208 94.208-248.192 0-342.336z m0 0","p-id":"5603",fill:"#1296db"}))))),r().createElement("div",{className:"page-cliper"}),r().createElement("div",{className:"page-lights"},c.slice(0,3).map((function(e,t){return r().createElement("div",{key:e[6]+t,title:e[3]||e[4]||"",className:"page-light",style:{borderColor:e[5]}},(e[3]||e[4]||"").substr(0,50))}))))}var Ze=a(4893),$e=new(a.n(Ze)());function Qe(e){var t=e.group,a=e.toggleExpandGroup,l=e.groupPagesObject,c=e.selectedPagesKey,o=e.selectPage,i=e.expand,s=$e.hex(t),u=(l[t]||{}).matched;return r().createElement(n.Fragment,null,l[t]&&r().createElement("div",{className:"group-container ".concat(u?"":"no-items")},r().createElement("div",{className:"group-title",onClick:function(){return a(t)}},r().createElement("span",{className:"group-title-name",style:{borderColor:s}},t,r().createElement(Je,{width:12,height:12,className:"group-icon ".concat(i?"expand":"collapse"),onClick:function(){return a(t)}})),r().createElement("span",{className:"group-info"},l[t]?l[t].pages.length:0)),r().createElement("div",{className:"group-items ".concat(i?"expand":"collapse")},l[t]&&(i?l[t].pages:l[t].pages.slice(0,0)).map((function(e,a){return!1!==e.matched&&e.url?r().createElement(We,{key:e.url,active:c.has(e.url),page:e,group:t,onSelect:o}):null})))))}function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ye=n.createElement("path",{d:"M1008.92 474.03a15.34 15.34 0 01-15.26 15.42h-671.4A15.34 15.34 0 01307 474.03V15.42A15.34 15.34 0 01322.26 0h671.4a15.34 15.34 0 0115.26 15.42v458.61z",fill:"#e6e6e6"}),et=n.createElement("path",{d:"M1001 466.52a14.91 14.91 0 01-14.91 14.91h-655.8a14.91 14.91 0 01-14.91-14.91V23.14a14.91 14.91 0 0114.91-14.91h655.83A14.91 14.91 0 011001 23.14z",fill:"#fff"}),tt=n.createElement("path",{"data-name":"b9c54412-061c-4155-b289-fb4c23e4a64e",d:"M350.43 27.48h616.22a8.85 8.85 0 018.85 8.85v415.28a8.85 8.85 0 01-8.85 8.85H350.43a8.85 8.85 0 01-8.85-8.85V36.33a8.85 8.85 0 018.85-8.85z",fill:"#e6e6e6"}),at=n.createElement("path",{d:"M358.23 37.44h599.95a8.85 8.85 0 018.85 8.85v393.12a8.85 8.85 0 01-8.85 8.85H358.23a8.85 8.85 0 01-8.85-8.85V46.29a8.85 8.85 0 018.85-8.85z",fill:"#fff"}),nt=n.createElement("path",{d:"M853.92 529.03a15.34 15.34 0 01-15.26 15.42h-671.4A15.34 15.34 0 01152 529.03V70.42A15.34 15.34 0 01167.26 55h671.4a15.34 15.34 0 0115.26 15.42v458.61z",fill:"#e6e6e6"}),rt=n.createElement("path",{d:"M846 521.52a14.91 14.91 0 01-14.91 14.91h-655.8a14.91 14.91 0 01-14.91-14.91V78.14a14.91 14.91 0 0114.91-14.91h655.83A14.91 14.91 0 01846 78.14z",fill:"#fff"}),lt=n.createElement("path",{"data-name":"a7242049-80b4-49e1-bd08-67354734c824",d:"M195.43 82.48h616.22a8.85 8.85 0 018.85 8.85v415.28a8.85 8.85 0 01-8.85 8.85H195.43a8.85 8.85 0 01-8.85-8.85V91.33a8.85 8.85 0 018.85-8.85z",fill:"#e6e6e6"}),ct=n.createElement("path",{d:"M203.23 92.44h599.95a8.85 8.85 0 018.85 8.85v393.12a8.85 8.85 0 01-8.85 8.85H203.23a8.85 8.85 0 01-8.85-8.85V101.29a8.85 8.85 0 018.85-8.85z",fill:"#fff"}),ot=n.createElement("path",{d:"M701.92 592.03a15.34 15.34 0 01-15.26 15.42H15.26A15.34 15.34 0 010 592.03V133.42A15.34 15.34 0 0115.26 118h671.4a15.34 15.34 0 0115.26 15.42v458.61z",fill:"#e6e6e6"}),it=n.createElement("path",{d:"M694 584.52a14.91 14.91 0 01-14.91 14.91H23.29a14.91 14.91 0 01-14.91-14.91V141.14a14.91 14.91 0 0114.91-14.91h655.83A14.91 14.91 0 01694 141.14z",fill:"#fff"}),st=n.createElement("path",{"data-name":"b7a050eb-0cb2-44a8-b642-35d340850eff",d:"M43.43 145.48h616.22a8.85 8.85 0 018.85 8.85v415.28a8.85 8.85 0 01-8.85 8.85H43.43a8.85 8.85 0 01-8.85-8.85V154.33a8.85 8.85 0 018.85-8.85z",fill:"#e6e6e6"}),ut=n.createElement("path",{d:"M51.23 155.44h599.95a8.85 8.85 0 018.85 8.85v393.12a8.85 8.85 0 01-8.85 8.85H51.23a8.85 8.85 0 01-8.85-8.85V164.29a8.85 8.85 0 018.85-8.85z",fill:"#fff"}),ft=n.createElement("path",{d:"M494.602 240.599v272a6.005 6.005 0 01-6 6h-285a6.005 6.005 0 01-6-6v-304a6.005 6.005 0 016-6h249z",fill:"#6c63ff"}),ht=n.createElement("path",{"data-name":"Path 40",d:"M248.038 268.797a3.755 3.755 0 000 7.509h99.005a3.755 3.755 0 10.123-7.509h-.123zM248.038 304.016a3.755 3.755 0 000 7.509h196.005a3.755 3.755 0 00.123-7.509h-.123zM248.038 339.235a3.755 3.755 0 000 7.509h196.005a3.755 3.755 0 10.123-7.509h-.123zM248.038 374.454a3.755 3.755 0 000 7.509h196.005a3.755 3.755 0 10.123-7.509h-.123zM248.038 409.673a3.755 3.755 0 000 7.509h196.005a3.755 3.755 0 10.123-7.509h-.123zM248.038 444.892a3.755 3.755 0 000 7.509h196.005a3.755 3.755 0 10.123-7.509h-.123z",fill:"#fff"}),pt=n.createElement("path",{d:"M494.602 240.599h-38a4 4 0 01-4-4v-34z",fill:"#6c63ff"}),mt=n.createElement("path",{d:"M494.602 240.599h-38a4 4 0 01-4-4v-34z",opacity:.2});const dt=function(e){return n.createElement("svg",Xe({"data-name":"Layer 1",width:100.92,height:60.45,viewBox:"0 0 1008.92 607.45"},e),Ye,et,tt,at,nt,rt,lt,ct,ot,it,st,ut,ft,ht,pt,mt)};function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var gt=n.createElement("path",{fill:"#f2f2f2",d:"M871.992 181.558h30.159v104.398h-30.159z"}),yt=n.createElement("path",{fill:"#f2f2f2",d:"M922.068 266.317l-73.353-87.265-147.24 1.346-89.319 86.998 1.805 1.16h-.645v180.957h308.555V268.556l.197-2.239z"}),Et=n.createElement("path",{fill:"#e6e6e6",d:"M848.792 179.238l-91.638 107.436v162.839h164.717V266.236l-73.079-86.998z"}),bt=n.createElement("path",{fill:"#3f3d56",d:"M823.272 359.461h33.639v29.733h-33.639zM823.272 307.996h33.639v29.262h-33.639z"}),wt=n.createElement("path",{fill:"#fff",d:"M823.272 359.461h33.639v29.733h-33.639zM823.272 307.996h33.639v29.262h-33.639zM673.777 351.571h33.639v29.733h-33.639zM673.777 300.106h33.639v29.262h-33.639z"}),zt=n.createElement("path",{fill:"#f2f2f2",d:"M633.992 181.558h30.159v104.398h-30.159z"}),Mt=n.createElement("path",{fill:"#f2f2f2",d:"M684.068 266.317l-73.353-87.265-147.24 1.346-89.319 86.998 1.805 1.16h-.645v180.957h308.555V268.556l.197-2.239z"}),xt=n.createElement("path",{fill:"#e6e6e6",d:"M610.792 179.238l-91.638 107.436v162.839h164.717V266.236l-73.079-86.998z"}),St=n.createElement("path",{fill:"#3f3d56",d:"M585.272 359.461h33.639v29.733h-33.639zM585.272 307.996h33.639v29.262h-33.639z"}),Ot=n.createElement("path",{fill:"#fff",d:"M585.272 359.461h33.639v29.733h-33.639zM585.272 307.996h33.639v29.262h-33.639zM435.777 351.571h33.639v29.733h-33.639zM435.777 300.106h33.639v29.262h-33.639z"}),Nt=n.createElement("path",{fill:"#f2f2f2",d:"M380.154 91.46h40.3v139.501h-40.3z"}),Pt=n.createElement("path",{fill:"#f2f2f2",d:"M447.068 204.718L349.051 88.112 152.302 89.91 32.951 206.161l2.411 1.55h-.861v241.802h412.303V207.711l.264-2.993z"}),kt=n.createElement("path",{fill:"#e6e6e6",d:"M349.153 88.36L226.702 231.921v217.592h220.102V204.611L349.153 88.36z"}),jt=n.createElement("path",{fill:"#3f3d56",d:"M315.053 329.181h44.95v39.731h-44.95zM315.053 260.412h44.95v39.101h-44.95z"}),Ct=n.createElement("path",{fill:"#fff",d:"M315.053 329.181h44.95v39.731h-44.95zM315.053 260.412h44.95v39.101h-44.95zM115.29 318.639h44.95v39.731h-44.95zM115.29 249.869h44.95v39.101h-44.95z"}),_t=n.createElement("path",{fill:"#3f3d56",d:"M0 448.62h963.951v2H0z"}),Ht=n.createElement("ellipse",{cx:151.872,cy:352.472,rx:29.099,ry:59.374,fill:"#3f3d56"}),Lt=n.createElement("path",{d:"M154.56 449.658c-11.655-69.925-.118-139.598 0-140.293l2.267.384c-.117.692-11.588 69.999 0 139.532z",fill:"#6c63ff"}),At=n.createElement("path",{fill:"#6c63ff",d:"M151.178 353.78l26.313-14.075 1.085 2.028-26.313 14.074zM123.406 348.783l1.085-2.028 26.31 14.083-1.085 2.027z"}),Vt=n.createElement("ellipse",{cx:81.955,cy:260.903,rx:56.915,ry:116.129,fill:"#6c63ff"}),Dt=n.createElement("path",{d:"M88.295 450.808c-22.765-136.585-.23-272.673 0-274.032l2.267.384c-.23 1.356-22.698 137.077 0 273.27z",fill:"#3f3d56"}),It=n.createElement("path",{fill:"#3f3d56",d:"M81.114 264.43l51.468-27.53 1.085 2.029-51.468 27.529zM26.797 252.72l1.086-2.029 51.46 27.544-1.085 2.028z"}),Rt=n.createElement("ellipse",{cx:216.754,cy:191.008,rx:77.883,ry:158.914,fill:"#6c63ff"}),Tt=n.createElement("path",{d:"M225.847 450.808c-31.14-186.837-.315-372.992 0-374.85l2.267.384c-.314 1.855-31.073 187.644 0 374.089z",fill:"#3f3d56"}),Ft=n.createElement("path",{fill:"#3f3d56",d:"M215.803 196.207l70.43-37.671 1.084 2.028-70.429 37.67zM141.474 179.434l1.085-2.027 70.42 37.69-1.086 2.027z"}),Bt=n.createElement("ellipse",{cx:871.029,cy:352.472,rx:29.099,ry:59.374,fill:"#3f3d56"}),Gt=n.createElement("path",{d:"M868.342 449.658c11.655-69.925.117-139.598 0-140.293l-2.267.384c.117.692 11.588 69.999-.001 139.532z",fill:"#6c63ff"}),Kt=n.createElement("path",{fill:"#6c63ff",d:"M844.325 341.733l1.085-2.029 26.313 14.075-1.085 2.028zM872.1 360.838l26.31-14.083 1.085 2.028-26.31 14.082z"}),Ut=n.createElement("ellipse",{cx:940.946,cy:260.903,rx:56.915,ry:116.129,fill:"#6c63ff"}),qt=n.createElement("path",{d:"M934.607 450.808c22.765-136.585.23-272.673 0-274.032l-2.268.384c.23 1.356 22.699 137.077 0 273.27z",fill:"#3f3d56"}),Jt=n.createElement("path",{fill:"#3f3d56",d:"M889.234 238.928l1.085-2.028 51.468 27.53-1.085 2.028zM943.559 278.235l51.46-27.544 1.086 2.028-51.46 27.544z"}),Wt=n.createElement("ellipse",{cx:806.148,cy:191.008,rx:77.883,ry:158.914,fill:"#6c63ff"}),Zt=n.createElement("path",{d:"M797.055 450.808c31.14-186.837.314-372.992 0-374.85l-2.268.384c.315 1.855 31.074 187.644 0 374.089z",fill:"#3f3d56"}),$t=n.createElement("path",{fill:"#3f3d56",d:"M735.584 160.563l1.085-2.028 70.429 37.671-1.085 2.028zM809.923 215.097l70.42-37.69 1.084 2.028-70.419 37.69zM589.604 101.466l9.206-7.363c-7.151-.789-10.09 3.111-11.292 6.198-5.587-2.32-11.67.72-11.67.72l18.42 6.688a13.938 13.938 0 00-4.664-6.243zM364.604 36.466l9.206-7.363c-7.151-.789-10.09 3.111-11.292 6.198-5.587-2.32-11.67.72-11.67.72l18.42 6.688a13.938 13.938 0 00-4.664-6.243zM731.604 7.466L740.81.103c-7.151-.789-10.09 3.111-11.292 6.198-5.587-2.32-11.67.72-11.67.72l18.42 6.688a13.938 13.938 0 00-4.664-6.243zM750.19 437.052a13.918 13.918 0 00-6.969 1.87 14.982 14.982 0 00-25.03 11.13h45.95a13.99 13.99 0 00-13.95-13zM283.19 437.052a13.918 13.918 0 00-6.969 1.87 14.982 14.982 0 00-25.03 11.13h45.95a13.99 13.99 0 00-13.95-13zM522.19 437.052a13.918 13.918 0 00-6.969 1.87 14.982 14.982 0 00-25.03 11.13h45.95a13.99 13.99 0 00-13.95-13zM471.759 404.228H339.191v4.276h20.675v40.626h4.276v-40.626h80.527v40.626h4.277v-40.626h22.813v-4.276zM339.452 391.434H472.02v4.276H339.452zM339.452 380.743H472.02v4.276H339.452zM339.452 370.052H472.02v4.276H339.452zM678.759 404.228H546.191v4.276h20.675v40.626h4.276v-40.626h80.527v40.626h4.277v-40.626h22.813v-4.276zM546.452 391.434H679.02v4.276H546.452zM546.452 380.743H679.02v4.276H546.452zM546.452 370.052H679.02v4.276H546.452z"});const Qt=function(e){return n.createElement("svg",vt({"data-name":"Layer 1",width:100,height:45,viewBox:"0 0 997.861 450.808"},e),gt,yt,Et,bt,wt,zt,Mt,xt,St,Ot,Nt,Pt,kt,jt,Ct,_t,Ht,Lt,At,Vt,Dt,It,Rt,Tt,Ft,Bt,Gt,Kt,Ut,qt,Jt,Wt,Zt,$t)};function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Yt=n.createElement("defs",null,n.createElement("style",null)),ea=n.createElement("path",{d:"M496.079 862.078c-21.418-14.747-43.556-28.564-65.583-42.32-85.225-53.236-173.325-108.293-215.197-212.135-14.801-36.755-22.314-77.429-22.314-120.885V280.322c0-12.833 7.923-24.228 19.73-28.323l290.18-101.086a27.868 27.868 0 0118.574 0l290.18 101.086c11.808 4.095 19.73 15.49 19.73 28.323v206.417c0 43.457-7.513 84.131-22.314 120.885-41.872 103.842-129.972 158.899-215.227 212.135-21.996 13.756-44.138 27.573-65.552 42.32a28.417 28.417 0 01-16.106 5.022 28.422 28.422 0 01-16.101-5.023zM251.021 301.794v184.945c0 35.561 6.005 68.488 17.874 97.948 34.592 85.776 110.88 133.447 191.693 183.931 17.239 10.766 34.562 21.621 51.594 32.87 17.036-11.249 34.359-22.103 51.597-32.87 80.812-50.484 157.1-98.154 191.693-183.931 11.869-29.46 17.874-62.387 17.874-97.948V301.794l-261.164-90.978-261.161 90.978zm261.553-54.034v504.952s-85.287-38.608-153.264-104.858c-67.981-66.254-70.448-147.619-70.448-147.619V323.986l223.712-76.226z"});const ta=function(e){return n.createElement("svg",Xt({className:"safe_svg__icon",viewBox:"0 0 1024 1024",width:16,height:16},e),Yt,ea)};function aa(){return(aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var na=n.createElement("defs",null,n.createElement("style",null)),ra=n.createElement("path",{d:"M810.67 170.664H921.6A100.692 100.692 0 011024 273.063v648.524a100.692 100.692 0 01-102.399 102.398H102.413A100.692 100.692 0 01.015 921.587V273.063a100.692 100.692 0 01102.398-102.399h110.932a42.666 42.666 0 110 85.332H85.347v341.329h298.662a127.998 127.998 0 10255.996 0h298.663V255.996H810.67a42.666 42.666 0 110-85.332z",fill:"#1296db"}),la=n.createElement("path",{d:"M493.746 565.07c21.077 8.533 45.568 4.522 61.866-10.07l196.861-178.259a47.189 47.189 0 0014.421-48.639 53.333 53.333 0 00-39.423-35.669 59.732 59.732 0 00-53.76 13.056l-110.248 99.839V104.105c0-25.685-23.04-46.506-51.37-46.506s-51.37 20.821-51.37 46.506V403.45L350.218 303.356a60.074 60.074 0 00-77.14 1.45 47.103 47.103 0 00-1.622 69.887l196.861 178.174c7.083 5.973 15.872 10.24 25.43 12.202z",fill:"#1296db"});const ca=function(e){return n.createElement("svg",aa({className:"import_svg__icon",viewBox:"0 0 1024 1024",width:12,height:12},e),na,ra,la)};function oa(){return(oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var ia=n.createElement("path",{d:"M832 961.537H192.004C86.125 961.537 0 874.083 0 766.57V376.625c0-35.923 28.63-64.99 64.007-64.99 35.37 0 63.993 29.067 63.993 64.99v389.946c0 35.796 28.689 64.985 64.005 64.985h639.994c35.314 0 64-29.19 64-64.985V376.625c0-35.923 28.628-64.99 63.994-64.99 35.383 0 64.007 29.067 64.007 64.99v389.946c.001 107.512-86.128 194.966-192 194.966zM534.622 74.651c-12.431-12.634-32.813-12.634-45.245 0L278.63 288.66c-12.433 12.627-8.25 22.973 9.376 22.973H352c17.629 0 32.008 14.6 32.008 32.493v129.985c0 17.898 14.369 32.495 31.997 32.495h191.99c17.631 0 32.008-14.597 32.008-32.495V344.127c0-17.893 14.37-32.493 32-32.493h63.991c17.63 0 21.822-10.346 9.375-22.972L534.623 74.65zm105.381 529.443c0 17.895-14.313 32.492-32.007 32.492-17.686 0-31.996-14.597-31.996-32.492 0-18.027 14.31-32.497 31.996-32.497 17.694 0 32.007 14.47 32.007 32.497zm-192.004 0c0 17.895-14.308 32.492-31.995 32.492-17.688 0-31.997-14.597-31.997-32.492 0-18.027 14.308-32.497 31.997-32.497 17.687 0 31.995 14.47 31.995 32.497zm-31.995-32.497h191.99v64.99h-191.99v-64.99z",fill:"#1296db"});const sa=function(e){return n.createElement("svg",oa({className:"export_svg__icon",viewBox:"0 0 1025 1024",width:12,height:12},e),ia)};function ua(){return(ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var fa=n.createElement("defs",null,n.createElement("style",null)),ha=n.createElement("path",{d:"M512 0c282.784 0 512 229.216 512 512s-229.216 512-512 512S0 794.784 0 512 229.216 0 512 0zM376.224 330.976a32 32 0 10-45.248 45.248L466.752 512 330.976 647.776a32 32 0 1045.248 45.248L512 557.248l135.776 135.776a32 32 0 1045.248-45.248L557.248 512l135.776-135.776a32 32 0 10-45.248-45.248L512 466.752z",fill:"#D8D8D8"});const pa=function(e){return n.createElement("svg",ua({className:"close_svg__icon",viewBox:"0 0 1024 1024",width:16,height:16},e),fa,ha)};function ma(){return(ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var da=n.createElement("path",{d:"M930.91 442.182h-58.415a23.273 23.273 0 01-23.273-17.92 341.876 341.876 0 00-37.004-89.135 23.273 23.273 0 013.258-28.625l41.426-41.426a23.273 23.273 0 000-32.814l-65.63-65.862a23.273 23.273 0 00-32.814 0l-40.96 41.425a23.273 23.273 0 01-28.625 3.259 341.876 341.876 0 00-89.135-37.004 23.273 23.273 0 01-17.92-23.273V93.091a23.273 23.273 0 00-23.273-23.273h-93.09a23.273 23.273 0 00-23.273 23.273v58.414a23.273 23.273 0 01-17.92 23.273 341.876 341.876 0 00-89.135 36.306 23.273 23.273 0 01-28.625-3.259L265.076 166.4a23.273 23.273 0 00-32.814 0L166.4 232.727a23.273 23.273 0 000 32.815l41.425 41.425a23.273 23.273 0 013.259 28.626 341.876 341.876 0 00-37.004 89.134 23.273 23.273 0 01-23.273 17.92H93.091a23.273 23.273 0 00-23.273 23.273v93.09a23.273 23.273 0 0023.273 23.274h58.414a23.273 23.273 0 0123.273 17.92 341.876 341.876 0 0036.306 88.669 23.273 23.273 0 01-3.259 28.625L166.4 758.924a23.273 23.273 0 000 32.814l66.327 65.862a23.273 23.273 0 0032.815 0l41.425-41.425a23.273 23.273 0 0128.626-3.259 341.876 341.876 0 0089.134 37.004 23.273 23.273 0 0117.92 23.273v57.716a23.273 23.273 0 0023.273 23.273h93.09a23.273 23.273 0 0023.274-23.273v-58.414a23.273 23.273 0 0117.92-23.273 341.876 341.876 0 0089.134-37.004 23.273 23.273 0 0128.626 3.258l41.425 41.426a23.273 23.273 0 0032.815 0l65.396-65.63a23.273 23.273 0 000-32.814l-41.425-41.425a23.273 23.273 0 01-3.259-28.626 341.876 341.876 0 0037.004-89.134 23.273 23.273 0 0123.273-17.92h57.716a23.273 23.273 0 0023.273-23.273v-92.625a23.273 23.273 0 00-23.273-23.273zM512 744.727A232.727 232.727 0 11744.727 512 232.727 232.727 0 01512 744.727z",fill:"#8a8a8a"}),va=n.createElement("path",{d:"M325.818 512a186.182 186.182 0 10372.364 0 186.182 186.182 0 10-372.364 0z",fill:"#8a8a8a"});const ga=function(e){return n.createElement("svg",ma({className:"setting_svg__icon",viewBox:"0 0 1024 1024",width:32,height:32},e),da,va)};var ya=a(516);function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ba=null,wa=function(e){(ba=new ya.Z(document.getElementById("messenger"),"page","extension")).addListener("get_data",(function(t){t.type;var a=t.data,n=[],r={};Object.keys(a).forEach((function(e){var t=a[e];try{var l=t.plainData||{};l.keys=a[e].keys,n.push(l),r[e]=l}catch(e){console.error(e)}})),e({connected:!0,pages:n,data:r,originData:a})})),ba.sendMessage("get_data"),document.addEventListener("visibilitychange",(function(){ba.sendMessage("get_data")}))},za=function(e,t){var a=new Map,n=function(e){var n={},r=new Set;t.forEach((function(t){a.set(t.category||"default",{label:t.category||"default",desc:""});var l=e(t),c=n[l]?n[l].pages:[];n[l]={name:l,pages:c,matched:c.length},n[l].pages.push(t),n[l].matched=n[l].pages.length,r.add(l)}));var l=function(e){return function(e){if(Array.isArray(e))return Ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ea(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ea(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.values());return{groupPagesObject:n,categories:l,groupKeys:Array.from(r)}},r={};switch(e){case 0:r=n((function(e){return e.keys[0]||"default"}));break;case 1:r=n((function(e){var t="unknow";try{t=new Date(e.lastModified).toLocaleDateString()}catch(e){}return t}));break;case 2:r=n((function(e){return e.category||"default"}));break;default:r=n((function(e){return e.keys[0]||"default"}))}return r},Ma=function(e){var t={key:e.url||e.key,keys:e.keys,plainData:e.plainData};ba.sendMessage("save_data",t)},xa=a(4566);function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pa(e,t){return!t||"object"!==Sa(t)&&"function"!=typeof t?ka(e):t}function ka(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ca(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(f,e);var t,a,l,o,s=(l=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ja(l);if(o){var a=ja(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return Pa(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),Ca(ka(t=s.call(this,e)),"doConnect",(function(){!function(){wa.apply(void 0,arguments)}((function(e){t.setState({connected:!0,pages:e.pages,data:e.data,originData:e.originData},(function(){t.group(),t.search()}))}))})),Ca(ka(t),"savePageData",(function(e){!function(){Ma.apply(void 0,arguments)}(e)})),Ca(ka(t),"group",(function(){var e=function(){return za.apply(void 0,arguments)}(t.state.groupType,t.state.pages),a=e.groupPagesObject,n=e.categories,r=e.groupKeys;t.setState({groupPagesObject:a,categories:n,selectedGroupsKey:new Set(r)})})),Ca(ka(t),"selectGroup",(function(e){var a=new Set,n=t.state.selectedGroupsKey;n.has(e.name)?n.delete(e.name):n.add(e.name),t.setState({selectedGroupsKey:n,selectedPagesKey:a},(function(){window.localStorage.setItem("groups",JSON.stringify(Array.from(n)))}))})),Ca(ka(t),"selectPage",(function(e,a){var n=t.state.selectedPagesKey;t.setState({selectedPagesKey:n.has(e.url)?new Set:new Set([e.url])},(function(){window.localStorage.setItem("pages",JSON.stringify(Array.from(t.state.selectedPagesKey)))}))})),Ca(ka(t),"search",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.target?e.target.value.trim():t.state.searchString;t.setState({searchString:a,selectedPage:[]},(function(){t.filter()}))})),Ca(ka(t),"filter",u()((function(){var e=t.state.groupPagesObject,a=[],n=new Set,r=t.state.searchString;Object.keys(e).forEach((function(t){var l=e[t].pages,c=0;l.forEach((function(e){var l=e.title+e.url+e.category+(e.steps||[]).reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e+t[3]+t[4]}),""),o=!r||l.indexOf(r)>-1;e.matched=o,o&&(c++,n.add(t),r&&a.push(e.url))})),e[t].matched=c})),t.setState({groupPagesObject:e,selectedGroupsKey:n},(function(){}))}),500)),Ca(ka(t),"selectGroupType",(function(e){t.setState({groupType:e},(function(){t.group(!0)})),localStorage.setItem("group_type",e)})),Ca(ka(t),"setColor",(function(e){t.setState({bgColor:e}),window.localStorage.setItem("bgColor",e)})),Ca(ka(t),"onKeyUP",(function(e){e.keyCode,e.preventDefault(),e.stopPropagation()})),Ca(ka(t),"dragSize",(function(e){e.currentTarget,document.body.style.userSelect="none",document.onmousemove=i()((function(e){var a=window.innerWidth-t.myRef.current.clientWidth,n=e.clientX-a/2,r=n=Math.min(Math.max(n,300),1200);t.setState({size:r},(function(){window.localStorage.setItem("size",r)}))}),100),document.onmouseup=function(e){document.body.style.userSelect="unset",document.onmouseup=null,document.onmousemove=null}})),Ca(ka(t),"toggleExpandGroup",(function(e){var a=t.state.expandGroups;a.has(e)?a.delete(e):a.add(e),t.setState({expandGroups:a},(function(){window.localStorage.setItem("expand_groups",JSON.stringify(Array.from(a)))}))})),Ca(ka(t),"setSize",(function(e){t.setState({size:e})})),Ca(ka(t),"cleanSearch",(function(){t.setState({searchString:""},(function(){t.search()}))})),Ca(ka(t),"exportData",(function(){var e=t.state.originData,a=Object.keys(e).length,n=encodeURIComponent(JSON.stringify(e)),r=t.state.currentVersion||"";(0,xa.sD)(n,"".concat(r,"_").concat(a,".pagenote"))})),Ca(ka(t),"onImportData",(function(e){var t=e.target.files[0],a=new FileReader;a.readAsText(t),a.onload=function(){var e=null;try{e=JSON.parse(decodeURIComponent(this.result))}catch(e){console.log(e,this.result),alert("解析错误，请检查备份文件是否有损坏")}e&&window.confirm("确认导入？可能会覆盖现有数据")&&function(e,t){ba.sendMessage("import_datas",e,(function(e){!function(e){console.log(e)}(e)}))}(e)}})),t.state={currentVersion:"",originData:{},data:{},pages:[],groupPagesObject:{},selectedPagesKey:new Set,selectedGroupsKey:new Set,expand:!1,searchString:"",connected:!1,groupType:0,categories:[{label:"工作",desc:""},{label:"TODO",desc:""}],bgColor:"",size:"45%",windowWidth:1440,expandGroups:[]},t.search=t.search.bind(ka(t)),t.useHeader=!1,t.myRef=r().createRef(),t}return t=f,(a=[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search).get("page");this.setState({bgColor:window.localStorage.getItem("bgColor")||"#c4e3cb",groupType:+(window.localStorage.getItem("group_type")||"0"),selectedGroupsKey:new Set(JSON.parse(window.localStorage.getItem("groups")||"[]")),selectedPagesKey:new Set(e?[e]:JSON.parse(window.localStorage.getItem("pages")||"[]")),size:window.localStorage.getItem("size")||"25%",windowWidth:window.innerWidth,expandGroups:new Set(JSON.parse(window.localStorage.getItem("expand_groups")||"[]")),currentVersion:document.documentElement.dataset.version}),this.doConnect()}},{key:"bigPicture",value:function(e,t,a){c()({el:e.target,imgSrc:t,gallery:a,animationEnd:function(){}})}},{key:"toggleExpand",value:function(){this.setState({expand:!this.state.expand})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,l=t.groupPagesObject,c=t.selectedPagesKey,o=t.selectedGroupsKey,i=t.pages,s=t.searchString,u=t.connected,f=t.groupType,h=t.categories,p=t.bgColor,m=t.size,d=(t.windowWidth,t.expandGroups),v=Object.keys(l).sort((function(e,t){return s?l[e].matched>l[t].matched?-1:1:e>t?-1:1})),g=Number.isInteger(+m)?m+"px":"",y=this.myRef.current?this.myRef.current.clientWidth:1200,E=m/y>.9,b=m/y>.58,w=m>900?[1,2,3]:[1,2];return m>1100&&(w=[1,2,3,4]),r().createElement("div",{className:"me"},r().createElement("div",{className:"pagenote-me"},r().createElement("div",{ref:this.myRef,className:"me","data-pagenote":"1"},r().createElement("div",{className:"pages-and-detail ".concat(E?"expand":"fold"),style:{border:"1px solid ".concat(p),backgroundColor:p}},r().createElement(Re,{connected:u,doConnect:this.doConnect,emptyGroup:0===v.length}),v.length>0&&r().createElement(n.Fragment,null,r().createElement("section",{className:"pages",style:{width:g,background:p}},r().createElement("div",{className:"title",style:{backgroundColor:p}},r().createElement("a",{className:"logo-title",href:"/"},"PAGES",r().createElement(Be,{width:20,height:20,className:"icon"})),r().createElement("div",{className:"group-type"},r().createElement(Ve,{list:[{value:2,label:"按标签分组"},{value:0,label:"按域名分组"},{value:1,label:"按日期分组"}],selected:f,onSelect:this.selectGroupType})),r().createElement("input",{onChange:this.search,value:s,className:"search ".concat(s?"active":""),type:"text",placeholder:"🔍"}),r().createElement(pa,{className:"clean-search",onClick:this.cleanSearch})),r().createElement("div",{className:"content"},r().createElement("div",{className:"page-group active"},r().createElement("div",{className:"page-container ".concat(b?"grid":"list"),onKeyUp:this.onKeyUP},b?r().createElement("div",{className:"grid-group"},w.map((function(t,a){return r().createElement("div",{key:t,className:"grid-group-col",style:{width:100/w.length+"%"}},Array.from(o).map((function(t,o){return r().createElement(n.Fragment,{key:t},o%w.length===a&&r().createElement(Qe,{key:t,groupPagesObject:l,expand:d.has(t),group:t,selectedPagesKey:c,selectPage:e.selectPage,toggleExpandGroup:e.toggleExpandGroup}))})))}))):Array.from(o).map((function(t){return r().createElement(Qe,{key:t,groupPagesObject:l,group:t,selectedPagesKey:c,expand:d.has(t),selectPage:e.selectPage,toggleExpandGroup:e.toggleExpandGroup})})),0===o.size&&r().createElement("div",{className:"empty-tip"},s?r().createElement("div",null,r().createElement("div",null,"没有找到",r().createElement("span",{className:"search-keyword"},s),"相关的PAGE、NOTE"),r().createElement(Qt,{width:100,height:45})):r().createElement("div",null,r().createElement("div",null,"选择一个分组，查看分组下的PAGE"),r().createElement(dt,{width:200,height:120}))))),r().createElement("div",{className:"action-tips"},r().createElement("label",{className:"action-button"},r().createElement(ca,null),"导入",r().createElement("input",{id:"import-data",type:"file",style:{display:"none"},onChange:this.onImportData})),r().createElement("span",{onClick:this.exportData,className:"action-button"},r().createElement(sa,null),"备份"),r().createElement("span",null,"共计 ",i.length," 个 page。注意定时备份，以免数据丢失。")),r().createElement(Ie,{onChoose:this.setColor}))),r().createElement("aside",{className:"split-line",onMouseDown:this.dragSize,style:{color:"#fff",backgroundColor:p}},r().createElement("div",{className:"left",onClick:function(){return e.setSize(350)}},"left<"),r().createElement("div",{className:"right",onClick:function(){return e.setSize(y-4)}},">right")),r().createElement(Le,{selectedPagesKey:c,isPopUp:w.length>3,size:g,categories:h,onSavePage:this.savePageData,selectPage:this.selectPage,data:a}))),r().createElement("div",{className:"me-footer"},r().createElement("div",{className:"footer-tips"},r().createElement(ta,null)," 仅当前浏览器可访问PAGENOTE数据(未上传服务器，请放心使用)。",r().createElement("a",{href:"https://www.wjx.cn/jq/69876579.aspx"},"问卷反馈"))),r().createElement("div",{className:"aside-menu"},r().createElement("a",{href:"/setting"},r().createElement(ga,null))))))}}])&&Oa(t.prototype,a),f}(n.Component);(0,a(5186).Z)(_a,!0,!1)},4566:(e,t,a)=>{"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return"#000000";var t=[],a=1;e.indexOf("rgb")>-1?(t=e.match(/\((.*)\)/)[1].split(","),void 0!==(t=[parseInt(t[0]),parseInt(t[1]),parseInt(t[2])])[3]&&(a=t[3])):(t=[(e=e.replace("#","")).substr(0,2),e.substr(2,2),e.substr(4,2),1],t=[parseInt(t[0],16),parseInt(t[1],16),parseInt(t[2],16)]);var n=t[0],r=t[1],l=t[2],c=(.3*n+.59*r+.11*l)*Math.min(a,1);return{rgb:t,textColor:c>=180?"#000000":"#ffffff"}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=45,n=-2*Math.PI/360*a*e,r=Number.parseFloat(t*Math.sin(n)).toFixed(3),l=Number.parseFloat(t*Math.cos(n)).toFixed(3);return{x:-r,y:-l}}a.d(t,{iI:()=>n,oo:()=>r,sD:()=>l});var l=function(e,t){var a=document.createElement("a");a.download=t,a.style.display="none";var n=new Blob([e]);a.href=URL.createObjectURL(n),document.body.appendChild(a),a.click(),document.body.removeChild(a)}},516:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"extension";if(e){var n={};this.sendMessage=function(t,r,l){"function"==typeof l&&(n[t]=l),e.innerText=JSON.stringify({data:r,type:t});var c=document.createEvent("Event");c.initEvent("send_to_"+a,!0,!0),e.dispatchEvent(c)},this.addListener=function(e,t){n[e]=t},e.addEventListener("send_to_"+t,(function(t){var a=e.innerText,r={type:"",data:{}};try{r=JSON.parse(a)}catch(t){}var l=n[r.type];l&&l(r)}))}}},3804:e=>{"use strict";e.exports=React},7196:e=>{"use strict";e.exports=ReactDOM}},0,[[9048,666,969,216]]]);