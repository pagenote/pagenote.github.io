webpackHotUpdate("static/development/pages/me.js",{

/***/ "./node_modules/bigpicture/index.js":
/*!******************************************!*\
  !*** ./node_modules/bigpicture/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// BigPicture.js | license MIT | henrygd.me/bigpicture\n\n// trigger element used to open popup\nvar el;\n\n// set to true after first interaction\nvar initialized;\n\n// container element holding html needed for script\nvar container;\n\n// currently active display element (image, video, youtube / vimeo iframe container)\nvar displayElement;\n\n// popup image element\nvar displayImage;\n\n// popup video element\nvar displayVideo;\n\n// popup audio element\nvar displayAudio;\n\n// container element to hold youtube / vimeo iframe\nvar iframeContainer;\n\n// iframe to hold youtube / vimeo player\nvar iframeSiteVid;\n\n// store requested image source\nvar imgSrc;\n\n// button that closes the container\nvar closeButton;\n\n// youtube / vimeo video id\nvar siteVidID;\n\n// keeps track of loading icon display state\nvar isLoading;\n\n// timeout to check video status while loading\nvar checkMediaTimeout;\n\n// loading icon element\nvar loadingIcon;\n\n// caption element\nvar caption;\n\n// caption content element\nvar captionText;\n\n// store caption content\nvar captionContent;\n\n// hide caption button element\nvar captionHideButton;\n\n// open state for container element\nvar isOpen;\n\n// gallery open state\nvar galleryOpen;\n\n// used during close animation to avoid triggering timeout twice\nvar isClosing;\n\n// array of prev viewed image urls to check if cached before showing loading icon\nvar imgCache = [];\n\n// store whether image requested is remote or local\nvar remoteImage;\n\n// store animation opening callbacks\nvar animationStart;\nvar animationEnd;\n\n// store changeGalleryImage callback\nvar onChangeImage;\n\n// gallery left / right icons\nvar rightArrowBtn;\n\nvar leftArrowBtn;\n\n// position of gallery\nvar galleryPosition;\n\n// hold active gallery els / image src\nvar galleryEls;\n\n// counter element\nvar galleryCounter;\n\n// store images in gallery that are being loaded\nvar preloadedImages = {};\n\n// whether device supports touch events\nvar supportsTouch;\n\n// options object\nvar opts;\n\n// Save bytes in the minified version\nvar appendEl = 'appendChild';\nvar createEl = 'createElement';\nvar removeEl = 'removeChild';\n\nfunction BigPicture (options) {\n\t// initialize called on initial open to create elements / style / event handlers\n\tinitialized || initialize();\n\n\t// clear currently loading stuff\n\tif (isLoading) {\n\t\tclearTimeout(checkMediaTimeout);\n\t\tremoveContainer();\n\t}\n\n\topts = options;\n\n\t// store video id if youtube / vimeo video is requested\n\tsiteVidID = options.ytSrc || options.vimeoSrc;\n\n\t// store optional callbacks\n\tanimationStart = options.animationStart;\n\tanimationEnd = options.animationEnd;\n\tonChangeImage = options.onChangeImage;\n\n\t// set trigger element\n\tel = options.el;\n\n\t// wipe existing remoteImage state\n\tremoteImage = false;\n\n\t// set caption if provided\n\tcaptionContent = el.getAttribute('data-caption');\n\n\tif (options.gallery) {\n\t\tmakeGallery(options.gallery, options.position);\n\t} else if (siteVidID || options.iframeSrc) {\n\t\t// if vimeo, youtube, or iframe video\n\t\t// toggleLoadingIcon(true)\n\t\tdisplayElement = iframeContainer;\n\t\tcreateIframe();\n\t} else if (options.imgSrc) {\n\t\t// if remote image\n\t\tremoteImage = true;\n\t\timgSrc = options.imgSrc;\n\t\t!~imgCache.indexOf(imgSrc) && toggleLoadingIcon(true);\n\t\tdisplayElement = displayImage;\n\t\tdisplayElement.src = imgSrc;\n\t} else if (options.audio) {\n\t\t// if direct video link\n\t\ttoggleLoadingIcon(true);\n\t\tdisplayElement = displayAudio;\n\t\tdisplayElement.src = options.audio;\n\t\tcheckMedia('audio file');\n\t} else if (options.vidSrc) {\n\t\t// if direct video link\n\t\ttoggleLoadingIcon(true);\n\t\tmakeVidSrc(options.vidSrc);\n\t\tcheckMedia('video');\n\t} else {\n\t\t// local image / background image already loaded on page\n\t\tdisplayElement = displayImage;\n\t\t// get img source or element background image\n\t\tdisplayElement.src =\n\t\t\tel.tagName === 'IMG'\n\t\t\t\t? el.src\n\t\t\t\t: window\n\t\t\t\t\t\t.getComputedStyle(el)\n\t\t\t\t\t\t.backgroundImage.replace(/^url|[(|)|'|\"]/g, '');\n\t}\n\n\t// add container to page\n\tcontainer[appendEl](displayElement);\n\tdocument.body[appendEl](container);\n\treturn {\n\t\tclose: close,\n\t\tnext: function () { return updateGallery(1); },\n\t\tprev: function () { return updateGallery(-1); },\n\t}\n}\n\n// create all needed methods / store dom elements on first use\nfunction initialize() {\n\tvar startX;\n\t// return close button elements\n\tfunction createCloseButton(className) {\n\t\tvar el = document[createEl]('button');\n\t\tel.className = className;\n\t\tel.innerHTML =\n\t\t\t'<svg viewBox=\"0 0 48 48\"><path d=\"M28 24L47 5a3 3 0 1 0-4-4L24 20 5 1a3 3 0 1 0-4 4l19 19L1 43a3 3 0 1 0 4 4l19-19 19 19a3 3 0 0 0 4 0v-4L28 24z\"/></svg>';\n\t\treturn el\n\t}\n\n\tfunction createArrowSymbol(direction, style) {\n\t\tvar el = document[createEl]('button');\n\t\tel.className = 'bp-lr';\n\t\tel.innerHTML =\n\t\t\t'<svg viewBox=\"0 0 129 129\" height=\"70\" fill=\"#fff\"><path d=\"M88.6 121.3c.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2a4.1 4.1 0 0 0 0-5.8l-51-51 51-51a4.1 4.1 0 0 0-5.8-5.8l-54 53.9a4.1 4.1 0 0 0 0 5.8l54 53.9z\"/></svg>';\n\t\tchangeCSS(el, style);\n\t\tel.onclick = function (e) {\n\t\t\te.stopPropagation();\n\t\t\tupdateGallery(direction);\n\t\t};\n\t\treturn el\n\t}\n\n\t// add style - if you want to tweak, run through beautifier\n\tvar style = document[createEl]('STYLE');\n\tstyle.innerHTML =\n\t\t'#bp_caption,#bp_container{bottom:0;left:0;right:0;position:fixed;opacity:0}#bp_container>*,#bp_loader{position:absolute;right:0;z-index:10}#bp_container,#bp_caption,#bp_container svg{pointer-events:none}#bp_container{top:0;z-index:9999;background:rgba(0,0,0,.7);opacity:0;transition:opacity .35s}#bp_loader{top:0;left:0;bottom:0;display:flex;align-items:center;cursor:wait;background:0;z-index:9}#bp_loader svg{width:50%;max-width:300px;max-height:50%;margin:auto;animation:bpturn 1s infinite linear}#bp_aud,#bp_container img,#bp_sv,#bp_vid{user-select:none;max-height:96%;max-width:96%;top:0;bottom:0;left:0;margin:auto;box-shadow:0 0 3em rgba(0,0,0,.4);z-index:-1}#bp_sv{background:#111}#bp_sv svg{width:66px}#bp_caption{font-size:.9em;padding:1.3em;background:rgba(15,15,15,.94);color:#fff;text-align:center;transition:opacity .3s}#bp_aud{width:650px;top:calc(50% - 20px);bottom:auto;box-shadow:none}#bp_count{left:0;right:auto;padding:14px;color:rgba(255,255,255,.7);font-size:22px;cursor:default}#bp_container button{position:absolute;border:0;outline:0;background:0;cursor:pointer;transition:all .1s}#bp_container>.bp-x{padding:0;height:41px;width:41px;border-radius:100%;top:8px;right:14px;opacity:.8;line-height:1}#bp_container>.bp-x:focus,#bp_container>.bp-x:hover{background:rgba(255,255,255,.2)}.bp-x svg,.bp-xc svg{height:21px;width:20px;fill:#fff;vertical-align:top;}.bp-xc svg{width:16px}#bp_container .bp-xc{left:2%;bottom:100%;padding:9px 20px 7px;background:#d04444;border-radius:2px 2px 0 0;opacity:.85}#bp_container .bp-xc:focus,#bp_container .bp-xc:hover{opacity:1}.bp-lr{top:50%;top:calc(50% - 130px);padding:99px 0;width:6%;background:0;border:0;opacity:.4;transition:opacity .1s}.bp-lr:focus,.bp-lr:hover{opacity:.8}@keyframes bpf{50%{transform:translatex(15px)}100%{transform:none}}@keyframes bpl{50%{transform:translatex(-15px)}100%{transform:none}}@keyframes bpfl{0%{opacity:0;transform:translatex(70px)}100%{opacity:1;transform:none}}@keyframes bpfr{0%{opacity:0;transform:translatex(-70px)}100%{opacity:1;transform:none}}@keyframes bpfol{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(-70px)}}@keyframes bpfor{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(70px)}}@keyframes bpturn{0%{transform:none}100%{transform:rotate(360deg)}}@media (max-width:600px){.bp-lr{font-size:15vw}}';\n\tdocument.head[appendEl](style);\n\n\t// create container element\n\tcontainer = document[createEl]('DIV');\n\tcontainer.id = 'bp_container';\n\tcontainer.onclick = close;\n\tcloseButton = createCloseButton('bp-x');\n\tcontainer[appendEl](closeButton);\n\t// gallery swipe listeners\n\tif ('ontouchstart' in window) {\n\t\tsupportsTouch = true;\n\t\tcontainer.ontouchstart = function (ref) {\n\t\t\tvar changedTouches = ref.changedTouches;\n\n\t\t\tstartX = changedTouches[0].pageX;\n\t\t};\n\t\tcontainer.ontouchmove = function (e) {\n\t\t\te.preventDefault();\n\t\t};\n\t\tcontainer.ontouchend = function (ref) {\n\t\t\tvar changedTouches = ref.changedTouches;\n\n\t\t\tif (!galleryOpen) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tvar distX = changedTouches[0].pageX - startX;\n\t\t\t// swipe right\n\t\t\tdistX < -30 && updateGallery(1);\n\t\t\t// swipe left\n\t\t\tdistX > 30 && updateGallery(-1);\n\t\t};\n\t}\n\n\t// create display image element\n\tdisplayImage = document[createEl]('IMG');\n\n\t// create display video element\n\tdisplayVideo = document[createEl]('VIDEO');\n\tdisplayVideo.id = 'bp_vid';\n\tdisplayVideo.setAttribute('playsinline', true);\n\tdisplayVideo.controls = true;\n\tdisplayVideo.loop = true;\n\n\t// create audio element\n\tdisplayAudio = document[createEl]('audio');\n\tdisplayAudio.id = 'bp_aud';\n\tdisplayAudio.controls = true;\n\tdisplayAudio.loop = true;\n\n\t// create gallery counter\n\tgalleryCounter = document[createEl]('span');\n\tgalleryCounter.id = 'bp_count';\n\n\t// create caption elements\n\tcaption = document[createEl]('DIV');\n\tcaption.id = 'bp_caption';\n\tcaptionHideButton = createCloseButton('bp-xc');\n\tcaptionHideButton.onclick = toggleCaption.bind(null, false);\n\tcaption[appendEl](captionHideButton);\n\tcaptionText = document[createEl]('SPAN');\n\tcaption[appendEl](captionText);\n\tcontainer[appendEl](caption);\n\n\t// left / right arrow icons\n\trightArrowBtn = createArrowSymbol(1, 'transform:scalex(-1)');\n\tleftArrowBtn = createArrowSymbol(-1, 'left:0;right:auto');\n\n\t// create loading icon element\n\tloadingIcon = document[createEl]('DIV');\n\tloadingIcon.id = 'bp_loader';\n\tloadingIcon.innerHTML =\n\t\t'<svg viewbox=\"0 0 32 32\" fill=\"#fff\" opacity=\".8\"><path d=\"M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24\" fill=\"#000\" opacity=\".5\"/><path d=\"M16 0a16 16 0 0 1 16 16h-4A12 12 0 0 0 16 4z\"/></svg>';\n\t// create youtube / vimeo container\n\tiframeContainer = document[createEl]('DIV');\n\tiframeContainer.id = 'bp_sv';\n\n\t// create iframe to hold youtube / vimeo player\n\tiframeSiteVid = document[createEl]('IFRAME');\n\tiframeSiteVid.setAttribute('allowfullscreen', true);\n\tiframeSiteVid.allow = 'autoplay; fullscreen';\n\tiframeSiteVid.onload = function () { return iframeContainer[removeEl](loadingIcon); };\n\tchangeCSS(\n\t\tiframeSiteVid,\n\t\t'border:0;position:absolute;height:100%;width:100%;left:0;top:0'\n\t);\n\tiframeContainer[appendEl](iframeSiteVid);\n\n\t// display image bindings for image load and error\n\tdisplayImage.onload = open;\n\tdisplayImage.onerror = open.bind(null, 'image');\n\n\twindow.addEventListener('resize', function () {\n\t\t// adjust loader position on window resize\n\t\tgalleryOpen || (isLoading && toggleLoadingIcon(true));\n\t\t// adjust iframe dimensions\n\t\tdisplayElement === iframeContainer && updateIframeDimensions();\n\t});\n\n\t// close container on escape key press and arrow buttons for gallery\n\tdocument.addEventListener('keyup', function (ref) {\n\t\tvar keyCode = ref.keyCode;\n\n\t\tkeyCode === 27 && isOpen && close();\n\t\tif (galleryOpen) {\n\t\t\tkeyCode === 39 && updateGallery(1);\n\t\t\tkeyCode === 37 && updateGallery(-1);\n\t\t\tkeyCode === 38 && updateGallery(10);\n\t\t\tkeyCode === 40 && updateGallery(-10);\n\t\t}\n\t});\n\t// prevent scrolling with arrow keys if gallery open\n\tdocument.addEventListener('keydown', function (e) {\n\t\tvar usedKeys = [37, 38, 39, 40];\n\t\tif (galleryOpen && ~usedKeys.indexOf(e.keyCode)) {\n\t\t\te.preventDefault();\n\t\t}\n\t});\n\n\t// trap focus within conainer while open\n\tdocument.addEventListener(\n\t\t'focus',\n\t\tfunction (e) {\n\t\t\tif (isOpen && !container.contains(e.target)) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tcloseButton.focus();\n\t\t\t}\n\t\t},\n\t\ttrue\n\t);\n\n\t// all done\n\tinitialized = true;\n}\n\n// return transform style to make full size display el match trigger el size\nfunction getRect() {\n\tvar ref = el.getBoundingClientRect();\n\tvar top = ref.top;\n\tvar left = ref.left;\n\tvar width = ref.width;\n\tvar height = ref.height;\n\tvar leftOffset = left - (container.clientWidth - width) / 2;\n\tvar centerTop = top - (container.clientHeight - height) / 2;\n\tvar scaleWidth = el.clientWidth / displayElement.clientWidth;\n\tvar scaleHeight = el.clientHeight / displayElement.clientHeight;\n\treturn (\"transform:translate3D(\" + leftOffset + \"px, \" + centerTop + \"px, 0) scale3D(\" + scaleWidth + \", \" + scaleHeight + \", 0)\")\n}\n\nfunction makeVidSrc(source) {\n\tif (Array.isArray(source)) {\n\t\tdisplayElement = displayVideo.cloneNode();\n\t\tsource.forEach(function (src) {\n\t\t\tvar source = document[createEl]('SOURCE');\n\t\t\tsource.src = src;\n\t\t\tsource.type = \"video/\" + (src.match(/.(\\w+)$/)[1]);\n\t\t\tdisplayElement[appendEl](source);\n\t\t});\n\t} else {\n\t\tdisplayElement = displayVideo;\n\t\tdisplayElement.src = source;\n\t}\n}\n\nfunction makeGallery(gallery, position) {\n\tvar galleryAttribute = opts.galleryAttribute || 'data-bp';\n\tif (Array.isArray(gallery)) {\n\t\t// is array of images\n\t\tgalleryPosition = position || 0;\n\t\tgalleryEls = gallery;\n\t\tcaptionContent = gallery[galleryPosition].caption;\n\t} else {\n\t\t// is element selector or nodelist\n\t\tgalleryEls = [].slice.call(\n\t\t\ttypeof gallery === 'string'\n\t\t\t\t? document.querySelectorAll((gallery + \" [\" + galleryAttribute + \"]\"))\n\t\t\t\t: gallery\n\t\t);\n\t\t// find initial gallery position\n\t\tvar elIndex = galleryEls.indexOf(el);\n\t\tgalleryPosition =\n\t\t\tposition === 0 || position ? position : elIndex !== -1 ? elIndex : 0;\n\t\t// make gallery object w/ els / src / caption\n\t\tgalleryEls = galleryEls.map(function (el) { return ({\n\t\t\tel: el,\n\t\t\tsrc: el.getAttribute(galleryAttribute),\n\t\t\tcaption: el.getAttribute('data-caption'),\n\t\t}); });\n\t}\n\t// show loading icon if needed\n\tremoteImage = true;\n\t// set initial src to imgSrc so it will be cached in open func\n\timgSrc = galleryEls[galleryPosition].src;\n\t!~imgCache.indexOf(imgSrc) && toggleLoadingIcon(true);\n\tif (galleryEls.length > 1) {\n\t\t// if length is greater than one, add gallery stuff\n\t\tcontainer[appendEl](galleryCounter);\n\t\tgalleryCounter.innerHTML = (galleryPosition + 1) + \"/\" + (galleryEls.length);\n\t\tif (!supportsTouch) {\n\t\t\t// add arrows if device doesn't support touch\n\t\t\tcontainer[appendEl](rightArrowBtn);\n\t\t\tcontainer[appendEl](leftArrowBtn);\n\t\t}\n\t} else {\n\t\t// gallery is one, just show without clutter\n\t\tgalleryEls = false;\n\t}\n\tdisplayElement = displayImage;\n\t// set initial image src\n\tdisplayElement.src = imgSrc;\n}\n\nfunction updateGallery(movement) {\n\tvar galleryLength = galleryEls.length - 1;\n\n\t// only allow one change at a time\n\tif (isLoading) {\n\t\treturn\n\t}\n\n\t// return if requesting out of range image\n\tvar isEnd =\n\t\t(movement > 0 && galleryPosition === galleryLength) ||\n\t\t(movement < 0 && !galleryPosition);\n\tif (isEnd) {\n\t\t// if beginning or end of gallery, run end animation\n\t\tif (!opts.loop) {\n\t\t\tchangeCSS(displayImage, '');\n\t\t\tsetTimeout(\n\t\t\t\tchangeCSS,\n\t\t\t\t9,\n\t\t\t\tdisplayImage,\n\t\t\t\t(\"animation:\" + (movement > 0 ? 'bpl' : 'bpf') + \" .3s;transition:transform .35s\")\n\t\t\t);\n\t\t\treturn\n\t\t}\n\t\t// if gallery is looped, adjust position to beginning / end\n\t\tgalleryPosition = movement > 0 ? -1 : galleryLength + 1;\n\t}\n\n\t// normalize position\n\tgalleryPosition = Math.max(\n\t\t0,\n\t\tMath.min(galleryPosition + movement, galleryLength)\n\t)\n\n\t// load images before and after for quicker scrolling through pictures\n\t;[galleryPosition - 1, galleryPosition, galleryPosition + 1].forEach(\n\t\tfunction (position) {\n\t\t\t// normalize position\n\t\t\tposition = Math.max(0, Math.min(position, galleryLength));\n\t\t\t// cancel if image has already been preloaded\n\t\t\tif (preloadedImages[position]) { return }\n\t\t\tvar src = galleryEls[position].src;\n\t\t\t// create image for preloadedImages\n\t\t\tvar img = document[createEl]('IMG');\n\t\t\timg.addEventListener('load', addToImgCache.bind(null, src));\n\t\t\timg.src = src;\n\t\t\tpreloadedImages[position] = img;\n\t\t}\n\t);\n\t// if image is loaded, show it\n\tif (preloadedImages[galleryPosition].complete) {\n\t\treturn changeGalleryImage(movement)\n\t}\n\t// if not, show loading icon and change when loaded\n\tisLoading = true;\n\tchangeCSS(loadingIcon, 'opacity:.4;');\n\tcontainer[appendEl](loadingIcon);\n\tpreloadedImages[galleryPosition].onload = function () {\n\t\tgalleryOpen && changeGalleryImage(movement);\n\t};\n\t// if error, store error object in el array\n\tpreloadedImages[galleryPosition].onerror = function () {\n\t\tgalleryEls[galleryPosition] = {\n\t\t\terror: 'Error loading image',\n\t\t};\n\t\tgalleryOpen && changeGalleryImage(movement);\n\t};\n}\n\nfunction changeGalleryImage(movement) {\n\tif (isLoading) {\n\t\tcontainer[removeEl](loadingIcon);\n\t\tisLoading = false;\n\t}\n\tvar activeEl = galleryEls[galleryPosition];\n\tif (activeEl.error) {\n\t\t// show alert if error\n\t\talert(activeEl.error);\n\t} else {\n\t\t// add new image, animate images in and out w/ css animation\n\t\tvar oldimg = container.querySelector('img:last-of-type');\n\t\tdisplayImage = displayElement = preloadedImages[galleryPosition];\n\t\tchangeCSS(\n\t\t\tdisplayImage,\n\t\t\t(\"animation:\" + (movement > 0 ? 'bpfl' : 'bpfr') + \" .35s;transition:transform .35s\")\n\t\t);\n\t\tchangeCSS(oldimg, (\"animation:\" + (movement > 0 ? 'bpfol' : 'bpfor') + \" .35s both\"));\n\t\tcontainer[appendEl](displayImage);\n\t\t// update el for closing animation\n\t\tif (activeEl.el) {\n\t\t\tel = activeEl.el;\n\t\t}\n\t}\n\t// update counter\n\tgalleryCounter.innerHTML = (galleryPosition + 1) + \"/\" + (galleryEls.length);\n\t// show / hide caption\n\ttoggleCaption(galleryEls[galleryPosition].caption);\n\t// execute onChangeImage callback\n\tonChangeImage && onChangeImage([displayImage, galleryEls[galleryPosition]]);\n}\n\n// create video iframe\nfunction createIframe() {\n\tvar url;\n\tvar prefix = 'https://';\n\tvar suffix = 'autoplay=1';\n\n\t// create appropriate url\n\tif (opts.ytSrc) {\n\t\turl = prefix + \"www.youtube.com/embed/\" + siteVidID + \"?html5=1&rel=0&playsinline=1&\" + suffix;\n\t} else if (opts.vimeoSrc) {\n\t\turl = prefix + \"player.vimeo.com/video/\" + siteVidID + \"?\" + suffix;\n\t} else if (opts.iframeSrc) {\n\t\turl = opts.iframeSrc;\n\t}\n\n\t// add loading spinner to iframe container\n\tchangeCSS(loadingIcon, '');\n\tiframeContainer[appendEl](loadingIcon);\n\n\t// set iframe src to url\n\tiframeSiteVid.src = url;\n\n\tupdateIframeDimensions();\n\n\tsetTimeout(open, 9);\n}\n\nfunction updateIframeDimensions() {\n\tvar height;\n\tvar width;\n\n\t// handle height / width / aspect / max width for iframe\n\tvar windowHeight = window.innerHeight * 0.95;\n\tvar windowWidth = window.innerWidth * 0.95;\n\tvar windowAspect = windowHeight / windowWidth;\n\n\tvar ref = opts.dimensions || [1920, 1080];\n\tvar dimensionWidth = ref[0];\n\tvar dimensionHeight = ref[1];\n\n\tvar iframeAspect = dimensionHeight / dimensionWidth;\n\n\tif (iframeAspect > windowAspect) {\n\t\theight = Math.min(dimensionHeight, windowHeight);\n\t\twidth = height / iframeAspect;\n\t} else {\n\t\twidth = Math.min(dimensionWidth, windowWidth);\n\t\theight = width * iframeAspect;\n\t}\n\n\tiframeContainer.style.cssText += \"width:\" + width + \"px;height:\" + height + \"px;\";\n}\n\n// timeout to check video status while loading\nfunction checkMedia(errMsg) {\n\tif (~[1, 4].indexOf(displayElement.readyState)) {\n\t\topen();\n\t\t// short timeout to to make sure controls show in safari 11\n\t\tsetTimeout(function () {\n\t\t\tdisplayElement.play();\n\t\t}, 99);\n\t} else if (displayElement.error) {\n\t\topen(errMsg);\n\t} else {\n\t\tcheckMediaTimeout = setTimeout(checkMedia, 35, errMsg);\n\t}\n}\n\n// hide / show loading icon\nfunction toggleLoadingIcon(bool) {\n\t// don't show loading icon if noLoader is specified\n\tif (opts.noLoader) {\n\t\treturn\n\t}\n\t// bool is true if we want to show icon, false if we want to remove\n\t// change style to match trigger element dimensions if we want to show\n\tbool &&\n\t\tchangeCSS(\n\t\t\tloadingIcon,\n\t\t\t(\"top:\" + (el.offsetTop) + \"px;left:\" + (el.offsetLeft) + \"px;height:\" + (el.clientHeight) + \"px;width:\" + (el.clientWidth) + \"px\")\n\t\t);\n\t// add or remove loader from DOM\n\tel.parentElement[bool ? appendEl : removeEl](loadingIcon);\n\tisLoading = bool;\n}\n\n// hide & show caption\nfunction toggleCaption(captionContent) {\n\tif (captionContent) {\n\t\tcaptionText.innerHTML = captionContent;\n\t}\n\tchangeCSS(\n\t\tcaption,\n\t\t(\"opacity:\" + (captionContent ? \"1;pointer-events:auto\" : '0'))\n\t);\n}\n\nfunction addToImgCache(url) {\n\t!~imgCache.indexOf(url) && imgCache.push(url);\n}\n\n// animate open of image / video; display caption if needed\nfunction open(err) {\n\t// hide loading spinner\n\tisLoading && toggleLoadingIcon();\n\n\t// execute animationStart callback\n\tanimationStart && animationStart();\n\n\t// check if we have an error string instead of normal event\n\tif (typeof err === 'string') {\n\t\tremoveContainer();\n\t\treturn opts.onError\n\t\t\t? opts.onError()\n\t\t\t: alert((\"Error: The requested \" + err + \" could not be loaded.\"))\n\t}\n\n\t// if remote image is loaded, add url to imgCache array\n\tremoteImage && addToImgCache(imgSrc);\n\n\t// transform displayEl to match trigger el\n\tdisplayElement.style.cssText += getRect();\n\n\t// fade in container\n\tchangeCSS(container, \"opacity:1;pointer-events:auto\");\n\n\t// set animationEnd callback to run after animation ends (cleared if container closed)\n\tanimationEnd = setTimeout(animationEnd, 410);\n\n\tisOpen = true;\n\n\tgalleryOpen = !!galleryEls;\n\n\t// enlarge displayEl, fade in caption if hasCaption\n\tsetTimeout(function () {\n\t\tdisplayElement.style.cssText += 'transition:transform .35s;transform:none';\n\t\tcaptionContent && setTimeout(toggleCaption, 250, captionContent);\n\t}, 60);\n}\n\n// close active display element\nfunction close(e) {\n\tvar target = e ? e.target : container;\n\tvar clickEls = [\n\t\tcaption,\n\t\tcaptionHideButton,\n\t\tdisplayVideo,\n\t\tdisplayAudio,\n\t\tcaptionText,\n\t\tleftArrowBtn,\n\t\trightArrowBtn,\n\t\tloadingIcon ];\n\n\t// blur to hide close button focus style\n\ttarget.blur();\n\n\t// don't close if one of the clickEls was clicked or container is already closing\n\tif (isClosing || ~clickEls.indexOf(target)) {\n\t\treturn\n\t}\n\n\t// animate closing\n\tdisplayElement.style.cssText += getRect();\n\tchangeCSS(container, 'pointer-events:auto');\n\n\t// timeout to remove els from dom; use variable to avoid calling more than once\n\tsetTimeout(removeContainer, 350);\n\n\t// clear animationEnd timeout\n\tclearTimeout(animationEnd);\n\n\tisOpen = false;\n\tisClosing = true;\n}\n\n// remove container / display element from the DOM\nfunction removeContainer() {\n\t// clear src of displayElement (or iframe if display el is iframe container)\n\t// needs to be done before removing container in IE\n\tvar srcEl =\n\t\tdisplayElement === iframeContainer ? iframeSiteVid : displayElement;\n\tsrcEl.removeAttribute('src');\n\n\t// remove container from DOM & clear inline style\n\tdocument.body[removeEl](container);\n\tcontainer[removeEl](displayElement);\n\tchangeCSS(container, '');\n\tchangeCSS(displayElement, '');\n\n\t// remove caption\n\ttoggleCaption(false);\n\n\tif (galleryOpen) {\n\t\t// remove all gallery stuff\n\t\tvar images = container.querySelectorAll('img');\n\t\tfor (var i = 0; i < images.length; i++) {\n\t\t\tcontainer[removeEl](images[i]);\n\t\t}\n\t\tisLoading && container[removeEl](loadingIcon);\n\t\tcontainer[removeEl](galleryCounter);\n\t\tgalleryOpen = galleryEls = false;\n\t\tpreloadedImages = {};\n\t\tsupportsTouch || container[removeEl](rightArrowBtn);\n\t\tsupportsTouch || container[removeEl](leftArrowBtn);\n\t\t// in case displayimage changed, we need to update event listeners\n\t\tdisplayImage.onload = open;\n\t\tdisplayImage.onerror = open.bind(null, 'image');\n\t}\n\n\t// run close callback\n\topts.onClose && opts.onClose();\n\n\tisClosing = isLoading = false;\n}\n\n// style helper functions\nfunction changeCSS(ref, newStyle) {\n\tvar style = ref.style;\n\n\tstyle.cssText = newStyle;\n}\n\nmodule.exports = BigPicture;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmlncGljdHVyZS9pbmRleC5qcz8zNDU2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIseUJBQXlCLEVBQUU7QUFDaEQscUJBQXFCLDBCQUEwQixFQUFFO0FBQ2pE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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsR0FBRyxFQUFFLEVBQUU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUEseURBQXlELHdCQUF3QjtBQUNqRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsK0JBQStCLG1DQUFtQztBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DO0FBQ25DOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUJBQW1CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmlncGljdHVyZS9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEJpZ1BpY3R1cmUuanMgfCBsaWNlbnNlIE1JVCB8IGhlbnJ5Z2QubWUvYmlncGljdHVyZVxuXG4vLyB0cmlnZ2VyIGVsZW1lbnQgdXNlZCB0byBvcGVuIHBvcHVwXG52YXIgZWw7XG5cbi8vIHNldCB0byB0cnVlIGFmdGVyIGZpcnN0IGludGVyYWN0aW9uXG52YXIgaW5pdGlhbGl6ZWQ7XG5cbi8vIGNvbnRhaW5lciBlbGVtZW50IGhvbGRpbmcgaHRtbCBuZWVkZWQgZm9yIHNjcmlwdFxudmFyIGNvbnRhaW5lcjtcblxuLy8gY3VycmVudGx5IGFjdGl2ZSBkaXNwbGF5IGVsZW1lbnQgKGltYWdlLCB2aWRlbywgeW91dHViZSAvIHZpbWVvIGlmcmFtZSBjb250YWluZXIpXG52YXIgZGlzcGxheUVsZW1lbnQ7XG5cbi8vIHBvcHVwIGltYWdlIGVsZW1lbnRcbnZhciBkaXNwbGF5SW1hZ2U7XG5cbi8vIHBvcHVwIHZpZGVvIGVsZW1lbnRcbnZhciBkaXNwbGF5VmlkZW87XG5cbi8vIHBvcHVwIGF1ZGlvIGVsZW1lbnRcbnZhciBkaXNwbGF5QXVkaW87XG5cbi8vIGNvbnRhaW5lciBlbGVtZW50IHRvIGhvbGQgeW91dHViZSAvIHZpbWVvIGlmcmFtZVxudmFyIGlmcmFtZUNvbnRhaW5lcjtcblxuLy8gaWZyYW1lIHRvIGhvbGQgeW91dHViZSAvIHZpbWVvIHBsYXllclxudmFyIGlmcmFtZVNpdGVWaWQ7XG5cbi8vIHN0b3JlIHJlcXVlc3RlZCBpbWFnZSBzb3VyY2VcbnZhciBpbWdTcmM7XG5cbi8vIGJ1dHRvbiB0aGF0IGNsb3NlcyB0aGUgY29udGFpbmVyXG52YXIgY2xvc2VCdXR0b247XG5cbi8vIHlvdXR1YmUgLyB2aW1lbyB2aWRlbyBpZFxudmFyIHNpdGVWaWRJRDtcblxuLy8ga2VlcHMgdHJhY2sgb2YgbG9hZGluZyBpY29uIGRpc3BsYXkgc3RhdGVcbnZhciBpc0xvYWRpbmc7XG5cbi8vIHRpbWVvdXQgdG8gY2hlY2sgdmlkZW8gc3RhdHVzIHdoaWxlIGxvYWRpbmdcbnZhciBjaGVja01lZGlhVGltZW91dDtcblxuLy8gbG9hZGluZyBpY29uIGVsZW1lbnRcbnZhciBsb2FkaW5nSWNvbjtcblxuLy8gY2FwdGlvbiBlbGVtZW50XG52YXIgY2FwdGlvbjtcblxuLy8gY2FwdGlvbiBjb250ZW50IGVsZW1lbnRcbnZhciBjYXB0aW9uVGV4dDtcblxuLy8gc3RvcmUgY2FwdGlvbiBjb250ZW50XG52YXIgY2FwdGlvbkNvbnRlbnQ7XG5cbi8vIGhpZGUgY2FwdGlvbiBidXR0b24gZWxlbWVudFxudmFyIGNhcHRpb25IaWRlQnV0dG9uO1xuXG4vLyBvcGVuIHN0YXRlIGZvciBjb250YWluZXIgZWxlbWVudFxudmFyIGlzT3BlbjtcblxuLy8gZ2FsbGVyeSBvcGVuIHN0YXRlXG52YXIgZ2FsbGVyeU9wZW47XG5cbi8vIHVzZWQgZHVyaW5nIGNsb3NlIGFuaW1hdGlvbiB0byBhdm9pZCB0cmlnZ2VyaW5nIHRpbWVvdXQgdHdpY2VcbnZhciBpc0Nsb3Npbmc7XG5cbi8vIGFycmF5IG9mIHByZXYgdmlld2VkIGltYWdlIHVybHMgdG8gY2hlY2sgaWYgY2FjaGVkIGJlZm9yZSBzaG93aW5nIGxvYWRpbmcgaWNvblxudmFyIGltZ0NhY2hlID0gW107XG5cbi8vIHN0b3JlIHdoZXRoZXIgaW1hZ2UgcmVxdWVzdGVkIGlzIHJlbW90ZSBvciBsb2NhbFxudmFyIHJlbW90ZUltYWdlO1xuXG4vLyBzdG9yZSBhbmltYXRpb24gb3BlbmluZyBjYWxsYmFja3NcbnZhciBhbmltYXRpb25TdGFydDtcbnZhciBhbmltYXRpb25FbmQ7XG5cbi8vIHN0b3JlIGNoYW5nZUdhbGxlcnlJbWFnZSBjYWxsYmFja1xudmFyIG9uQ2hhbmdlSW1hZ2U7XG5cbi8vIGdhbGxlcnkgbGVmdCAvIHJpZ2h0IGljb25zXG52YXIgcmlnaHRBcnJvd0J0bjtcblxudmFyIGxlZnRBcnJvd0J0bjtcblxuLy8gcG9zaXRpb24gb2YgZ2FsbGVyeVxudmFyIGdhbGxlcnlQb3NpdGlvbjtcblxuLy8gaG9sZCBhY3RpdmUgZ2FsbGVyeSBlbHMgLyBpbWFnZSBzcmNcbnZhciBnYWxsZXJ5RWxzO1xuXG4vLyBjb3VudGVyIGVsZW1lbnRcbnZhciBnYWxsZXJ5Q291bnRlcjtcblxuLy8gc3RvcmUgaW1hZ2VzIGluIGdhbGxlcnkgdGhhdCBhcmUgYmVpbmcgbG9hZGVkXG52YXIgcHJlbG9hZGVkSW1hZ2VzID0ge307XG5cbi8vIHdoZXRoZXIgZGV2aWNlIHN1cHBvcnRzIHRvdWNoIGV2ZW50c1xudmFyIHN1cHBvcnRzVG91Y2g7XG5cbi8vIG9wdGlvbnMgb2JqZWN0XG52YXIgb3B0cztcblxuLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgdmVyc2lvblxudmFyIGFwcGVuZEVsID0gJ2FwcGVuZENoaWxkJztcbnZhciBjcmVhdGVFbCA9ICdjcmVhdGVFbGVtZW50JztcbnZhciByZW1vdmVFbCA9ICdyZW1vdmVDaGlsZCc7XG5cbmZ1bmN0aW9uIEJpZ1BpY3R1cmUgKG9wdGlvbnMpIHtcblx0Ly8gaW5pdGlhbGl6ZSBjYWxsZWQgb24gaW5pdGlhbCBvcGVuIHRvIGNyZWF0ZSBlbGVtZW50cyAvIHN0eWxlIC8gZXZlbnQgaGFuZGxlcnNcblx0aW5pdGlhbGl6ZWQgfHwgaW5pdGlhbGl6ZSgpO1xuXG5cdC8vIGNsZWFyIGN1cnJlbnRseSBsb2FkaW5nIHN0dWZmXG5cdGlmIChpc0xvYWRpbmcpIHtcblx0XHRjbGVhclRpbWVvdXQoY2hlY2tNZWRpYVRpbWVvdXQpO1xuXHRcdHJlbW92ZUNvbnRhaW5lcigpO1xuXHR9XG5cblx0b3B0cyA9IG9wdGlvbnM7XG5cblx0Ly8gc3RvcmUgdmlkZW8gaWQgaWYgeW91dHViZSAvIHZpbWVvIHZpZGVvIGlzIHJlcXVlc3RlZFxuXHRzaXRlVmlkSUQgPSBvcHRpb25zLnl0U3JjIHx8IG9wdGlvbnMudmltZW9TcmM7XG5cblx0Ly8gc3RvcmUgb3B0aW9uYWwgY2FsbGJhY2tzXG5cdGFuaW1hdGlvblN0YXJ0ID0gb3B0aW9ucy5hbmltYXRpb25TdGFydDtcblx0YW5pbWF0aW9uRW5kID0gb3B0aW9ucy5hbmltYXRpb25FbmQ7XG5cdG9uQ2hhbmdlSW1hZ2UgPSBvcHRpb25zLm9uQ2hhbmdlSW1hZ2U7XG5cblx0Ly8gc2V0IHRyaWdnZXIgZWxlbWVudFxuXHRlbCA9IG9wdGlvbnMuZWw7XG5cblx0Ly8gd2lwZSBleGlzdGluZyByZW1vdGVJbWFnZSBzdGF0ZVxuXHRyZW1vdGVJbWFnZSA9IGZhbHNlO1xuXG5cdC8vIHNldCBjYXB0aW9uIGlmIHByb3ZpZGVkXG5cdGNhcHRpb25Db250ZW50ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNhcHRpb24nKTtcblxuXHRpZiAob3B0aW9ucy5nYWxsZXJ5KSB7XG5cdFx0bWFrZUdhbGxlcnkob3B0aW9ucy5nYWxsZXJ5LCBvcHRpb25zLnBvc2l0aW9uKTtcblx0fSBlbHNlIGlmIChzaXRlVmlkSUQgfHwgb3B0aW9ucy5pZnJhbWVTcmMpIHtcblx0XHQvLyBpZiB2aW1lbywgeW91dHViZSwgb3IgaWZyYW1lIHZpZGVvXG5cdFx0Ly8gdG9nZ2xlTG9hZGluZ0ljb24odHJ1ZSlcblx0XHRkaXNwbGF5RWxlbWVudCA9IGlmcmFtZUNvbnRhaW5lcjtcblx0XHRjcmVhdGVJZnJhbWUoKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmltZ1NyYykge1xuXHRcdC8vIGlmIHJlbW90ZSBpbWFnZVxuXHRcdHJlbW90ZUltYWdlID0gdHJ1ZTtcblx0XHRpbWdTcmMgPSBvcHRpb25zLmltZ1NyYztcblx0XHQhfmltZ0NhY2hlLmluZGV4T2YoaW1nU3JjKSAmJiB0b2dnbGVMb2FkaW5nSWNvbih0cnVlKTtcblx0XHRkaXNwbGF5RWxlbWVudCA9IGRpc3BsYXlJbWFnZTtcblx0XHRkaXNwbGF5RWxlbWVudC5zcmMgPSBpbWdTcmM7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5hdWRpbykge1xuXHRcdC8vIGlmIGRpcmVjdCB2aWRlbyBsaW5rXG5cdFx0dG9nZ2xlTG9hZGluZ0ljb24odHJ1ZSk7XG5cdFx0ZGlzcGxheUVsZW1lbnQgPSBkaXNwbGF5QXVkaW87XG5cdFx0ZGlzcGxheUVsZW1lbnQuc3JjID0gb3B0aW9ucy5hdWRpbztcblx0XHRjaGVja01lZGlhKCdhdWRpbyBmaWxlJyk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy52aWRTcmMpIHtcblx0XHQvLyBpZiBkaXJlY3QgdmlkZW8gbGlua1xuXHRcdHRvZ2dsZUxvYWRpbmdJY29uKHRydWUpO1xuXHRcdG1ha2VWaWRTcmMob3B0aW9ucy52aWRTcmMpO1xuXHRcdGNoZWNrTWVkaWEoJ3ZpZGVvJyk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gbG9jYWwgaW1hZ2UgLyBiYWNrZ3JvdW5kIGltYWdlIGFscmVhZHkgbG9hZGVkIG9uIHBhZ2Vcblx0XHRkaXNwbGF5RWxlbWVudCA9IGRpc3BsYXlJbWFnZTtcblx0XHQvLyBnZXQgaW1nIHNvdXJjZSBvciBlbGVtZW50IGJhY2tncm91bmQgaW1hZ2Vcblx0XHRkaXNwbGF5RWxlbWVudC5zcmMgPVxuXHRcdFx0ZWwudGFnTmFtZSA9PT0gJ0lNRydcblx0XHRcdFx0PyBlbC5zcmNcblx0XHRcdFx0OiB3aW5kb3dcblx0XHRcdFx0XHRcdC5nZXRDb21wdXRlZFN0eWxlKGVsKVxuXHRcdFx0XHRcdFx0LmJhY2tncm91bmRJbWFnZS5yZXBsYWNlKC9edXJsfFsofCl8J3xcIl0vZywgJycpO1xuXHR9XG5cblx0Ly8gYWRkIGNvbnRhaW5lciB0byBwYWdlXG5cdGNvbnRhaW5lclthcHBlbmRFbF0oZGlzcGxheUVsZW1lbnQpO1xuXHRkb2N1bWVudC5ib2R5W2FwcGVuZEVsXShjb250YWluZXIpO1xuXHRyZXR1cm4ge1xuXHRcdGNsb3NlOiBjbG9zZSxcblx0XHRuZXh0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1cGRhdGVHYWxsZXJ5KDEpOyB9LFxuXHRcdHByZXY6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVwZGF0ZUdhbGxlcnkoLTEpOyB9LFxuXHR9XG59XG5cbi8vIGNyZWF0ZSBhbGwgbmVlZGVkIG1ldGhvZHMgLyBzdG9yZSBkb20gZWxlbWVudHMgb24gZmlyc3QgdXNlXG5mdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXHR2YXIgc3RhcnRYO1xuXHQvLyByZXR1cm4gY2xvc2UgYnV0dG9uIGVsZW1lbnRzXG5cdGZ1bmN0aW9uIGNyZWF0ZUNsb3NlQnV0dG9uKGNsYXNzTmFtZSkge1xuXHRcdHZhciBlbCA9IGRvY3VtZW50W2NyZWF0ZUVsXSgnYnV0dG9uJyk7XG5cdFx0ZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuXHRcdGVsLmlubmVySFRNTCA9XG5cdFx0XHQnPHN2ZyB2aWV3Qm94PVwiMCAwIDQ4IDQ4XCI+PHBhdGggZD1cIk0yOCAyNEw0NyA1YTMgMyAwIDEgMC00LTRMMjQgMjAgNSAxYTMgMyAwIDEgMC00IDRsMTkgMTlMMSA0M2EzIDMgMCAxIDAgNCA0bDE5LTE5IDE5IDE5YTMgMyAwIDAgMCA0IDB2LTRMMjggMjR6XCIvPjwvc3ZnPic7XG5cdFx0cmV0dXJuIGVsXG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVBcnJvd1N5bWJvbChkaXJlY3Rpb24sIHN0eWxlKSB7XG5cdFx0dmFyIGVsID0gZG9jdW1lbnRbY3JlYXRlRWxdKCdidXR0b24nKTtcblx0XHRlbC5jbGFzc05hbWUgPSAnYnAtbHInO1xuXHRcdGVsLmlubmVySFRNTCA9XG5cdFx0XHQnPHN2ZyB2aWV3Qm94PVwiMCAwIDEyOSAxMjlcIiBoZWlnaHQ9XCI3MFwiIGZpbGw9XCIjZmZmXCI+PHBhdGggZD1cIk04OC42IDEyMS4zYy44LjggMS44IDEuMiAyLjkgMS4yczIuMS0uNCAyLjktMS4yYTQuMSA0LjEgMCAwIDAgMC01LjhsLTUxLTUxIDUxLTUxYTQuMSA0LjEgMCAwIDAtNS44LTUuOGwtNTQgNTMuOWE0LjEgNC4xIDAgMCAwIDAgNS44bDU0IDUzLjl6XCIvPjwvc3ZnPic7XG5cdFx0Y2hhbmdlQ1NTKGVsLCBzdHlsZSk7XG5cdFx0ZWwub25jbGljayA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0dXBkYXRlR2FsbGVyeShkaXJlY3Rpb24pO1xuXHRcdH07XG5cdFx0cmV0dXJuIGVsXG5cdH1cblxuXHQvLyBhZGQgc3R5bGUgLSBpZiB5b3Ugd2FudCB0byB0d2VhaywgcnVuIHRocm91Z2ggYmVhdXRpZmllclxuXHR2YXIgc3R5bGUgPSBkb2N1bWVudFtjcmVhdGVFbF0oJ1NUWUxFJyk7XG5cdHN0eWxlLmlubmVySFRNTCA9XG5cdFx0JyNicF9jYXB0aW9uLCNicF9jb250YWluZXJ7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7cG9zaXRpb246Zml4ZWQ7b3BhY2l0eTowfSNicF9jb250YWluZXI+KiwjYnBfbG9hZGVye3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7ei1pbmRleDoxMH0jYnBfY29udGFpbmVyLCNicF9jYXB0aW9uLCNicF9jb250YWluZXIgc3Zne3BvaW50ZXItZXZlbnRzOm5vbmV9I2JwX2NvbnRhaW5lcnt0b3A6MDt6LWluZGV4Ojk5OTk7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC43KTtvcGFjaXR5OjA7dHJhbnNpdGlvbjpvcGFjaXR5IC4zNXN9I2JwX2xvYWRlcnt0b3A6MDtsZWZ0OjA7Ym90dG9tOjA7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtjdXJzb3I6d2FpdDtiYWNrZ3JvdW5kOjA7ei1pbmRleDo5fSNicF9sb2FkZXIgc3Zne3dpZHRoOjUwJTttYXgtd2lkdGg6MzAwcHg7bWF4LWhlaWdodDo1MCU7bWFyZ2luOmF1dG87YW5pbWF0aW9uOmJwdHVybiAxcyBpbmZpbml0ZSBsaW5lYXJ9I2JwX2F1ZCwjYnBfY29udGFpbmVyIGltZywjYnBfc3YsI2JwX3ZpZHt1c2VyLXNlbGVjdDpub25lO21heC1oZWlnaHQ6OTYlO21heC13aWR0aDo5NiU7dG9wOjA7Ym90dG9tOjA7bGVmdDowO21hcmdpbjphdXRvO2JveC1zaGFkb3c6MCAwIDNlbSByZ2JhKDAsMCwwLC40KTt6LWluZGV4Oi0xfSNicF9zdntiYWNrZ3JvdW5kOiMxMTF9I2JwX3N2IHN2Z3t3aWR0aDo2NnB4fSNicF9jYXB0aW9ue2ZvbnQtc2l6ZTouOWVtO3BhZGRpbmc6MS4zZW07YmFja2dyb3VuZDpyZ2JhKDE1LDE1LDE1LC45NCk7Y29sb3I6I2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzfSNicF9hdWR7d2lkdGg6NjUwcHg7dG9wOmNhbGMoNTAlIC0gMjBweCk7Ym90dG9tOmF1dG87Ym94LXNoYWRvdzpub25lfSNicF9jb3VudHtsZWZ0OjA7cmlnaHQ6YXV0bztwYWRkaW5nOjE0cHg7Y29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNyk7Zm9udC1zaXplOjIycHg7Y3Vyc29yOmRlZmF1bHR9I2JwX2NvbnRhaW5lciBidXR0b257cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7b3V0bGluZTowO2JhY2tncm91bmQ6MDtjdXJzb3I6cG9pbnRlcjt0cmFuc2l0aW9uOmFsbCAuMXN9I2JwX2NvbnRhaW5lcj4uYnAteHtwYWRkaW5nOjA7aGVpZ2h0OjQxcHg7d2lkdGg6NDFweDtib3JkZXItcmFkaXVzOjEwMCU7dG9wOjhweDtyaWdodDoxNHB4O29wYWNpdHk6Ljg7bGluZS1oZWlnaHQ6MX0jYnBfY29udGFpbmVyPi5icC14OmZvY3VzLCNicF9jb250YWluZXI+LmJwLXg6aG92ZXJ7YmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LC4yKX0uYnAteCBzdmcsLmJwLXhjIHN2Z3toZWlnaHQ6MjFweDt3aWR0aDoyMHB4O2ZpbGw6I2ZmZjt2ZXJ0aWNhbC1hbGlnbjp0b3A7fS5icC14YyBzdmd7d2lkdGg6MTZweH0jYnBfY29udGFpbmVyIC5icC14Y3tsZWZ0OjIlO2JvdHRvbToxMDAlO3BhZGRpbmc6OXB4IDIwcHggN3B4O2JhY2tncm91bmQ6I2QwNDQ0NDtib3JkZXItcmFkaXVzOjJweCAycHggMCAwO29wYWNpdHk6Ljg1fSNicF9jb250YWluZXIgLmJwLXhjOmZvY3VzLCNicF9jb250YWluZXIgLmJwLXhjOmhvdmVye29wYWNpdHk6MX0uYnAtbHJ7dG9wOjUwJTt0b3A6Y2FsYyg1MCUgLSAxMzBweCk7cGFkZGluZzo5OXB4IDA7d2lkdGg6NiU7YmFja2dyb3VuZDowO2JvcmRlcjowO29wYWNpdHk6LjQ7dHJhbnNpdGlvbjpvcGFjaXR5IC4xc30uYnAtbHI6Zm9jdXMsLmJwLWxyOmhvdmVye29wYWNpdHk6Ljh9QGtleWZyYW1lcyBicGZ7NTAle3RyYW5zZm9ybTp0cmFuc2xhdGV4KDE1cHgpfTEwMCV7dHJhbnNmb3JtOm5vbmV9fUBrZXlmcmFtZXMgYnBsezUwJXt0cmFuc2Zvcm06dHJhbnNsYXRleCgtMTVweCl9MTAwJXt0cmFuc2Zvcm06bm9uZX19QGtleWZyYW1lcyBicGZsezAle29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRleCg3MHB4KX0xMDAle29wYWNpdHk6MTt0cmFuc2Zvcm06bm9uZX19QGtleWZyYW1lcyBicGZyezAle29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRleCgtNzBweCl9MTAwJXtvcGFjaXR5OjE7dHJhbnNmb3JtOm5vbmV9fUBrZXlmcmFtZXMgYnBmb2x7MCV7b3BhY2l0eToxO3RyYW5zZm9ybTpub25lfTEwMCV7b3BhY2l0eTowO3RyYW5zZm9ybTp0cmFuc2xhdGV4KC03MHB4KX19QGtleWZyYW1lcyBicGZvcnswJXtvcGFjaXR5OjE7dHJhbnNmb3JtOm5vbmV9MTAwJXtvcGFjaXR5OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZXgoNzBweCl9fUBrZXlmcmFtZXMgYnB0dXJuezAle3RyYW5zZm9ybTpub25lfTEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1AbWVkaWEgKG1heC13aWR0aDo2MDBweCl7LmJwLWxye2ZvbnQtc2l6ZToxNXZ3fX0nO1xuXHRkb2N1bWVudC5oZWFkW2FwcGVuZEVsXShzdHlsZSk7XG5cblx0Ly8gY3JlYXRlIGNvbnRhaW5lciBlbGVtZW50XG5cdGNvbnRhaW5lciA9IGRvY3VtZW50W2NyZWF0ZUVsXSgnRElWJyk7XG5cdGNvbnRhaW5lci5pZCA9ICdicF9jb250YWluZXInO1xuXHRjb250YWluZXIub25jbGljayA9IGNsb3NlO1xuXHRjbG9zZUJ1dHRvbiA9IGNyZWF0ZUNsb3NlQnV0dG9uKCdicC14Jyk7XG5cdGNvbnRhaW5lclthcHBlbmRFbF0oY2xvc2VCdXR0b24pO1xuXHQvLyBnYWxsZXJ5IHN3aXBlIGxpc3RlbmVyc1xuXHRpZiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB7XG5cdFx0c3VwcG9ydHNUb3VjaCA9IHRydWU7XG5cdFx0Y29udGFpbmVyLm9udG91Y2hzdGFydCA9IGZ1bmN0aW9uIChyZWYpIHtcblx0XHRcdHZhciBjaGFuZ2VkVG91Y2hlcyA9IHJlZi5jaGFuZ2VkVG91Y2hlcztcblxuXHRcdFx0c3RhcnRYID0gY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XG5cdFx0fTtcblx0XHRjb250YWluZXIub250b3VjaG1vdmUgPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH07XG5cdFx0Y29udGFpbmVyLm9udG91Y2hlbmQgPSBmdW5jdGlvbiAocmVmKSB7XG5cdFx0XHR2YXIgY2hhbmdlZFRvdWNoZXMgPSByZWYuY2hhbmdlZFRvdWNoZXM7XG5cblx0XHRcdGlmICghZ2FsbGVyeU9wZW4pIHtcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHR9XG5cdFx0XHR2YXIgZGlzdFggPSBjaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtIHN0YXJ0WDtcblx0XHRcdC8vIHN3aXBlIHJpZ2h0XG5cdFx0XHRkaXN0WCA8IC0zMCAmJiB1cGRhdGVHYWxsZXJ5KDEpO1xuXHRcdFx0Ly8gc3dpcGUgbGVmdFxuXHRcdFx0ZGlzdFggPiAzMCAmJiB1cGRhdGVHYWxsZXJ5KC0xKTtcblx0XHR9O1xuXHR9XG5cblx0Ly8gY3JlYXRlIGRpc3BsYXkgaW1hZ2UgZWxlbWVudFxuXHRkaXNwbGF5SW1hZ2UgPSBkb2N1bWVudFtjcmVhdGVFbF0oJ0lNRycpO1xuXG5cdC8vIGNyZWF0ZSBkaXNwbGF5IHZpZGVvIGVsZW1lbnRcblx0ZGlzcGxheVZpZGVvID0gZG9jdW1lbnRbY3JlYXRlRWxdKCdWSURFTycpO1xuXHRkaXNwbGF5VmlkZW8uaWQgPSAnYnBfdmlkJztcblx0ZGlzcGxheVZpZGVvLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCB0cnVlKTtcblx0ZGlzcGxheVZpZGVvLmNvbnRyb2xzID0gdHJ1ZTtcblx0ZGlzcGxheVZpZGVvLmxvb3AgPSB0cnVlO1xuXG5cdC8vIGNyZWF0ZSBhdWRpbyBlbGVtZW50XG5cdGRpc3BsYXlBdWRpbyA9IGRvY3VtZW50W2NyZWF0ZUVsXSgnYXVkaW8nKTtcblx0ZGlzcGxheUF1ZGlvLmlkID0gJ2JwX2F1ZCc7XG5cdGRpc3BsYXlBdWRpby5jb250cm9scyA9IHRydWU7XG5cdGRpc3BsYXlBdWRpby5sb29wID0gdHJ1ZTtcblxuXHQvLyBjcmVhdGUgZ2FsbGVyeSBjb3VudGVyXG5cdGdhbGxlcnlDb3VudGVyID0gZG9jdW1lbnRbY3JlYXRlRWxdKCdzcGFuJyk7XG5cdGdhbGxlcnlDb3VudGVyLmlkID0gJ2JwX2NvdW50JztcblxuXHQvLyBjcmVhdGUgY2FwdGlvbiBlbGVtZW50c1xuXHRjYXB0aW9uID0gZG9jdW1lbnRbY3JlYXRlRWxdKCdESVYnKTtcblx0Y2FwdGlvbi5pZCA9ICdicF9jYXB0aW9uJztcblx0Y2FwdGlvbkhpZGVCdXR0b24gPSBjcmVhdGVDbG9zZUJ1dHRvbignYnAteGMnKTtcblx0Y2FwdGlvbkhpZGVCdXR0b24ub25jbGljayA9IHRvZ2dsZUNhcHRpb24uYmluZChudWxsLCBmYWxzZSk7XG5cdGNhcHRpb25bYXBwZW5kRWxdKGNhcHRpb25IaWRlQnV0dG9uKTtcblx0Y2FwdGlvblRleHQgPSBkb2N1bWVudFtjcmVhdGVFbF0oJ1NQQU4nKTtcblx0Y2FwdGlvblthcHBlbmRFbF0oY2FwdGlvblRleHQpO1xuXHRjb250YWluZXJbYXBwZW5kRWxdKGNhcHRpb24pO1xuXG5cdC8vIGxlZnQgLyByaWdodCBhcnJvdyBpY29uc1xuXHRyaWdodEFycm93QnRuID0gY3JlYXRlQXJyb3dTeW1ib2woMSwgJ3RyYW5zZm9ybTpzY2FsZXgoLTEpJyk7XG5cdGxlZnRBcnJvd0J0biA9IGNyZWF0ZUFycm93U3ltYm9sKC0xLCAnbGVmdDowO3JpZ2h0OmF1dG8nKTtcblxuXHQvLyBjcmVhdGUgbG9hZGluZyBpY29uIGVsZW1lbnRcblx0bG9hZGluZ0ljb24gPSBkb2N1bWVudFtjcmVhdGVFbF0oJ0RJVicpO1xuXHRsb2FkaW5nSWNvbi5pZCA9ICdicF9sb2FkZXInO1xuXHRsb2FkaW5nSWNvbi5pbm5lckhUTUwgPVxuXHRcdCc8c3ZnIHZpZXdib3g9XCIwIDAgMzIgMzJcIiBmaWxsPVwiI2ZmZlwiIG9wYWNpdHk9XCIuOFwiPjxwYXRoIGQ9XCJNMTYgMGExNiAxNiAwIDAgMCAwIDMyIDE2IDE2IDAgMCAwIDAtMzJtMCA0YTEyIDEyIDAgMCAxIDAgMjQgMTIgMTIgMCAwIDEgMC0yNFwiIGZpbGw9XCIjMDAwXCIgb3BhY2l0eT1cIi41XCIvPjxwYXRoIGQ9XCJNMTYgMGExNiAxNiAwIDAgMSAxNiAxNmgtNEExMiAxMiAwIDAgMCAxNiA0elwiLz48L3N2Zz4nO1xuXHQvLyBjcmVhdGUgeW91dHViZSAvIHZpbWVvIGNvbnRhaW5lclxuXHRpZnJhbWVDb250YWluZXIgPSBkb2N1bWVudFtjcmVhdGVFbF0oJ0RJVicpO1xuXHRpZnJhbWVDb250YWluZXIuaWQgPSAnYnBfc3YnO1xuXG5cdC8vIGNyZWF0ZSBpZnJhbWUgdG8gaG9sZCB5b3V0dWJlIC8gdmltZW8gcGxheWVyXG5cdGlmcmFtZVNpdGVWaWQgPSBkb2N1bWVudFtjcmVhdGVFbF0oJ0lGUkFNRScpO1xuXHRpZnJhbWVTaXRlVmlkLnNldEF0dHJpYnV0ZSgnYWxsb3dmdWxsc2NyZWVuJywgdHJ1ZSk7XG5cdGlmcmFtZVNpdGVWaWQuYWxsb3cgPSAnYXV0b3BsYXk7IGZ1bGxzY3JlZW4nO1xuXHRpZnJhbWVTaXRlVmlkLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlmcmFtZUNvbnRhaW5lcltyZW1vdmVFbF0obG9hZGluZ0ljb24pOyB9O1xuXHRjaGFuZ2VDU1MoXG5cdFx0aWZyYW1lU2l0ZVZpZCxcblx0XHQnYm9yZGVyOjA7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtsZWZ0OjA7dG9wOjAnXG5cdCk7XG5cdGlmcmFtZUNvbnRhaW5lclthcHBlbmRFbF0oaWZyYW1lU2l0ZVZpZCk7XG5cblx0Ly8gZGlzcGxheSBpbWFnZSBiaW5kaW5ncyBmb3IgaW1hZ2UgbG9hZCBhbmQgZXJyb3Jcblx0ZGlzcGxheUltYWdlLm9ubG9hZCA9IG9wZW47XG5cdGRpc3BsYXlJbWFnZS5vbmVycm9yID0gb3Blbi5iaW5kKG51bGwsICdpbWFnZScpO1xuXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gYWRqdXN0IGxvYWRlciBwb3NpdGlvbiBvbiB3aW5kb3cgcmVzaXplXG5cdFx0Z2FsbGVyeU9wZW4gfHwgKGlzTG9hZGluZyAmJiB0b2dnbGVMb2FkaW5nSWNvbih0cnVlKSk7XG5cdFx0Ly8gYWRqdXN0IGlmcmFtZSBkaW1lbnNpb25zXG5cdFx0ZGlzcGxheUVsZW1lbnQgPT09IGlmcmFtZUNvbnRhaW5lciAmJiB1cGRhdGVJZnJhbWVEaW1lbnNpb25zKCk7XG5cdH0pO1xuXG5cdC8vIGNsb3NlIGNvbnRhaW5lciBvbiBlc2NhcGUga2V5IHByZXNzIGFuZCBhcnJvdyBidXR0b25zIGZvciBnYWxsZXJ5XG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKHJlZikge1xuXHRcdHZhciBrZXlDb2RlID0gcmVmLmtleUNvZGU7XG5cblx0XHRrZXlDb2RlID09PSAyNyAmJiBpc09wZW4gJiYgY2xvc2UoKTtcblx0XHRpZiAoZ2FsbGVyeU9wZW4pIHtcblx0XHRcdGtleUNvZGUgPT09IDM5ICYmIHVwZGF0ZUdhbGxlcnkoMSk7XG5cdFx0XHRrZXlDb2RlID09PSAzNyAmJiB1cGRhdGVHYWxsZXJ5KC0xKTtcblx0XHRcdGtleUNvZGUgPT09IDM4ICYmIHVwZGF0ZUdhbGxlcnkoMTApO1xuXHRcdFx0a2V5Q29kZSA9PT0gNDAgJiYgdXBkYXRlR2FsbGVyeSgtMTApO1xuXHRcdH1cblx0fSk7XG5cdC8vIHByZXZlbnQgc2Nyb2xsaW5nIHdpdGggYXJyb3cga2V5cyBpZiBnYWxsZXJ5IG9wZW5cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHVzZWRLZXlzID0gWzM3LCAzOCwgMzksIDQwXTtcblx0XHRpZiAoZ2FsbGVyeU9wZW4gJiYgfnVzZWRLZXlzLmluZGV4T2YoZS5rZXlDb2RlKSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gdHJhcCBmb2N1cyB3aXRoaW4gY29uYWluZXIgd2hpbGUgb3BlblxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuXHRcdCdmb2N1cycsXG5cdFx0ZnVuY3Rpb24gKGUpIHtcblx0XHRcdGlmIChpc09wZW4gJiYgIWNvbnRhaW5lci5jb250YWlucyhlLnRhcmdldCkpIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0Y2xvc2VCdXR0b24uZm9jdXMoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHRydWVcblx0KTtcblxuXHQvLyBhbGwgZG9uZVxuXHRpbml0aWFsaXplZCA9IHRydWU7XG59XG5cbi8vIHJldHVybiB0cmFuc2Zvcm0gc3R5bGUgdG8gbWFrZSBmdWxsIHNpemUgZGlzcGxheSBlbCBtYXRjaCB0cmlnZ2VyIGVsIHNpemVcbmZ1bmN0aW9uIGdldFJlY3QoKSB7XG5cdHZhciByZWYgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0dmFyIHRvcCA9IHJlZi50b3A7XG5cdHZhciBsZWZ0ID0gcmVmLmxlZnQ7XG5cdHZhciB3aWR0aCA9IHJlZi53aWR0aDtcblx0dmFyIGhlaWdodCA9IHJlZi5oZWlnaHQ7XG5cdHZhciBsZWZ0T2Zmc2V0ID0gbGVmdCAtIChjb250YWluZXIuY2xpZW50V2lkdGggLSB3aWR0aCkgLyAyO1xuXHR2YXIgY2VudGVyVG9wID0gdG9wIC0gKGNvbnRhaW5lci5jbGllbnRIZWlnaHQgLSBoZWlnaHQpIC8gMjtcblx0dmFyIHNjYWxlV2lkdGggPSBlbC5jbGllbnRXaWR0aCAvIGRpc3BsYXlFbGVtZW50LmNsaWVudFdpZHRoO1xuXHR2YXIgc2NhbGVIZWlnaHQgPSBlbC5jbGllbnRIZWlnaHQgLyBkaXNwbGF5RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cdHJldHVybiAoXCJ0cmFuc2Zvcm06dHJhbnNsYXRlM0QoXCIgKyBsZWZ0T2Zmc2V0ICsgXCJweCwgXCIgKyBjZW50ZXJUb3AgKyBcInB4LCAwKSBzY2FsZTNEKFwiICsgc2NhbGVXaWR0aCArIFwiLCBcIiArIHNjYWxlSGVpZ2h0ICsgXCIsIDApXCIpXG59XG5cbmZ1bmN0aW9uIG1ha2VWaWRTcmMoc291cmNlKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcblx0XHRkaXNwbGF5RWxlbWVudCA9IGRpc3BsYXlWaWRlby5jbG9uZU5vZGUoKTtcblx0XHRzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAoc3JjKSB7XG5cdFx0XHR2YXIgc291cmNlID0gZG9jdW1lbnRbY3JlYXRlRWxdKCdTT1VSQ0UnKTtcblx0XHRcdHNvdXJjZS5zcmMgPSBzcmM7XG5cdFx0XHRzb3VyY2UudHlwZSA9IFwidmlkZW8vXCIgKyAoc3JjLm1hdGNoKC8uKFxcdyspJC8pWzFdKTtcblx0XHRcdGRpc3BsYXlFbGVtZW50W2FwcGVuZEVsXShzb3VyY2UpO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdGRpc3BsYXlFbGVtZW50ID0gZGlzcGxheVZpZGVvO1xuXHRcdGRpc3BsYXlFbGVtZW50LnNyYyA9IHNvdXJjZTtcblx0fVxufVxuXG5mdW5jdGlvbiBtYWtlR2FsbGVyeShnYWxsZXJ5LCBwb3NpdGlvbikge1xuXHR2YXIgZ2FsbGVyeUF0dHJpYnV0ZSA9IG9wdHMuZ2FsbGVyeUF0dHJpYnV0ZSB8fCAnZGF0YS1icCc7XG5cdGlmIChBcnJheS5pc0FycmF5KGdhbGxlcnkpKSB7XG5cdFx0Ly8gaXMgYXJyYXkgb2YgaW1hZ2VzXG5cdFx0Z2FsbGVyeVBvc2l0aW9uID0gcG9zaXRpb24gfHwgMDtcblx0XHRnYWxsZXJ5RWxzID0gZ2FsbGVyeTtcblx0XHRjYXB0aW9uQ29udGVudCA9IGdhbGxlcnlbZ2FsbGVyeVBvc2l0aW9uXS5jYXB0aW9uO1xuXHR9IGVsc2Uge1xuXHRcdC8vIGlzIGVsZW1lbnQgc2VsZWN0b3Igb3Igbm9kZWxpc3Rcblx0XHRnYWxsZXJ5RWxzID0gW10uc2xpY2UuY2FsbChcblx0XHRcdHR5cGVvZiBnYWxsZXJ5ID09PSAnc3RyaW5nJ1xuXHRcdFx0XHQ/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoKGdhbGxlcnkgKyBcIiBbXCIgKyBnYWxsZXJ5QXR0cmlidXRlICsgXCJdXCIpKVxuXHRcdFx0XHQ6IGdhbGxlcnlcblx0XHQpO1xuXHRcdC8vIGZpbmQgaW5pdGlhbCBnYWxsZXJ5IHBvc2l0aW9uXG5cdFx0dmFyIGVsSW5kZXggPSBnYWxsZXJ5RWxzLmluZGV4T2YoZWwpO1xuXHRcdGdhbGxlcnlQb3NpdGlvbiA9XG5cdFx0XHRwb3NpdGlvbiA9PT0gMCB8fCBwb3NpdGlvbiA/IHBvc2l0aW9uIDogZWxJbmRleCAhPT0gLTEgPyBlbEluZGV4IDogMDtcblx0XHQvLyBtYWtlIGdhbGxlcnkgb2JqZWN0IHcvIGVscyAvIHNyYyAvIGNhcHRpb25cblx0XHRnYWxsZXJ5RWxzID0gZ2FsbGVyeUVscy5tYXAoZnVuY3Rpb24gKGVsKSB7IHJldHVybiAoe1xuXHRcdFx0ZWw6IGVsLFxuXHRcdFx0c3JjOiBlbC5nZXRBdHRyaWJ1dGUoZ2FsbGVyeUF0dHJpYnV0ZSksXG5cdFx0XHRjYXB0aW9uOiBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2FwdGlvbicpLFxuXHRcdH0pOyB9KTtcblx0fVxuXHQvLyBzaG93IGxvYWRpbmcgaWNvbiBpZiBuZWVkZWRcblx0cmVtb3RlSW1hZ2UgPSB0cnVlO1xuXHQvLyBzZXQgaW5pdGlhbCBzcmMgdG8gaW1nU3JjIHNvIGl0IHdpbGwgYmUgY2FjaGVkIGluIG9wZW4gZnVuY1xuXHRpbWdTcmMgPSBnYWxsZXJ5RWxzW2dhbGxlcnlQb3NpdGlvbl0uc3JjO1xuXHQhfmltZ0NhY2hlLmluZGV4T2YoaW1nU3JjKSAmJiB0b2dnbGVMb2FkaW5nSWNvbih0cnVlKTtcblx0aWYgKGdhbGxlcnlFbHMubGVuZ3RoID4gMSkge1xuXHRcdC8vIGlmIGxlbmd0aCBpcyBncmVhdGVyIHRoYW4gb25lLCBhZGQgZ2FsbGVyeSBzdHVmZlxuXHRcdGNvbnRhaW5lclthcHBlbmRFbF0oZ2FsbGVyeUNvdW50ZXIpO1xuXHRcdGdhbGxlcnlDb3VudGVyLmlubmVySFRNTCA9IChnYWxsZXJ5UG9zaXRpb24gKyAxKSArIFwiL1wiICsgKGdhbGxlcnlFbHMubGVuZ3RoKTtcblx0XHRpZiAoIXN1cHBvcnRzVG91Y2gpIHtcblx0XHRcdC8vIGFkZCBhcnJvd3MgaWYgZGV2aWNlIGRvZXNuJ3Qgc3VwcG9ydCB0b3VjaFxuXHRcdFx0Y29udGFpbmVyW2FwcGVuZEVsXShyaWdodEFycm93QnRuKTtcblx0XHRcdGNvbnRhaW5lclthcHBlbmRFbF0obGVmdEFycm93QnRuKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gZ2FsbGVyeSBpcyBvbmUsIGp1c3Qgc2hvdyB3aXRob3V0IGNsdXR0ZXJcblx0XHRnYWxsZXJ5RWxzID0gZmFsc2U7XG5cdH1cblx0ZGlzcGxheUVsZW1lbnQgPSBkaXNwbGF5SW1hZ2U7XG5cdC8vIHNldCBpbml0aWFsIGltYWdlIHNyY1xuXHRkaXNwbGF5RWxlbWVudC5zcmMgPSBpbWdTcmM7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUdhbGxlcnkobW92ZW1lbnQpIHtcblx0dmFyIGdhbGxlcnlMZW5ndGggPSBnYWxsZXJ5RWxzLmxlbmd0aCAtIDE7XG5cblx0Ly8gb25seSBhbGxvdyBvbmUgY2hhbmdlIGF0IGEgdGltZVxuXHRpZiAoaXNMb2FkaW5nKSB7XG5cdFx0cmV0dXJuXG5cdH1cblxuXHQvLyByZXR1cm4gaWYgcmVxdWVzdGluZyBvdXQgb2YgcmFuZ2UgaW1hZ2Vcblx0dmFyIGlzRW5kID1cblx0XHQobW92ZW1lbnQgPiAwICYmIGdhbGxlcnlQb3NpdGlvbiA9PT0gZ2FsbGVyeUxlbmd0aCkgfHxcblx0XHQobW92ZW1lbnQgPCAwICYmICFnYWxsZXJ5UG9zaXRpb24pO1xuXHRpZiAoaXNFbmQpIHtcblx0XHQvLyBpZiBiZWdpbm5pbmcgb3IgZW5kIG9mIGdhbGxlcnksIHJ1biBlbmQgYW5pbWF0aW9uXG5cdFx0aWYgKCFvcHRzLmxvb3ApIHtcblx0XHRcdGNoYW5nZUNTUyhkaXNwbGF5SW1hZ2UsICcnKTtcblx0XHRcdHNldFRpbWVvdXQoXG5cdFx0XHRcdGNoYW5nZUNTUyxcblx0XHRcdFx0OSxcblx0XHRcdFx0ZGlzcGxheUltYWdlLFxuXHRcdFx0XHQoXCJhbmltYXRpb246XCIgKyAobW92ZW1lbnQgPiAwID8gJ2JwbCcgOiAnYnBmJykgKyBcIiAuM3M7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjM1c1wiKVxuXHRcdFx0KTtcblx0XHRcdHJldHVyblxuXHRcdH1cblx0XHQvLyBpZiBnYWxsZXJ5IGlzIGxvb3BlZCwgYWRqdXN0IHBvc2l0aW9uIHRvIGJlZ2lubmluZyAvIGVuZFxuXHRcdGdhbGxlcnlQb3NpdGlvbiA9IG1vdmVtZW50ID4gMCA/IC0xIDogZ2FsbGVyeUxlbmd0aCArIDE7XG5cdH1cblxuXHQvLyBub3JtYWxpemUgcG9zaXRpb25cblx0Z2FsbGVyeVBvc2l0aW9uID0gTWF0aC5tYXgoXG5cdFx0MCxcblx0XHRNYXRoLm1pbihnYWxsZXJ5UG9zaXRpb24gKyBtb3ZlbWVudCwgZ2FsbGVyeUxlbmd0aClcblx0KVxuXG5cdC8vIGxvYWQgaW1hZ2VzIGJlZm9yZSBhbmQgYWZ0ZXIgZm9yIHF1aWNrZXIgc2Nyb2xsaW5nIHRocm91Z2ggcGljdHVyZXNcblx0O1tnYWxsZXJ5UG9zaXRpb24gLSAxLCBnYWxsZXJ5UG9zaXRpb24sIGdhbGxlcnlQb3NpdGlvbiArIDFdLmZvckVhY2goXG5cdFx0ZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG5cdFx0XHQvLyBub3JtYWxpemUgcG9zaXRpb25cblx0XHRcdHBvc2l0aW9uID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocG9zaXRpb24sIGdhbGxlcnlMZW5ndGgpKTtcblx0XHRcdC8vIGNhbmNlbCBpZiBpbWFnZSBoYXMgYWxyZWFkeSBiZWVuIHByZWxvYWRlZFxuXHRcdFx0aWYgKHByZWxvYWRlZEltYWdlc1twb3NpdGlvbl0pIHsgcmV0dXJuIH1cblx0XHRcdHZhciBzcmMgPSBnYWxsZXJ5RWxzW3Bvc2l0aW9uXS5zcmM7XG5cdFx0XHQvLyBjcmVhdGUgaW1hZ2UgZm9yIHByZWxvYWRlZEltYWdlc1xuXHRcdFx0dmFyIGltZyA9IGRvY3VtZW50W2NyZWF0ZUVsXSgnSU1HJyk7XG5cdFx0XHRpbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGFkZFRvSW1nQ2FjaGUuYmluZChudWxsLCBzcmMpKTtcblx0XHRcdGltZy5zcmMgPSBzcmM7XG5cdFx0XHRwcmVsb2FkZWRJbWFnZXNbcG9zaXRpb25dID0gaW1nO1xuXHRcdH1cblx0KTtcblx0Ly8gaWYgaW1hZ2UgaXMgbG9hZGVkLCBzaG93IGl0XG5cdGlmIChwcmVsb2FkZWRJbWFnZXNbZ2FsbGVyeVBvc2l0aW9uXS5jb21wbGV0ZSkge1xuXHRcdHJldHVybiBjaGFuZ2VHYWxsZXJ5SW1hZ2UobW92ZW1lbnQpXG5cdH1cblx0Ly8gaWYgbm90LCBzaG93IGxvYWRpbmcgaWNvbiBhbmQgY2hhbmdlIHdoZW4gbG9hZGVkXG5cdGlzTG9hZGluZyA9IHRydWU7XG5cdGNoYW5nZUNTUyhsb2FkaW5nSWNvbiwgJ29wYWNpdHk6LjQ7Jyk7XG5cdGNvbnRhaW5lclthcHBlbmRFbF0obG9hZGluZ0ljb24pO1xuXHRwcmVsb2FkZWRJbWFnZXNbZ2FsbGVyeVBvc2l0aW9uXS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Z2FsbGVyeU9wZW4gJiYgY2hhbmdlR2FsbGVyeUltYWdlKG1vdmVtZW50KTtcblx0fTtcblx0Ly8gaWYgZXJyb3IsIHN0b3JlIGVycm9yIG9iamVjdCBpbiBlbCBhcnJheVxuXHRwcmVsb2FkZWRJbWFnZXNbZ2FsbGVyeVBvc2l0aW9uXS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHRcdGdhbGxlcnlFbHNbZ2FsbGVyeVBvc2l0aW9uXSA9IHtcblx0XHRcdGVycm9yOiAnRXJyb3IgbG9hZGluZyBpbWFnZScsXG5cdFx0fTtcblx0XHRnYWxsZXJ5T3BlbiAmJiBjaGFuZ2VHYWxsZXJ5SW1hZ2UobW92ZW1lbnQpO1xuXHR9O1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VHYWxsZXJ5SW1hZ2UobW92ZW1lbnQpIHtcblx0aWYgKGlzTG9hZGluZykge1xuXHRcdGNvbnRhaW5lcltyZW1vdmVFbF0obG9hZGluZ0ljb24pO1xuXHRcdGlzTG9hZGluZyA9IGZhbHNlO1xuXHR9XG5cdHZhciBhY3RpdmVFbCA9IGdhbGxlcnlFbHNbZ2FsbGVyeVBvc2l0aW9uXTtcblx0aWYgKGFjdGl2ZUVsLmVycm9yKSB7XG5cdFx0Ly8gc2hvdyBhbGVydCBpZiBlcnJvclxuXHRcdGFsZXJ0KGFjdGl2ZUVsLmVycm9yKTtcblx0fSBlbHNlIHtcblx0XHQvLyBhZGQgbmV3IGltYWdlLCBhbmltYXRlIGltYWdlcyBpbiBhbmQgb3V0IHcvIGNzcyBhbmltYXRpb25cblx0XHR2YXIgb2xkaW1nID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2ltZzpsYXN0LW9mLXR5cGUnKTtcblx0XHRkaXNwbGF5SW1hZ2UgPSBkaXNwbGF5RWxlbWVudCA9IHByZWxvYWRlZEltYWdlc1tnYWxsZXJ5UG9zaXRpb25dO1xuXHRcdGNoYW5nZUNTUyhcblx0XHRcdGRpc3BsYXlJbWFnZSxcblx0XHRcdChcImFuaW1hdGlvbjpcIiArIChtb3ZlbWVudCA+IDAgPyAnYnBmbCcgOiAnYnBmcicpICsgXCIgLjM1czt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMzVzXCIpXG5cdFx0KTtcblx0XHRjaGFuZ2VDU1Mob2xkaW1nLCAoXCJhbmltYXRpb246XCIgKyAobW92ZW1lbnQgPiAwID8gJ2JwZm9sJyA6ICdicGZvcicpICsgXCIgLjM1cyBib3RoXCIpKTtcblx0XHRjb250YWluZXJbYXBwZW5kRWxdKGRpc3BsYXlJbWFnZSk7XG5cdFx0Ly8gdXBkYXRlIGVsIGZvciBjbG9zaW5nIGFuaW1hdGlvblxuXHRcdGlmIChhY3RpdmVFbC5lbCkge1xuXHRcdFx0ZWwgPSBhY3RpdmVFbC5lbDtcblx0XHR9XG5cdH1cblx0Ly8gdXBkYXRlIGNvdW50ZXJcblx0Z2FsbGVyeUNvdW50ZXIuaW5uZXJIVE1MID0gKGdhbGxlcnlQb3NpdGlvbiArIDEpICsgXCIvXCIgKyAoZ2FsbGVyeUVscy5sZW5ndGgpO1xuXHQvLyBzaG93IC8gaGlkZSBjYXB0aW9uXG5cdHRvZ2dsZUNhcHRpb24oZ2FsbGVyeUVsc1tnYWxsZXJ5UG9zaXRpb25dLmNhcHRpb24pO1xuXHQvLyBleGVjdXRlIG9uQ2hhbmdlSW1hZ2UgY2FsbGJhY2tcblx0b25DaGFuZ2VJbWFnZSAmJiBvbkNoYW5nZUltYWdlKFtkaXNwbGF5SW1hZ2UsIGdhbGxlcnlFbHNbZ2FsbGVyeVBvc2l0aW9uXV0pO1xufVxuXG4vLyBjcmVhdGUgdmlkZW8gaWZyYW1lXG5mdW5jdGlvbiBjcmVhdGVJZnJhbWUoKSB7XG5cdHZhciB1cmw7XG5cdHZhciBwcmVmaXggPSAnaHR0cHM6Ly8nO1xuXHR2YXIgc3VmZml4ID0gJ2F1dG9wbGF5PTEnO1xuXG5cdC8vIGNyZWF0ZSBhcHByb3ByaWF0ZSB1cmxcblx0aWYgKG9wdHMueXRTcmMpIHtcblx0XHR1cmwgPSBwcmVmaXggKyBcInd3dy55b3V0dWJlLmNvbS9lbWJlZC9cIiArIHNpdGVWaWRJRCArIFwiP2h0bWw1PTEmcmVsPTAmcGxheXNpbmxpbmU9MSZcIiArIHN1ZmZpeDtcblx0fSBlbHNlIGlmIChvcHRzLnZpbWVvU3JjKSB7XG5cdFx0dXJsID0gcHJlZml4ICsgXCJwbGF5ZXIudmltZW8uY29tL3ZpZGVvL1wiICsgc2l0ZVZpZElEICsgXCI/XCIgKyBzdWZmaXg7XG5cdH0gZWxzZSBpZiAob3B0cy5pZnJhbWVTcmMpIHtcblx0XHR1cmwgPSBvcHRzLmlmcmFtZVNyYztcblx0fVxuXG5cdC8vIGFkZCBsb2FkaW5nIHNwaW5uZXIgdG8gaWZyYW1lIGNvbnRhaW5lclxuXHRjaGFuZ2VDU1MobG9hZGluZ0ljb24sICcnKTtcblx0aWZyYW1lQ29udGFpbmVyW2FwcGVuZEVsXShsb2FkaW5nSWNvbik7XG5cblx0Ly8gc2V0IGlmcmFtZSBzcmMgdG8gdXJsXG5cdGlmcmFtZVNpdGVWaWQuc3JjID0gdXJsO1xuXG5cdHVwZGF0ZUlmcmFtZURpbWVuc2lvbnMoKTtcblxuXHRzZXRUaW1lb3V0KG9wZW4sIDkpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJZnJhbWVEaW1lbnNpb25zKCkge1xuXHR2YXIgaGVpZ2h0O1xuXHR2YXIgd2lkdGg7XG5cblx0Ly8gaGFuZGxlIGhlaWdodCAvIHdpZHRoIC8gYXNwZWN0IC8gbWF4IHdpZHRoIGZvciBpZnJhbWVcblx0dmFyIHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuOTU7XG5cdHZhciB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICogMC45NTtcblx0dmFyIHdpbmRvd0FzcGVjdCA9IHdpbmRvd0hlaWdodCAvIHdpbmRvd1dpZHRoO1xuXG5cdHZhciByZWYgPSBvcHRzLmRpbWVuc2lvbnMgfHwgWzE5MjAsIDEwODBdO1xuXHR2YXIgZGltZW5zaW9uV2lkdGggPSByZWZbMF07XG5cdHZhciBkaW1lbnNpb25IZWlnaHQgPSByZWZbMV07XG5cblx0dmFyIGlmcmFtZUFzcGVjdCA9IGRpbWVuc2lvbkhlaWdodCAvIGRpbWVuc2lvbldpZHRoO1xuXG5cdGlmIChpZnJhbWVBc3BlY3QgPiB3aW5kb3dBc3BlY3QpIHtcblx0XHRoZWlnaHQgPSBNYXRoLm1pbihkaW1lbnNpb25IZWlnaHQsIHdpbmRvd0hlaWdodCk7XG5cdFx0d2lkdGggPSBoZWlnaHQgLyBpZnJhbWVBc3BlY3Q7XG5cdH0gZWxzZSB7XG5cdFx0d2lkdGggPSBNYXRoLm1pbihkaW1lbnNpb25XaWR0aCwgd2luZG93V2lkdGgpO1xuXHRcdGhlaWdodCA9IHdpZHRoICogaWZyYW1lQXNwZWN0O1xuXHR9XG5cblx0aWZyYW1lQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgKz0gXCJ3aWR0aDpcIiArIHdpZHRoICsgXCJweDtoZWlnaHQ6XCIgKyBoZWlnaHQgKyBcInB4O1wiO1xufVxuXG4vLyB0aW1lb3V0IHRvIGNoZWNrIHZpZGVvIHN0YXR1cyB3aGlsZSBsb2FkaW5nXG5mdW5jdGlvbiBjaGVja01lZGlhKGVyck1zZykge1xuXHRpZiAoflsxLCA0XS5pbmRleE9mKGRpc3BsYXlFbGVtZW50LnJlYWR5U3RhdGUpKSB7XG5cdFx0b3BlbigpO1xuXHRcdC8vIHNob3J0IHRpbWVvdXQgdG8gdG8gbWFrZSBzdXJlIGNvbnRyb2xzIHNob3cgaW4gc2FmYXJpIDExXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRkaXNwbGF5RWxlbWVudC5wbGF5KCk7XG5cdFx0fSwgOTkpO1xuXHR9IGVsc2UgaWYgKGRpc3BsYXlFbGVtZW50LmVycm9yKSB7XG5cdFx0b3BlbihlcnJNc2cpO1xuXHR9IGVsc2Uge1xuXHRcdGNoZWNrTWVkaWFUaW1lb3V0ID0gc2V0VGltZW91dChjaGVja01lZGlhLCAzNSwgZXJyTXNnKTtcblx0fVxufVxuXG4vLyBoaWRlIC8gc2hvdyBsb2FkaW5nIGljb25cbmZ1bmN0aW9uIHRvZ2dsZUxvYWRpbmdJY29uKGJvb2wpIHtcblx0Ly8gZG9uJ3Qgc2hvdyBsb2FkaW5nIGljb24gaWYgbm9Mb2FkZXIgaXMgc3BlY2lmaWVkXG5cdGlmIChvcHRzLm5vTG9hZGVyKSB7XG5cdFx0cmV0dXJuXG5cdH1cblx0Ly8gYm9vbCBpcyB0cnVlIGlmIHdlIHdhbnQgdG8gc2hvdyBpY29uLCBmYWxzZSBpZiB3ZSB3YW50IHRvIHJlbW92ZVxuXHQvLyBjaGFuZ2Ugc3R5bGUgdG8gbWF0Y2ggdHJpZ2dlciBlbGVtZW50IGRpbWVuc2lvbnMgaWYgd2Ugd2FudCB0byBzaG93XG5cdGJvb2wgJiZcblx0XHRjaGFuZ2VDU1MoXG5cdFx0XHRsb2FkaW5nSWNvbixcblx0XHRcdChcInRvcDpcIiArIChlbC5vZmZzZXRUb3ApICsgXCJweDtsZWZ0OlwiICsgKGVsLm9mZnNldExlZnQpICsgXCJweDtoZWlnaHQ6XCIgKyAoZWwuY2xpZW50SGVpZ2h0KSArIFwicHg7d2lkdGg6XCIgKyAoZWwuY2xpZW50V2lkdGgpICsgXCJweFwiKVxuXHRcdCk7XG5cdC8vIGFkZCBvciByZW1vdmUgbG9hZGVyIGZyb20gRE9NXG5cdGVsLnBhcmVudEVsZW1lbnRbYm9vbCA/IGFwcGVuZEVsIDogcmVtb3ZlRWxdKGxvYWRpbmdJY29uKTtcblx0aXNMb2FkaW5nID0gYm9vbDtcbn1cblxuLy8gaGlkZSAmIHNob3cgY2FwdGlvblxuZnVuY3Rpb24gdG9nZ2xlQ2FwdGlvbihjYXB0aW9uQ29udGVudCkge1xuXHRpZiAoY2FwdGlvbkNvbnRlbnQpIHtcblx0XHRjYXB0aW9uVGV4dC5pbm5lckhUTUwgPSBjYXB0aW9uQ29udGVudDtcblx0fVxuXHRjaGFuZ2VDU1MoXG5cdFx0Y2FwdGlvbixcblx0XHQoXCJvcGFjaXR5OlwiICsgKGNhcHRpb25Db250ZW50ID8gXCIxO3BvaW50ZXItZXZlbnRzOmF1dG9cIiA6ICcwJykpXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGFkZFRvSW1nQ2FjaGUodXJsKSB7XG5cdCF+aW1nQ2FjaGUuaW5kZXhPZih1cmwpICYmIGltZ0NhY2hlLnB1c2godXJsKTtcbn1cblxuLy8gYW5pbWF0ZSBvcGVuIG9mIGltYWdlIC8gdmlkZW87IGRpc3BsYXkgY2FwdGlvbiBpZiBuZWVkZWRcbmZ1bmN0aW9uIG9wZW4oZXJyKSB7XG5cdC8vIGhpZGUgbG9hZGluZyBzcGlubmVyXG5cdGlzTG9hZGluZyAmJiB0b2dnbGVMb2FkaW5nSWNvbigpO1xuXG5cdC8vIGV4ZWN1dGUgYW5pbWF0aW9uU3RhcnQgY2FsbGJhY2tcblx0YW5pbWF0aW9uU3RhcnQgJiYgYW5pbWF0aW9uU3RhcnQoKTtcblxuXHQvLyBjaGVjayBpZiB3ZSBoYXZlIGFuIGVycm9yIHN0cmluZyBpbnN0ZWFkIG9mIG5vcm1hbCBldmVudFxuXHRpZiAodHlwZW9mIGVyciA9PT0gJ3N0cmluZycpIHtcblx0XHRyZW1vdmVDb250YWluZXIoKTtcblx0XHRyZXR1cm4gb3B0cy5vbkVycm9yXG5cdFx0XHQ/IG9wdHMub25FcnJvcigpXG5cdFx0XHQ6IGFsZXJ0KChcIkVycm9yOiBUaGUgcmVxdWVzdGVkIFwiICsgZXJyICsgXCIgY291bGQgbm90IGJlIGxvYWRlZC5cIikpXG5cdH1cblxuXHQvLyBpZiByZW1vdGUgaW1hZ2UgaXMgbG9hZGVkLCBhZGQgdXJsIHRvIGltZ0NhY2hlIGFycmF5XG5cdHJlbW90ZUltYWdlICYmIGFkZFRvSW1nQ2FjaGUoaW1nU3JjKTtcblxuXHQvLyB0cmFuc2Zvcm0gZGlzcGxheUVsIHRvIG1hdGNoIHRyaWdnZXIgZWxcblx0ZGlzcGxheUVsZW1lbnQuc3R5bGUuY3NzVGV4dCArPSBnZXRSZWN0KCk7XG5cblx0Ly8gZmFkZSBpbiBjb250YWluZXJcblx0Y2hhbmdlQ1NTKGNvbnRhaW5lciwgXCJvcGFjaXR5OjE7cG9pbnRlci1ldmVudHM6YXV0b1wiKTtcblxuXHQvLyBzZXQgYW5pbWF0aW9uRW5kIGNhbGxiYWNrIHRvIHJ1biBhZnRlciBhbmltYXRpb24gZW5kcyAoY2xlYXJlZCBpZiBjb250YWluZXIgY2xvc2VkKVxuXHRhbmltYXRpb25FbmQgPSBzZXRUaW1lb3V0KGFuaW1hdGlvbkVuZCwgNDEwKTtcblxuXHRpc09wZW4gPSB0cnVlO1xuXG5cdGdhbGxlcnlPcGVuID0gISFnYWxsZXJ5RWxzO1xuXG5cdC8vIGVubGFyZ2UgZGlzcGxheUVsLCBmYWRlIGluIGNhcHRpb24gaWYgaGFzQ2FwdGlvblxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRkaXNwbGF5RWxlbWVudC5zdHlsZS5jc3NUZXh0ICs9ICd0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMzVzO3RyYW5zZm9ybTpub25lJztcblx0XHRjYXB0aW9uQ29udGVudCAmJiBzZXRUaW1lb3V0KHRvZ2dsZUNhcHRpb24sIDI1MCwgY2FwdGlvbkNvbnRlbnQpO1xuXHR9LCA2MCk7XG59XG5cbi8vIGNsb3NlIGFjdGl2ZSBkaXNwbGF5IGVsZW1lbnRcbmZ1bmN0aW9uIGNsb3NlKGUpIHtcblx0dmFyIHRhcmdldCA9IGUgPyBlLnRhcmdldCA6IGNvbnRhaW5lcjtcblx0dmFyIGNsaWNrRWxzID0gW1xuXHRcdGNhcHRpb24sXG5cdFx0Y2FwdGlvbkhpZGVCdXR0b24sXG5cdFx0ZGlzcGxheVZpZGVvLFxuXHRcdGRpc3BsYXlBdWRpbyxcblx0XHRjYXB0aW9uVGV4dCxcblx0XHRsZWZ0QXJyb3dCdG4sXG5cdFx0cmlnaHRBcnJvd0J0bixcblx0XHRsb2FkaW5nSWNvbiBdO1xuXG5cdC8vIGJsdXIgdG8gaGlkZSBjbG9zZSBidXR0b24gZm9jdXMgc3R5bGVcblx0dGFyZ2V0LmJsdXIoKTtcblxuXHQvLyBkb24ndCBjbG9zZSBpZiBvbmUgb2YgdGhlIGNsaWNrRWxzIHdhcyBjbGlja2VkIG9yIGNvbnRhaW5lciBpcyBhbHJlYWR5IGNsb3Npbmdcblx0aWYgKGlzQ2xvc2luZyB8fCB+Y2xpY2tFbHMuaW5kZXhPZih0YXJnZXQpKSB7XG5cdFx0cmV0dXJuXG5cdH1cblxuXHQvLyBhbmltYXRlIGNsb3Npbmdcblx0ZGlzcGxheUVsZW1lbnQuc3R5bGUuY3NzVGV4dCArPSBnZXRSZWN0KCk7XG5cdGNoYW5nZUNTUyhjb250YWluZXIsICdwb2ludGVyLWV2ZW50czphdXRvJyk7XG5cblx0Ly8gdGltZW91dCB0byByZW1vdmUgZWxzIGZyb20gZG9tOyB1c2UgdmFyaWFibGUgdG8gYXZvaWQgY2FsbGluZyBtb3JlIHRoYW4gb25jZVxuXHRzZXRUaW1lb3V0KHJlbW92ZUNvbnRhaW5lciwgMzUwKTtcblxuXHQvLyBjbGVhciBhbmltYXRpb25FbmQgdGltZW91dFxuXHRjbGVhclRpbWVvdXQoYW5pbWF0aW9uRW5kKTtcblxuXHRpc09wZW4gPSBmYWxzZTtcblx0aXNDbG9zaW5nID0gdHJ1ZTtcbn1cblxuLy8gcmVtb3ZlIGNvbnRhaW5lciAvIGRpc3BsYXkgZWxlbWVudCBmcm9tIHRoZSBET01cbmZ1bmN0aW9uIHJlbW92ZUNvbnRhaW5lcigpIHtcblx0Ly8gY2xlYXIgc3JjIG9mIGRpc3BsYXlFbGVtZW50IChvciBpZnJhbWUgaWYgZGlzcGxheSBlbCBpcyBpZnJhbWUgY29udGFpbmVyKVxuXHQvLyBuZWVkcyB0byBiZSBkb25lIGJlZm9yZSByZW1vdmluZyBjb250YWluZXIgaW4gSUVcblx0dmFyIHNyY0VsID1cblx0XHRkaXNwbGF5RWxlbWVudCA9PT0gaWZyYW1lQ29udGFpbmVyID8gaWZyYW1lU2l0ZVZpZCA6IGRpc3BsYXlFbGVtZW50O1xuXHRzcmNFbC5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuXG5cdC8vIHJlbW92ZSBjb250YWluZXIgZnJvbSBET00gJiBjbGVhciBpbmxpbmUgc3R5bGVcblx0ZG9jdW1lbnQuYm9keVtyZW1vdmVFbF0oY29udGFpbmVyKTtcblx0Y29udGFpbmVyW3JlbW92ZUVsXShkaXNwbGF5RWxlbWVudCk7XG5cdGNoYW5nZUNTUyhjb250YWluZXIsICcnKTtcblx0Y2hhbmdlQ1NTKGRpc3BsYXlFbGVtZW50LCAnJyk7XG5cblx0Ly8gcmVtb3ZlIGNhcHRpb25cblx0dG9nZ2xlQ2FwdGlvbihmYWxzZSk7XG5cblx0aWYgKGdhbGxlcnlPcGVuKSB7XG5cdFx0Ly8gcmVtb3ZlIGFsbCBnYWxsZXJ5IHN0dWZmXG5cdFx0dmFyIGltYWdlcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29udGFpbmVyW3JlbW92ZUVsXShpbWFnZXNbaV0pO1xuXHRcdH1cblx0XHRpc0xvYWRpbmcgJiYgY29udGFpbmVyW3JlbW92ZUVsXShsb2FkaW5nSWNvbik7XG5cdFx0Y29udGFpbmVyW3JlbW92ZUVsXShnYWxsZXJ5Q291bnRlcik7XG5cdFx0Z2FsbGVyeU9wZW4gPSBnYWxsZXJ5RWxzID0gZmFsc2U7XG5cdFx0cHJlbG9hZGVkSW1hZ2VzID0ge307XG5cdFx0c3VwcG9ydHNUb3VjaCB8fCBjb250YWluZXJbcmVtb3ZlRWxdKHJpZ2h0QXJyb3dCdG4pO1xuXHRcdHN1cHBvcnRzVG91Y2ggfHwgY29udGFpbmVyW3JlbW92ZUVsXShsZWZ0QXJyb3dCdG4pO1xuXHRcdC8vIGluIGNhc2UgZGlzcGxheWltYWdlIGNoYW5nZWQsIHdlIG5lZWQgdG8gdXBkYXRlIGV2ZW50IGxpc3RlbmVyc1xuXHRcdGRpc3BsYXlJbWFnZS5vbmxvYWQgPSBvcGVuO1xuXHRcdGRpc3BsYXlJbWFnZS5vbmVycm9yID0gb3Blbi5iaW5kKG51bGwsICdpbWFnZScpO1xuXHR9XG5cblx0Ly8gcnVuIGNsb3NlIGNhbGxiYWNrXG5cdG9wdHMub25DbG9zZSAmJiBvcHRzLm9uQ2xvc2UoKTtcblxuXHRpc0Nsb3NpbmcgPSBpc0xvYWRpbmcgPSBmYWxzZTtcbn1cblxuLy8gc3R5bGUgaGVscGVyIGZ1bmN0aW9uc1xuZnVuY3Rpb24gY2hhbmdlQ1NTKHJlZiwgbmV3U3R5bGUpIHtcblx0dmFyIHN0eWxlID0gcmVmLnN0eWxlO1xuXG5cdHN0eWxlLmNzc1RleHQgPSBuZXdTdHlsZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCaWdQaWN0dXJlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/bigpicture/index.js\n");

/***/ }),

/***/ "./pages/me.js":
/*!*********************!*\
  !*** ./pages/me.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Me; });\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/head */ \"./node_modules/next/dist/next-server/lib/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var bigpicture__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! bigpicture */ \"./node_modules/bigpicture/index.js\");\n/* harmony import */ var bigpicture__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(bigpicture__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _styles_me_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../styles/me.scss */ \"./styles/me.scss\");\n/* harmony import */ var _styles_me_scss__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_styles_me_scss__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\nvar _jsxFileName = \"/Users/ranronghua/Desktop/nextjs-pagenote/pages/me.js\";\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\nfunction decryptedData(data) {\n  var result = {};\n\n  try {\n    result = JSON.parse(decodeURI(atob(data)));\n  } catch (e) {}\n\n  return result;\n}\n\nvar Me = /*#__PURE__*/function (_Component) {\n  Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Me, _Component);\n\n  var _super = _createSuper(Me);\n\n  function Me(props) {\n    var _this;\n\n    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, Me);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      data: {},\n      pages: []\n    };\n    return _this;\n  }\n\n  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Me, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      document.getElementById('myCustomEventDiv').addEventListener('myCustomEvent', function () {\n        var eventData = document.getElementById('myCustomEventDiv').innerText;\n        var data = {};\n\n        try {\n          data = JSON.parse(eventData);\n        } catch (e) {}\n\n        var pages = [];\n        Object.keys(data).forEach(function (key) {\n          var currentPage = data[key];\n\n          try {\n            var tempData = typeof data[key] === 'object' && currentPage.plainData ? currentPage.plainData : decryptedData(typeof data[key] === 'object' ? data[key].data : data[key]); // const tempObject = {\n            //     href: key,\n            //     // 兼容历史数据，6月份之后可以考虑不再支持历史数据\n            //     data: ,\n            // };\n\n            pages.push(tempData);\n          } catch (e) {}\n        });\n\n        _this2.setState({\n          pages: pages,\n          data: data\n        });\n      });\n    }\n  }, {\n    key: \"bigPicture\",\n    value: function bigPicture(e, snapshot) {\n      bigpicture__WEBPACK_IMPORTED_MODULE_7___default()({\n        el: e.target,\n        imgSrc: snapshot,\n        animationEnd: function animationEnd() {}\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          data = _this$state.data,\n          pages = _this$state.pages;\n      console.log(pages);\n      return __jsx(\"div\", {\n        className: \"me\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, __jsx(next_head__WEBPACK_IMPORTED_MODULE_6___default.a, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, __jsx(\"title\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }\n      }, \"PAGENOTE \\u4E2A\\u4EBA\\u4E2D\\u5FC3\")), __jsx(\"section\", {\n        className: \"pages\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }, pages.map(function (page) {\n        return __jsx(\"div\", {\n          key: page.url,\n          className: \"page-item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }\n        }, __jsx(\"div\", {\n          className: \"page-title\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 33\n          }\n        }, page.title), __jsx(\"div\", {\n          className: \"page-link\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 33\n          }\n        }, __jsx(\"a\", {\n          target: \"_blank\",\n          href: page.url,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 37\n          }\n        }, page.url), __jsx(\"a\", {\n          onClick: function onClick() {\n            _this3.bigPicture(page.snapshot);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 37\n          }\n        }, \"\\u5FEB\\u7167\")));\n      })), __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        id: \"myCustomEventDiv\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return Me;\n}(react__WEBPACK_IMPORTED_MODULE_5__[\"Component\"]);\n\n\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports_1 = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports_1, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports_1)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports_1;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports_1)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9tZS5qcz82YmMwIl0sIm5hbWVzIjpbImRlY3J5cHRlZERhdGEiLCJkYXRhIiwicmVzdWx0IiwiSlNPTiIsInBhcnNlIiwiZGVjb2RlVVJJIiwiYXRvYiIsImUiLCJNZSIsInByb3BzIiwic3RhdGUiLCJwYWdlcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnREYXRhIiwiaW5uZXJUZXh0IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJjdXJyZW50UGFnZSIsInRlbXBEYXRhIiwicGxhaW5EYXRhIiwicHVzaCIsInNldFN0YXRlIiwic25hcHNob3QiLCJCaWdQaWN0dXJlIiwiZWwiLCJ0YXJnZXQiLCJpbWdTcmMiLCJhbmltYXRpb25FbmQiLCJjb25zb2xlIiwibG9nIiwibWFwIiwicGFnZSIsInVybCIsInRpdGxlIiwiYmlnUGljdHVyZSIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0EsYUFBVCxDQUF1QkMsSUFBdkIsRUFBNkI7QUFDekIsTUFBSUMsTUFBTSxHQUFHLEVBQWI7O0FBQ0EsTUFBRztBQUNDQSxVQUFNLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXQyxTQUFTLENBQUNDLElBQUksQ0FBQ0wsSUFBRCxDQUFMLENBQXBCLENBQVQ7QUFDSCxHQUZELENBRUMsT0FBT00sQ0FBUCxFQUFVLENBRVY7O0FBQ0QsU0FBT0wsTUFBUDtBQUNIOztJQUVvQk0sRTs7Ozs7QUFFakIsY0FBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBOztBQUNmLDhCQUFNQSxLQUFOO0FBQ0EsVUFBS0MsS0FBTCxHQUFXO0FBQ1BULFVBQUksRUFBRSxFQURDO0FBRVBVLFdBQUssRUFBQztBQUZDLEtBQVg7QUFGZTtBQU1sQjs7Ozt3Q0FHbUI7QUFBQTs7QUFDaEJDLGNBQVEs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QUk7QUFBQyxrQkFBSSxDQUFDRSxVQUFMLENBQWdCSCxJQUFJLENBQUNULFFBQXJCO0FBQStCLFdBQWhEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsMEJBRkosQ0FGSixDQURNO0FBQUEsT0FBVixDQUZSLENBSkosRUFpQkk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQUNJO0FBQUssVUFBRSxFQUFDLGtCQUFSO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsUUFESixDQWpCSixDQURKO0FBdUJIOzs7O0VBaEYyQmEsK0MiLCJmaWxlIjoiLi9wYWdlcy9tZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnXG5pbXBvcnQgQmlnUGljdHVyZSBmcm9tICdiaWdwaWN0dXJlJ1xuaW1wb3J0ICcuLi9zdHlsZXMvbWUuc2NzcydcblxuZnVuY3Rpb24gZGVjcnlwdGVkRGF0YShkYXRhKSB7XG4gICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgIHRyeXtcbiAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShkZWNvZGVVUkkoYXRvYihkYXRhKSkpO1xuICAgIH1jYXRjaCAoZSkge1xuXG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lIGV4dGVuZHMgQ29tcG9uZW50e1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlPXtcbiAgICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgICAgcGFnZXM6W10sXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlDdXN0b21FdmVudERpdicpLmFkZEV2ZW50TGlzdGVuZXIoJ215Q3VzdG9tRXZlbnQnLCAoKT0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteUN1c3RvbUV2ZW50RGl2JykuaW5uZXJUZXh0O1xuICAgICAgICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShldmVudERhdGEpXG4gICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGFnZXMgPSBbXTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goKGtleSk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IGRhdGFba2V5XTtcbiAgICAgICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBEYXRhID0gKHR5cGVvZiBkYXRhW2tleV09PT0nb2JqZWN0JyAmJiBjdXJyZW50UGFnZS5wbGFpbkRhdGEpID8gY3VycmVudFBhZ2UucGxhaW5EYXRhIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY3J5cHRlZERhdGEodHlwZW9mIGRhdGFba2V5XT09PSdvYmplY3QnID8gZGF0YVtrZXldLmRhdGEgOiBkYXRhW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCB0ZW1wT2JqZWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaHJlZjoga2V5LFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8g5YW85a655Y6G5Y+y5pWw5o2u77yMNuaciOS7veS5i+WQjuWPr+S7peiAg+iZkeS4jeWGjeaUr+aMgeWOhuWPsuaVsOaNrlxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGF0YTogLFxuICAgICAgICAgICAgICAgICAgICAvLyB9O1xuICAgICAgICAgICAgICAgICAgICBwYWdlcy5wdXNoKHRlbXBEYXRhKTtcbiAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgcGFnZXM6IHBhZ2VzLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBiaWdQaWN0dXJlKGUsc25hcHNob3Qpe1xuICAgICAgICBCaWdQaWN0dXJlKHtcbiAgICAgICAgICAgIGVsOiBlLnRhcmdldCxcbiAgICAgICAgICAgIGltZ1NyYzogc25hcHNob3QsXG4gICAgICAgICAgICBhbmltYXRpb25FbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHtkYXRhLHBhZ2VzfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnNvbGUubG9nKHBhZ2VzKVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWUnPlxuICAgICAgICAgICAgICAgIDxIZWFkPlxuICAgICAgICAgICAgICAgICAgICA8dGl0bGU+UEFHRU5PVEUg5Liq5Lq65Lit5b+DPC90aXRsZT5cbiAgICAgICAgICAgICAgICA8L0hlYWQ+XG4gICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPSdwYWdlcyc+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VzLm1hcCgocGFnZSk9PihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17cGFnZS51cmx9IGNsYXNzTmFtZT0ncGFnZS1pdGVtJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhZ2UtdGl0bGUnPntwYWdlLnRpdGxlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncGFnZS1saW5rJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRhcmdldD0nX2JsYW5rJyBocmVmPXtwYWdlLnVybH0+e3BhZ2UudXJsfTwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIG9uQ2xpY2s9eygpPT57dGhpcy5iaWdQaWN0dXJlKHBhZ2Uuc25hcHNob3QpfX0+5b+r54WnPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0nbXlDdXN0b21FdmVudERpdic+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/me.js\n");

/***/ })

})